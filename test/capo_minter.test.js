import { strictEqual } from "node:assert"
import { test } from "node:test"
import { isLeft, isRight } from "@helios-lang/type-utils"
import {
    makeBasicUplcLogger,
    makeConstrData,
    makeUplcDataValue,
    decodeUplcData
} from "@helios-lang/uplc"
import { DEFAULT_PARSE_OPTIONS, compile } from "../src/index.js"

/**
 * @typedef {import("@helios-lang/uplc").UplcProgramV2} UplcProgramV2
 */

test("unoptimized and optimized CapoMinter behave the same", () => {
    const json = {
        version: "PlutusV2",
        createdBy: "302",
        optimizeOptions: {
            keepTracing: true
        },
        programElements: {
            "src/minting/CapoMinter.hl":
                "065a98ee173994bdf3296c9952fb05cb9d7bdfb73b073d8f5f9b17a59ebcca13",
            "src/CapoMintHelpers.hl":
                "a84fc68e87bd098ee3e1f771a746dc41d11a66336e67711b14216766356ed662",
            "src/delegation/CapoDelegateHelpers.hl":
                "33b4658df1b0fd688388c5fe1e0345d6f5298313dfce853bf4b661c4b41d0fef",
            "src/StellarHeliosHelpers.hl":
                "e7f4738ff59839269e3a7fe66d55d438a86a47be091435f96f6f1cf508cc75e4",
            "src/CapoHelpers.hl":
                "4d85338187166343174f0847503565c0ce43dc449861cecd3798ef6a9d736989",
            "src/TypeMapMetadata.hl":
                "6b2e8d518b38644ca648efa5de4529469c5cdeb09360bdf4987e463078be4e4f",
            params: {
                "CapoMinter::seedTxn":
                    "const seedTxn: TxId = ##d8799f58200000000000000000000000000000000000000000000000000000000000000000ff;",
                "CapoMinter::seedIndex": "const seedIndex: Int = ##00;",
                "CapoMinter::rev": "const rev: Int = ##01;"
            }
        },
        unoptimized:
            "5951db5951d80100002232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232533357346002666666601c01801401201000e00a106062930984081a491976616c69646174696f6e2072657475726e65642066616c736500232323357366610406661020629444cc2000d4c3f8080114c3f808011241026e6f003357366610406661020629444cc2000d4c3f0080194c3f0080192401026e6f0033573661f604661f4049212120f09f9aa5e29d93204361706f206d696e7465723a20706f6c6963792069643a2000530f70250ed023233573661f8049211c0a0af09f9aa5f09f9fa2204361706f206d696e7465723a206f6b210a0000132353335734602000224646464646466ae6cc2080d2411a20202d2d206372656174696e67204361706f2063686172746572003357366661960292011b6d757374206d696e7420746865206368617274657220746f6b656e004a09319ab9b3308903330e802008005491186368617274657220746f6b656e206e6f74206d696e74656400323233573666619a029201456d757374206d696e74207575747320666f72206d696e744467742c207370656e644467742c20616e6420676f7641757468207573696e67207468652073616d652073656564004a0931919ab9b30850333084034901110a20202d2d206d696e7473557574733a2000530ea02001330e90214a2200266666666666666603601600400694400528803a504992824c941264a0931812800998718100680619aba030e10200333574061c20400466ae80c38408004dd8a4c921087370656e64446774004901076d696e74446774004901076361706f476f760033333330c5010044a292010763686172746572004a09325049854ccd5cd18070008919ab9b30fd0249011c6d696e745769746844656c6567617465417574686f72697a696e670a003020004124a200200661aa041a804a1d60461a00498101010030cf024c0101000030cc024c0126d8799f58200000000000000000000000000000000000000000000000000000000000000000ff00253333335748002264a666ae68cdc39aab9d001480284c94cccccd5d20008a5014a0264a666aae7c0045280992999ab9a30cb0200113253335573e00229404c94ccd5cd1804000899199aab9f0014a2940d5d10010a50357420026ae880085281aba1001375800229405281ba735573c0022940dd50008a5014a0294052812999999aba400113232325333573466e1c0092000153335573e002294054ccd55cf9aba2001130c80235742002294054ccd5cd19b87002480084ccd55cf800a514a02940d55cf0011aab9d001375400229405280a5014a04a666666ae900044c94ccd5cd19b8735573a00290040992999999aba400114a029404c94ccd55cf8008a5013253335734619204002264666aae7c00528a50357440042940d5d08009bac00114a02940dd39aab9e00114a06ea80045280a5014a0294094cccccd5d20008992999ab9a3370e6aae7400520061325333333574800229405280992999aab9f00114a0264a666ae68c320080044c8ccd55cf800a514a06ae880085281aba1001375800229405281ba735573c0022940dd50008a5014a0294052812999999aba40011325333573466e1cd55ce800a4008264a666666ae900045280a5013253335573e00229404c94ccd5cd186381000899199aab9f0014a2940d5d10010a50357420026eb00045280a50374e6aae780045281baa00114a029405280a50253333335748002264a666ae68cdc39aab9d001480084c94cccccd5d20008a5014a0264666aae7c00528a50375800229405281ba735573c0022940dd50008a5014a0294052811985f81000a40044a666666ae900044c94ccd5cd19b8735573a00290000992999999aba400114a029404c94ccd55cf8008a5013253335734617204002264666aae7c00528a50357440042940d5d08009bac00114a02940dd39aab9e00114a06ea80045280a5014a029408cc2f408005200022222223200253335734666666601000e00c00a008006004002293099ab9c4901245761726e696e673a20696e76616c6964204d696e746572416374697669747920646174610049888888894ccd5cd18010008a511533357346006002294454ccd5cd18020008a51153335734600a002294454ccd5cd18030008a51153335734600e00229445281111111111111111919191919191919191919ab9b5333573461e6046618c04004032266ae6cc2080d24013620202d2d206e6f206d696e742066726f6d206f757220706f6c69637920617420286d70682c2076616c75654d696e746564293a20282000335736610406a61fc0403266ae6cc2080d4c30408008cd5cd984101a4902290a00308a0349011d76616c69646174655575744d696e74696e6728293a206e6f206d696e740015133089034a2921026e6f0033573661040666102066610206661020666102069201180a20202d2d207575742d6d696e74696e6720736565643a2000530bf0230be02018490105f09f94b92300530c20230bd020184901010a0033573666046661780400203244610806661060666106066610606661060692011a20202020e284b9efb88f20f09f909e2065787065637465643a2000530c402001490102782000530bd020024901010a0032335736a666ae6928899ab9b330240012230850333084033308403330840333084034911a20202020e284b9efb88f20f09f909e20202061637475616c3a2000530c502001490102782000530be020024901010a00335736610606a618404617604660bca6174040064466174040040386106069211e5e206f7468657220706f6c6963792076616c756573206d696e746564200a001513308a034a2921056e6576657200323357366611606661140629444cc08c00400524011270726576656e7420756e7573656420766172003233573666118060029201146d69736d6174636820696e20555554206d696e74003357366611806660601be040369201076e6f207365656400335736610a0692011e20e29c852076616c69646174655575744d696e74696e673a20206f6b210a00330e90210061001330b802004003333021001222323533357346048002246604800a0082461200692116555554206475706c696361746520707572706f736520000013302100323308c030010033762931985e0100100c99859011985901004003980d9980d1980c80b111985901001000919999998650080ca51300a0014a093250498c36c08368094ccd5cd0008a5115132325333573400c266666604e002030944015288020a8a51304f001330ad023330400164a0932400061de04a61540400aa666ae6801c4018409d4ccd5cd00408038a5153335734012201029454ccd5cd00508048852812999ab9a00b100a10a4025333573401820162603401c44661260400444660066128040046128040024466612004004461200460046124040026ec526232330010010022253335573e00221280426613404611c04611a046ae84004cc008008d5d100091199845010011180118718100085f811119aba030ac020010022330b40200148008888ccc2a00800c88ccc010008c38808d55ce8009860011aab9e001001223375e60060046006002e9c88c8cc00400400c894ccd55cf8008a4c26466ae6ccc010c37c08d55ce800985e811aab9e00133003003357440046ae840048c8c8c8c8c8c8c88cc39808cc398080052401012d00002530e20200133308402530830200148001200c5333573466102046100040049009099ab9b330ea024a09211663626f722874786f496429206c656e203e203920212100002151330ff01330ff01001530fe01490101400000233308202530e30200348029204a530e402001309b02002309b0200123233573661be04921254d696e746572206e65656473206d696e74446774202b206d696e742061637469766974790a00335736666150029201634558504543545320746865206170706c69636174696f6e2d7370656369666963206d696e7444656c656761746520746f206578706c696369746c7920636865636b20616e6420617070726f7665207468652066756c6c206d696e7465642076616c7565004a09319ab9b30df0249148202020202d2d205e20652e672e206173736572742874782e6d696e7465642e6765745f706f6c696379286d706829203d3d2065787065637465644d696e74656456616c7565293b0a0033573661be0492013b202020202d2d2d2d202869662069742773206f6e6c7920726573706f6e7369626c6520666f72206f6e65206d696e74696e6720706f6c696379290a0033573661520292011f6d75737420656e666f726365206d696e74696e6720696e76617269616e74730032323235333573460ea0022464646a666ae68c2200400448cd5cd985800a49746d616b652074686973206f62736f6c6574653a2067656e65726963206372656174696e6744656c6567617465202875736520717565756550656e64696e674467744368616e676520616e6420636f6d6d697474696e6750656e64696e674467744368616e67657320696e2073657175656e63652900330ca02133301b0074a0930a51153335734610c020022466ae6cc3980924013c20202d2d206f6b3a206d696e74446774207573696e67204361706f4c6966656379636c652e717565756550656e64696e674467744368616e6765290a00330ca02133301b0074a0930a511533357346100020022461dc04920160696e76616c696420666f7263696e674e65775370656e6444656c6567617465206163746976697479206f6e206d696e7444677420286573636170652d686174636820726573657276656420666f72204d696e7465722f4361706f2070616972290015333573460fc0022461dc0492015f696e76616c696420666f7263696e674e65774d696e7444656c6567617465206163746976697479206f6e206d696e7444677420286573636170652d686174636820726573657276656420666f72204d696e7465722f4361706f207061697229001230ee0249015d6d696e74206467742063616e206f6e6c7920617070726f7665204361706f4c6966656379636c65416374697669746965732e717565756550656e64696e674467744368616e6765206f72206e6f6e2d434c41206163746976697469657300001001307400115333573460de0022461d6049212b44656c6567617465496e7075743a3a5370656e64696e6741637469766974792063616e2774206d696e74210015333573460e40022464646a666ae68c2900400448cd5cd985800a492472656c61792064656c656761746520696e7374616c6c6174696f6e2073657175656e63650033573661cc0492013420202d2d2054454d504f524152593a20746865206d696e742064656c6567617465206973206265696e67207265706c616365640a004a22a666ae68c2880400448c3b80924119444c413a3a5265746972696e672063616e2774206d696e7421001230ee02490123444c413a3a56616c69646174696e6753657474696e67732063616e2774206d696e742100001001307100115333573460da0022466ae6cc38c092412920202d2d206170702d7370656369666963206d696e74696e673b207472757374206d696e744467740a00330c70213330180044a0930a5115333573460d60022466ae6cc38c0924012820202d2d206170702d7370656369666963206275726e696e673b207472757374206d696e7444677400330c70213330180044a0930a5115333573460d20022466ae6cc38c0924012320202d2d206d696e7420666f72206467446174613b207472757374206d696e7444677400330c70213330180044a0930a5115333573460ca0022466ae6cc38c0924012320202d2d206275726e20666f72206467446174613b207472757374206d696e7444677400330c70213330180044a0930a5115333573460ce0022461d60492014d696e76616c6964206d696e742d64656c656761746520616374697669747920666f72206d696e74696e673b205570646174696e6744656c656761746564446174756d2063616e2774206d696e74001232330c80213330190054a0930998049980400099999999983c03b0398380370360350340330311191a999ab9a306d001124a22a666ae68c1a400449288a999ab9a30710011230ef02491456d696e744467743a204d756c7469706c6544656c6567617465416374697669746965733a206e6573746564204d696e74696e674163746976697469657320696e76616c69640015333573460de0022461de049201456d696e744467743a204d756c7469706c6544656c6567617465416374697669746965733a206e6573746564204275726e696e674163746976697469657320696e76616c69640015333573460ce0022461de0492014e6d696e744467743a204d756c7469706c6544656c6567617465416374697669746965733a206e6573746564204d756c7469706c6544656c65676174654163746976697469657320696e76616c69640015333573460d60022461de049201496d696e744467743a204d756c7469706c6544656c6567617465416374697669746965733a206e6573746564205570646174696e6744656c6567617465644461746120696e76616c69640015333573460e60022461de049201466d696e744467743a204d756c7469706c6544656c6567617465416374697669746965733a206e6573746564205370656e64696e674163746976697469657320696e76616c69640015333573460f20022461de0492014b6d696e744467743a204d756c7469706c6544656c6567617465416374697669746965733a206e6573746564204361706f4c6966656379636c654163746976697469657320696e76616c6964001230ef0249014f6d696e744467743a204d756c7469706c6544656c6567617465416374697669746965733a206e65737465642044656c65676174654c6966656379636c654163746976697469657320696e76616c696400001001305f0010010015330160160013333301000f00d0014a09329805980500091199842810011183a9801187c808009bb149888cc3d8040088c008cccccccccc1c81c01b41a81a0198190188180170004888888c8c8c8cd5cd99985600a4814472657175697265732074686520636861727465722773206d696e742d64656c656761746520746f20617574686f72697a652074686973206d696e74206163746976697479004a09319ab9b30e302330e20249011a20202d2d2066696e64696e6720696e707574206467546b6e3a200030570093233573661c80492124202020202d2d20e29c8520e29ea1efb88f2020f09f9281666f756e64206467546b6e205e0032323232330cc02100110024a2646a666ae68c04000448c3c00800c48c8c8c8d4ccd5cd183d800891919ab9b30b701490147564552494659207765202d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d20646f6e2774206e656564207468652066756e6e792072656465656d65722d636865636b20736b697070696e6700335736a666ae68c378080344cd5cd9876812494a207676762077686572657665722069742069732c2070726f6261626c79206265737420697420757365732074686520636865636b4d696e744467744163746976697479206f7074696f6e0030f50249013c77686572652069732065787472614d696e7444656c656761746552656465656d6572436865636b3d66616c7365207265616c6c79206e65656465643f00151498c8d4ccd5cd1856808008919ab9b30ef024911520202d2d206f6b2c206467546b6e207370656e740a004a22a666ae68c2ac0400448c3dc0924119444c413a3a5265746972696e672063616e2774206d696e7421001230f702490123444c413a3a56616c69646174696e6753657474696e67732063616e2774206d696e742100001001307a00112300b003001001333333333307d07b07807507307106f06d06b06700130100010013300d30f8010c002002330e402330e4024901066467546b6e2000305900b4911c206e6f74206265696e67207370656e7420617320657870656374656400330a70130f6010be0223235333573461ee0200224661ec0261ea0200200824940004004c8d4ccd5cd182980089191879808009826000891876811987201249172020e29d8ce29d8c206d697373696e67206467546b6e2000305900b0013305130ef010bd022330ef0130ec01001002330e901330e801007530fd013056008480094ccd5cd00188010805a999ab9a004100314a24466661c00200461be02002466e95200030bf0200113374a900106501118798098688100091985401000a4004466ae6cc35c092415179696b65732c2065787065637465642044656c65676174654c6966656379636c65416374697669746965733a5265706c6163696e674d65206f7220617574686f72697a696e6744656c656761746520200a0033573661ae0492018d2020202d2d206e6f74653a20666f72206f746865722063617365732c2074686520636865636b4d696e744467744163746976697479282028416273747261637444656c656761746541637469766974696573456e756d29202d3e20426f6f6c293a206f7074696f6e2063616e2070726f7669646520636f6e746578742d737065636966696320636865636b730a00335736661bc0494124011c756e65787065637465642064656c6567617465206163746976697479004a04466ae6d4ccd5cd1864011981d98718080111987380987280800801099ab9b30d70249116202d20657870656374656420736565645574786f3a200033573661ae04a61b40200266ae6cc35c092401010a00330de024a09201276d697373696e67206578706563746564207365656420696e70757420666f72206d696e74696e6700151498cd5cd986b812491420202d2d206861732073656564202d3e206f6b0a004a246600e002a03e4266ae6cccc2740524013d726571756972657320746865206368617274657220746f206265207265666572656e63656420696e207468652074786e2c2062757420756e7370656e74004a09319191a999ab9a301f0011200415333573460360022461be049201314361706f4374782e776974684368617274657252656628293a20636861727465722069732066726f6d20696e70757473210012323232323300d003330210010023308802302b30dc0130d90100148000c06c004c030004010004004c01c0048888888c8c8ccccc05402001c004ccccc11c020c39c042d408c03c025288011807804a999ab9a0031002150095333573400820062944433c0484c8d4ccd5cd180d8008919000980d0008a999ab9a3017001123200130160011230db02491984361706f4374782e676574436861727465724461746128293a20756e6b6e6f776e20636861727465722073747261746567793b2075736520726573756c74206f66207769746843686172746572496e70757428292c20776974684368617274657252656628292c206f72206e6565647343686172746572282920746f207265736f6c7665206368617274657220646174756d2066697273740000130040012222232323333333006005001508d014a200494126302453006004533357340042002294488cd5d0184a8100119aba0301e0013762931199980d00c80b00918650080091863811864008009111919999981b980700218058022514a29440054ccd5cd00108008a824110999999999983002f02d82c02b02a0290280270252980180090991919ab9b32353335734618e0200224646466ae6cc34008cc33c092412e202020202d2df09f909e2067656e657269632064656c656761746520616374697669747920617420696e6465782000530900200233573661a0046619e046619e046619e0492117202020202d2d2d2d2066726f6d20696e7075742069643a005308d02308c0230dd01006490105f09f94b923005309002308b0230dd0100633573661a0046619e0492109202020202020203d20005308f0230d801006335736661ae0466192020040049201066e6f2077617900330d702330ee013009001480012401066e6f207761790030c70100230c50100112498004004004c234040054c008c01c00484c2fc04c304080042f00488888cd5d0182000299aba030850100433574060d000666ae80c018008cd5d01848010009bb1498274088c2fc08c2d8040048c008c2d0040048c80094ccd5cd18018008a4c266ae7124011c5761726e696e673a20696e76616c6964206f7074696f6e2064617461004988c0e0c2f40400494cccccd5d200089919192999ab9a3370e00490000a999aab9f00114a02a666aae7cd5d100089859009aba100114a02a666ae68cdc3801240042666aae7c00528a5014a06aae78008d55ce8009baa00114a029405280a502223232323232001330f401301730c80130c50100148000c8d4ccd5cd181a8008919000981700089191a999ab9a3037001123200130300011230d1024901234d697373696e67206368617274657220696e70757473202f207265665f696e70757473000013303530d3010a102003001330330030012330d00130cd01001002308a010045333573400420022615e02138044646466ae6cc304092411e67657474696e67207265665f696e70757420666f7220636861727465720a0032001323533357346062002246400260540022466ae6cc30c0924116657870656374656420636861727465722076616c756500335736618604a61040400866ae6cc30c092401010a0030cb0249015d4d697373696e67206368617274657220696e207265717569726564207265665f696e707574732028757365207463785769746843686172746572526566287463782920696e2074786e206275696c64696e672066756e6374696f6e7329000013302f30ae0109b020012330cc0130c9010010023086010012300f30b602001253333335748002264a666ae68cdc39aab9d001480104c94cccccd5d20008a5014a0264a666aae7c0045280992999ab9a301300113253335573e00229404c94ccd5cd185880800899199aab9f0014a2940d5d10010a50357420026ae880085281aba1001375800229405281ba735573c0022940dd50008a5014a0294052811984601000a40084466e952002335740601800466ae80c2a004004dd8a4c460166164040024a666666ae900044c94ccd5cd19b8735573a00290010992999999aba400114a029404c94ccd55cf8008a5013253335734601e002264a666aae7c0045280992999ab9a30ad010011323335573e002945281aba200214a06ae84004d5d10010a50357420026eb00045280a50374e6aae780045281baa00114a029405280a5023308802001480084cdd2a40006ec526253333335748002264a666ae68cdc39aab9d001480004c94cccccd5d20008a5014a0264666aae7c00528a50375800229405281ba735573c0022940dd50008a5014a029405281111190012999ab9a333300500400300200114984cd5ce2492b5761726e696e673a20696e76616c696420636374785f43686172746572496e7075745479706520646174610049888894ccd5cd18010008a511533357346006002294454ccd5cd18020008a5114a01140446050613a0200211004464004a666ae68c0080045261335738921215761726e696e673a20696e76616c696420436861727465724461746120646174610049894cccccd5d20008992999ab9a3370e6aae7400520001325333333574800229405280992999aab9f00114a0264a666ae68c0a80044c94ccd55cf8008a5013253335734601c002264a666aae7c0045280992999ab9a300e00113253335573e00229404c94ccd5cd18180008992999aab9f00114a0264a666ae68c0500044c94ccd55cf8008a50132533357346068002264a666aae7c0045280992999ab9a301400113253335573e00229404c94ccd5cd180a000899199aab9f0014a2940d5d10010a50357420026ae880085281aba1001357440042940d5d08009aba200214a06ae84004d5d10010a50357420026ae880085281aba1001357440042940d5d08009aba200214a06ae84004dd60008a5014a06e9cd55cf0008a50375400229405280a5014a04a666666ae900045280a50130023758002294052811919800800801112999aab9f00114a22a666ae68c050d5d08008998010011aba200114a04a666666ae90004528098011bab00114a0294052811919800800801112999aab9f00114a2264a666ae68c25804d55ce8008a999ab9a300a35573c0022660060066ae880085280a50357420024a666666ae90004528098011bab00114a0294052811919800800801112999aab9f00114a2264a666ae68c25004d55ce8008a999ab9a302335573c0022660060066ae880085280a50357420024a666666ae900045280a50130023758002294052811919800800801112999aab9f00114a22a666ae68c080d5d08008998010011aba200114a0446611a020044660046144046aae74004c1b4d55cf00092999ab9a33308a010013752911036d706800002153335734666114020026ea522102746e000f601153335734666114020026ea522103747065003333300800700600500400314a22a66ae71241275761726e696e673a20696e76616c6964204361706f4d616e6966657374456e74727920646174610014a02a66ae712401275761726e696e673a20696e76616c6964204361706f4d616e6966657374456e74727920646174610014a02a66ae712401275761726e696e673a20696e76616c6964204361706f4d616e6966657374456e74727920646174610014a04a666666ae900044c8c8c94ccd5cd19b870024800054ccd55cf8008a50153335573e6ae880044c22c04d5d08008a5015333573466e1c009200213335573e002945280a5035573c0046aae74004dd50008a5014a0294052812999999aba40011325333573466e1cd55ce800a4010264a666666ae900045280a501323335573e002945281bac00114a02940dd39aab9e00114a06ea80045280a5014a0294094cccccd5d20008992999ab9a3370e6aae740052006132533333357480022940528099199aab9f0014a2940dd60008a5014a06e9cd55cf0008a50375400229405280a5014a04a666666ae900044c94ccd5cd19b8735573a00290020992999999aba400114a029404c94ccd55cf8008a50132533357346666666660bc0ba0b60b40b20b00ae0ac0aa002264a666aae7c0045280992999ab9a30fa010011323335573e002945281aba200214a06ae84004d5d10010a50357420026eb00045280a50374e6aae780045281baa00114a029405280a50253333335748002264a666ae68cdc39aab9d001480084c94cccccd5d20008a5014a0264a666aae7c0045280992999ab9a301b00113253335573e00229404c94ccd5cd1847008008992999aab9f00114a0264a666ae68c3ec040044c8ccd55cf800a514a06ae880085281aba1001357440042940d5d08009aba200214a06ae84004dd60008a5014a06e9cd55cf0008a50375400229405280a5014a04a666666ae900044c94ccd5cd19b8735573a00290000992999999aba400114a029404c8ccd55cf800a514a06eb00045280a50374e6aae780045281baa00114a029405280a50222222533357346004002294454ccd5cd18018008a511533357346008002294454ccd5cd18028008a51153335734600c002294452811198458100111801184a8080092999999aba400114a029404c94ccd55cf8008a5013253335734666608e08c08a088002264a666aae7c0045280992999ab9a33333333305905805605505405305205105000113253335573e00229404c94ccd5cd18208008992999aab9f00114a0264a666ae68c0280044c8ccd55cf800a514a06ae880085281aba1001357440042940d5d08009aba200214a06ae84004d5d10010a50357420026eb00045280a502533333357480022646464a666ae68cdc3801240002a666aae7c0045280a999aab9f357440022602a6ae840045280a999ab9a3370e00490010999aab9f0014a29405281aab9e00235573a0026ea80045280a5014a029408c24004c24808004888888c8c8cd5cd985001248104616161610032323233573661460492010462626262003232335736614a046614804661480466148049211f20e2ac85efb88f20f09f948e20f09f928120657870656374206467546b6e2000001491023a200000432335736614c0492108756d2c206865726500335736a666ae68cc228084c25c0800440204c8d4ccd5cd1810000891858011985381248123e2ac85efb88f20e29d8c20f09f9281206467546b6e206e6f7420637265617465643a2000007123230b102330a802490124e2ac85efb88f20e29d8c20f09f9281206467546b6e206e6f742072657475726e65643a20000083333301401030b4010820200f4a294400401c5454ccd5cd00089853011985281198528124812220e2ac85efb88f20e29c8520f09f9281206f6b3a20205e206467546b6e2068617320000024911020612076616c6964206f75747075740a0015130a6024913220e2ac85efb88f20f09f9aab20f09f9281206e6f2064656c656761746520627574206e6f742072657127643b2066616c736500335736614c049201046363636300001323533357346022002246466ae6cc2a008cc29c0924011b20202e2e2e205e2073656e7420746f2076616c696461746f723a20005308b0100132330b4010010063307d08202001301400112335736614e049211120202028746f20616e797768657265290a00323533357346024002249444928000998081843808408111985980985900800802800801991a999ab9a30200011249010872657475726e656400124901076372656174656400001005333333306b00a4a2004941264a093180a001180a8008042999ab9a003100215019533357340082006294488ccc2f0040088c008c1b80043c4048cc39c0400520002330e6010014800088888c8c8d4ccd5cd1806000892999ab9a003130a4023309b02491335fe29d8c20e29ea1efb88f20f09f9281206d697373696e6720726571756972656420696e7075742077697468206467546b6e20003010008151500c12323232335736613e046613c046613c0492011a20202d2d207365656b696e6720696e707574206467546b6e3a2000301300b491010a0032353335734601e0022466ae6cc284092401262020e29c8520e29ea1efb88f2020f09f928120666f756e64205e20696e707574206467546b6e0000112533357340102615204661400492013d5fe29d8c20e29ea1efb88f2020f09f9281206d697373696e6720726571276420696e707574206467546b6e20286174207363726970742061646472292000301500d151335736614204920147203c2d20f09f9aab20e29ea1efb88f20f09f9281206e6f20696e7075742077697468205e206467546b6e3b206e6f742072657127643b2072657475726e696e672066616c73650a0050110013300d00a23308402133073307e30720010031330ab0130a80100100233333330660084a26024014941264a0931836800980480080098060032999ab9a002100114a2460dc6118040024466616e02004460046116020021d8024661c402002900008470091987000800a400446004611602002464004a666ae68c01800452613357389211c5761726e696e673a20696e76616c6964206f7074696f6e2064617461004988c2d404c220040041688c8dd60012999ab9a300200114984cd5ce24812a5761726e696e673a20696e76616c69642052656c617469766544656c65676174654c696e6b20646174610049894cccccd5d20008a5014a0264a666aae7c0045280992999ab9a307400113253335573e00229404c94ccd5cd18030008992999aab9f00114a0264a666ae68c384040044c8ccd55cf800a514a06ae880085281aba1001357440042940d5d08009aba200214a06ae84004dd60008a5014a04a666666ae900044c8c8c94ccd5cd19b870024800054ccd55cf8008a50153335573e6ae880044c36c04d5d08008a5015333573466e1c009200213335573e002945280a5035573c0046aae74004dd50008a5014a0294052811986c00800a4004266e95200037629311986b00800a40004600461fa0200246464004a666ae68c01400452613357389211a5761726e696e673a20696e76616c6964206c697374206461746100498dd600092999999aba40011325333573466e1cd55ce800a4020264a666666ae900045280a5013253335573e00229404c94ccd5cd1803000899199aab9f0014a2940d5d10010a50357420026eb00045280a50374e6aae780045281baa00114a029405280a502533333357480022940528098011bac00114a029408c8cc004004008894ccd55cf8008a5115333573460a26ae840044cc008008d5d10008a502330d0010014804094cccccd5d20008992999ab9a3370e6aae74005200e1325333333574800229405280992999aab9f00114a0264a666ae68c1ac0044c94ccd55cf8008a501325333573461ac02002264666aae7c00528a50357440042940d5d08009aba200214a06ae84004dd60008a5014a06e9cd55cf0008a50375400229405280a5014a046619c02002900712999999aba40011325333573466e1cd55ce800a4018264a666666ae900045280a5013253335573e00229404c94ccd5cd18348008992999aab9f00114a0264a666ae68c350040044c8ccd55cf800a514a06ae880085281aba1001357440042940d5d08009bac00114a02940dd39aab9e00114a06ea80045280a5014a029408cc33004005200c253333335748002264a666ae68cdc39aab9d001480284c94cccccd5d20008a5014a0264a666aae7c0045280992999ab9a30d10100113253335573e00229404c94ccd5cd1834800899199aab9f0014a2940d5d10010a50357420026ae880085281aba1001375800229405281ba735573c0022940dd50008a5014a0294052811986500800a40144a666666ae900044c94ccd5cd19b8735573a00290040992999999aba400114a029404c94ccd55cf8008a50132533357346096002264666aae7c00528a50357440042940d5d08009bac00114a02940dd39aab9e00114a06ea80045280a5014a029408cc320040052008253333335748002264a666ae68cdc39aab9d001480184c94cccccd5d20008a5014a0264a666aae7c0045280992999ab9a30490011323335573e002945281aba200214a06ae84004dd60008a5014a06e9cd55cf0008a50375400229405280a5014a046618c02002900312999999aba40011325333573466e1cd55ce800a4008264a666666ae900045280a5013253335573e00229404c94ccd5cd1823800899199aab9f0014a2940d5d10010a50357420026eb00045280a50374e6aae780045281baa00114a029405280a502330c401001480108cccc0cc0c40bc0b8c3ac0400494cccccd5d20008992999ab9a3370e6aae7400520021325333333574800229405280992999aab9f00114a0264a666ae68cccc0dc0d00c80c40044c8ccd55cf800a514a06ae880085281aba1001375800229405281ba735573c0022940dd50008a5014a0294052811986080800a400446666666602802402001c01801401000e61d0020024a666666ae900044c94ccd5cd19b8735573a00290000992999999aba400114a029404c94ccd55cf8008a50132533357346666666603002a02602201e01a016014002264666aae7c00528a50357440042940d5d08009bac00114a02940dd39aab9e00114a06ea80045280a5014a029408cc2f804005200022222222223200253335734666666666601601401201000e00c00a008006004002293099ab9c4901345761726e696e673a20696e76616c696420416273747261637444656c656761746541637469766974696573456e756d20646174610049888888888894ccd5cd18010008a511533357346006002294454ccd5cd18020008a51153335734600a002294454ccd5cd18030008a51153335734600e002294454ccd5cd18040008a511533357346012002294454ccd5cd18050008a5114a0184024a666666ae900044c94ccd5cd19b8735573a00290060992999999aba400114a029404c94ccd55cf8008a501325333573466666603a038036034032030002264666aae7c00528a50357440042940d5d08009bac00114a02940dd39aab9e00114a06ea80045280a5014a0294094cccccd5d20008992999ab9a3370e6aae74005200a1325333333574800229405280992999aab9f00114a0264a666ae68c2fc040044c94ccd55cf8008a501325333573460ae002264666aae7c00528a50357440042940d5d08009aba200214a06ae84004dd60008a5014a06e9cd55cf0008a50375400229405280a5014a046617002002900512999999aba40011325333573466e1cd55ce800a4010264a666666ae900045280a5013253335573e00229404c94ccd5cd185e808008992999aab9f00114a0264a666ae68c1540044c8ccd55cf800a514a06ae880085281aba1001357440042940d5d08009bac00114a02940dd39aab9e00114a06ea80045280a5014a029408cc2d8040052008253333335748002264a666ae68cdc39aab9d001480184c94cccccd5d20008a5014a0264666aae7c00528a50375800229405281ba735573c0022940dd50008a5014a0294052805d8092999999aba40011325333573466e1cd55ce800a4008264a666666ae900045280a5013253335573e00229404c94ccd5cd19999999981000f80e80e00d80d00c80c00b8008992999aab9f00114a0264a666ae68c0200044c8ccd55cf800a514a06ae880085281aba1001357440042940d5d08009bac00114a02940dd39aab9e00114a06ea80045280a5014a0294094cccccd5d200089919192999ab9a3370e00490000a999aab9f00114a02a666aae7cd5d1000898269aba100114a02a666ae68cdc3801240042666aae7c00528a5014a06aae78008d55ce8009baa00114a029405280a50253333335748002264a666ae68cdc39aab9d001480084c94cccccd5d20008a5014a0264666aae7c00528a50375800229405281ba735573c0022940dd50008a5014a0294052811985800800a40044a666666ae900044c94ccd5cd19b8735573a00290000992999999aba400114a029404c94ccd55cf8008a5013253335734616a02002264a666aae7c0045280992999ab9a304d0011323335573e002945281aba200214a06ae84004d5d10010a50357420026eb00045280a50374e6aae780045281baa00114a029405280a502330ae010014800088888888c80094ccd5cd199999998048040038030028020018010008a4c266ae712412b5761726e696e673a20696e76616c6964204361706f4c6966656379636c654163746976697479206461746100498888888894ccd5cd18010008a511533357346006002294454ccd5cd18020008a51153335734600a002294454ccd5cd18030008a51153335734600e002294454ccd5cd18040008a5114a04a666666ae900044c94ccd5cd19b8735573a00290020992999999aba400114a029404c94ccd55cf8008a5013253335734616202002264a666aae7c0045280992999ab9a304900113253335573e00229404c94ccd5cd18258008992999aab9f00114a0264a666ae68c0c40044c8ccd55cf800a514a06ae880085281aba1001357440042940d5d08009aba200214a06ae84004d5d10010a50357420026eb00045280a50374e6aae780045281baa00114a029405280a50253333335748002264a666ae68cdc39aab9d001480084c94cccccd5d20008a5014a0264666aae7c00528a50375800229405281ba735573c0022940dd50008a5014a0294052812999999aba40011325333573466e1cd55ce800a4000264a666666ae900045280a5013253335573e00229404c94ccd5cd1857808008992999aab9f00114a0264a666ae68c11c0044c94ccd55cf8008a50132533357346092002264666aae7c00528a50357440042940d5d08009aba200214a06ae84004d5d10010a50357420026eb00045280a50374e6aae780045281baa00114a029405280a502222533357346004002294454ccd5cd18018008a511533357346008002294452812999999aba40011325333573466e1cd55ce800a4010264a666666ae900045280a5013253335573e00229404c94ccd5cd18218008992999aab9f00114a0264a666ae68c2c0040044c8ccd55cf800a514a06ae880085281aba1001357440042940d5d08009bac00114a02940dd39aab9e00114a06ea80045280a5014a0294094cccccd5d20008992999ab9a3370e6aae7400520061325333333574800229405280992999aab9f00114a0264a666ae68c1080044c94ccd55cf8008a5013253335734615e02002264666aae7c00528a50357440042940d5d08009aba200214a06ae84004dd60008a5014a06e9cd55cf0008a50375400229405280a5014a04a666666ae900044c94ccd5cd19b8735573a00290020992999999aba400114a029404c94ccd55cf8008a50132533357346082002264a666aae7c0045280992999ab9a30ac010011323335573e002945281aba200214a06ae84004d5d10010a50357420026eb00045280a50374e6aae780045281baa00114a029405280a50253333335748002264a666ae68cdc39aab9d001480084c94cccccd5d20008a5014a0264a666aae7c0045280992999ab9a304000113253335573e00229404c94ccd5cd185580800899199aab9f0014a2940d5d10010a50357420026ae880085281aba1001375800229405281ba735573c0022940dd50008a5014a0294052812999999aba40011325333573466e1cd55ce800a4000264a666666ae900045280a5013253335573e00229404c94ccd5cd181f800899199aab9f0014a2940d5d10010a50357420026eb00045280a50374e6aae780045281baa00114a029405280a50222222533357346004002294454ccd5cd18018008a511533357346008002294454ccd5cd18028008a51153335734600c002294452812999999aba40011325333573466e1cd55ce800a401c264a666666ae900045280a501323335573e002945281bac00114a02940dd39aab9e00114a06ea80045280a5014a0294094cccccd5d20008992999ab9a3370e6aae74005200c132533333357480022940528099199aab9f0014a2940dd60008a5014a06e9cd55cf0008a50375400229405280a5014a04a666666ae900044c94ccd5cd19b8735573a00290050992999999aba400114a029404c8ccd55cf800a514a06eb00045280a50374e6aae780045281baa00114a029405280a50253333335748002264a666ae68cdc39aab9d001480204c94cccccd5d20008a5014a0264666aae7c00528a50375800229405281ba735573c0022940dd50008a5014a0294052812999999aba40011325333573466e1cd55ce800a400c264a666666ae900045280a501323335573e002945281bac00114a02940dd39aab9e00114a06ea80045280a5014a0294094cccccd5d20008992999ab9a3370e6aae740052004132533333357480022940528099199aab9f0014a2940dd60008a5014a06e9cd55cf0008a50375400229405280a5014a04a666666ae900044c94ccd5cd19b8735573a00290010992999999aba400114a029404c8ccd55cf800a514a06eb00045280a50374e6aae780045281baa00114a029405280a5013374a90001bb149894cccccd5d20008992999ab9a3370e6aae740052000132533333357480022940528099199aab9f0014a2940dd60008a5014a06e9cd55cf0008a50375400229405280a5014a0444444444a666ae68c0080045288a999ab9a300300114a22a666ae68c0100045288a999ab9a300500114a22a666ae68c0180045288a999ab9a300700114a22a666ae68c0200045288a999ab9a300900114a229402780494cccccd5d20008992999ab9a3370e6aae740052004132533333357480022940528099199aab9f0014a2940dd60008a5014a06e9cd55cf0008a50375400229405280a5014a04a666666ae900044c94ccd5cd19b8735573a00290010992999999aba400114a029404c8ccd55cf800a514a06eb00045280a50374e6aae780045281baa00114a029405280a50233094010014800894cccccd5d20008992999ab9a3370e6aae7400520001325333333574800229405280992999aab9f00114a0264a666ae68c264040044c94ccd55cf8008a50132533357346062002264666aae7c00528a50357440042940d5d08009aba200214a06ae84004dd60008a5014a06e9cd55cf0008a50375400229405280a5014a04661240200290001111190012999ab9a333300500400300200114984cd5ce24812f5761726e696e673a20696e76616c69642044656c65676174654c6966656379636c65416374697669747920646174610049888894ccd5cd18010008a511533357346006002294454ccd5cd18020008a5114a046464646600c004002660080024646a666ae68c15000448cc14cc1480040144928000800982904d009826000911919800800801912999aab9f001130c9014901096e6f7420666f756e640013253335734600800220022660060066ae88008c030d55ce9aba1001223333043002304200123059001130c60149010d6b6579206e6f7420666f756e640023232002533357346006002293099ab9c491195761726e696e673a20696e76616c6964206d6170206461746100498dd580091919800800801112999aab9f00114a2264a666ae68c23c04d55ce8008a999ab9a30910135573c0022660060066ae880085280a5035742002466666660040029452410763686172746572004a0932504988888888c8c8c8cd5cd998648099830182f801240009211a6d697373696e67207265716420746e206f7220746e427974657300330493304800a002001533357340082006290012999ab9a005100415305b0015333573400c200a292100222323357366176026617402920104e29d972000004330c201001330ba014901132020e29d8ce29d8c205e206661696c65643a200000453335734004200229448c2dc04cc2d804cc2d805241182020f09f9fa52020f09f98b3f09f92a62020544f444f3a2000001491010a0008d012333308b0100148000064c0092040225333333574800229405280a5014a0264a666ae68cdc49b8d00100314a22940dd7000925174e466e95200230940130020010752300c303800103d0840122300f33003002001223300b002233004001002223253335734601000226600e004600a60080022940c024c0200088cc15c00520022300230a0010010a1010aa0123370e6aae74dd5000a400413602134024466008600600400246eb0c08800488ccc020008004240048ccc18800488cc148008c0ac0041282680494cccccd5d20008a5014a02940528099192999ab9a3370e00290000a511333573466e1c00520384a2940dc68009bae0012225333333574800629404c8c8cc004004008894ccd55cf8008a99ab9c3372c9211a5761726e696e673a206669656c64206e6f7420666f756e643a200037326eb801452809919192999ab9a3375e0040102600e00226600a00a6ae88010d55cf0011aab9d001357420026eac00c5280a5014a0446660060040026ec9262223233300100100400322253335573e0042008264a666ae68c0080044cd5d00009998020021aba20030021333004004357440060046ae8400894cccccd5d20008a5014a02940528098011bae001232323300100148000894ccd5cd19b8700100314a2264a666ae68cdc4800a41fc0226600600666e00009200215333573466e1ccdc1800a408090060992999ab9a3371200200a26600e66e38018cdc0001a400444a666ae680084c94ccd5cd1984200899b8948200080044cdc4800a41fc3e26600e00e0082940cdc019b823370c00890202410002002294052819b800024801054ccd5cd19b8733706002901024038264a666ae68cdc480080289980399b8e006337000069001112999ab9a0021330093371c01066e0001520042253335734004264a666ae68cc218044cdc4a410040002266e2400520feff0713300900900614a066e00cdc119b86006480812080403370066e0800d20800100114a0294052819b800024801854ccd5cd19b8733706002900824078264a666ae68cdc480080289980399b8e006337000069001112999ab9a0021330093371c01066e000152004225333573400426601666e38028cdc0003a400c44a666ae680084c94ccd5cd1984400899b894820200200044cdc4800a41fdfffe022660160160102940cdc019b823370c010900824101004066e00cdc1002a41008066e00cdc1001a41000200229405280a5014a066e00009200814a066e38010004dc6800912999ab9a3370e66e0c009208001480104cc0052899b8600248200044cc005282400046ae84c1d00041b08dd618450080091999834800a40000ca0044a666666ae900045288a5014a0294052811aba13004001235742600400246ae88c0080048d5d1180100091aba2300a001232330010010022253335573e00229000099b803300200235744002900103111aab9d375400246aae78dd5000b8725333333574800229445280a5014a029415d091aba13002001574466e95200207123002300b00100123574260be0024646464a666ae68cdc38012400826ae840044c22805241136e6f7420616e20696e6c696e6520646174756d0035573c0046aae74004dd5000909983ea981d981d0009983ea4810123005303e303900105422223233300100100500422253335573e004008264a666ae68cdd78011aab9d0011300635573c00226660080086ae8800c008d5d08011119ba548000cc178c104008c108004894ccd5cd19b874800000440984c8c8cd5d019bb0002374c66ae80cdd80009840808019bb2498dd924c60e400660e60044600660040020da46eacc1b400488cc1740080048dd61836800835835000baf233040001480088dd5980100091aba13002001235744600400246ae88c0080048d5d1180100091aba23002001235744608c0024464666002002006004444a666aae7c0085288a999ab9a30013574200426660060066ae8800800452801f109b98001714e3488c154cdc4801000909b9400123300200171a4444646460026004008464600260060084666e30008cdc0800998040012400000e4a666ae68cdc4000a4000266e00cdc01802002a4004002200244666ae68cdc4001000800801111191998008008020019112999aab9f00213374a90010290992999ab9a300200113374a90001823980280089998020021aba200300235742004eac0cdd3111191998008008020011112999aab9f00210011335740600a6ae84008ccc00c00cd5d100100091b99375c00244646600200200644a666aae7c00440044cc88ccc01c008004014d5d0800998010011aba200122232330010010032253335573e002266ae800140044c94ccd5cd19802003000899aba00060021335740002660060066ae88008d5d08009bb249884c8cc004004008894ccd55cf8008a5113303b1300437566aae78d5d08008998010011aba2001232330010010022253335573e00229444cc0e84cdc39bad35573c6ae8400520001330020023574400244a666ae68cdc39aab9d37540040022004260b892011c756e657870656374656420636f6e7374727563746f7220696e646578002230443300300200172e44666006004002e00888c8ccc004004cc0f001000cdd924c444a666aae7c00840044c8c8c94ccd55cf8008801099aba0337600066e98004008ccc024018cc0f8020008cc0f801c008ccc010010d5d10018011aba1002222323330010013303b0030023764931112999aab9f002100113232325333573466e1c00520001002133574066ec000cdd40008011980419822803801198228030011998020021aba2003002357420044466606a004002e1c00488c0f4cc1440080048400408084dcc80091191919800800802112999aab9f0011305349110706f6c696379206e6f7420666f756e640015333573466ebcd55ce9aba1001003137566aae78d5d08008998010011aba2001300d0012301f303c00103c2304130020012375c6ae84d55cf1baa0012133300500122323233300900122323233049004533357346601800c9110013304949010a6c6f76656c6163653a2000330495300a001491010a001330495304600633049491012e003304953047002330494901023a2000330495300a001491010a00375a6aae78008dd71aab9d00100437566aae78008dd71aab9d0014910021373264a666ae68cdc400124000266e2d205a333001001337040049000a4500133300100100248900222325333573466e2000d20141001133300400433706006900a00099b8b300500200123370066e1800520144818010c888c8ccc0040040100088894ccd55cf801080089998018019aba200233005001357420044464646600200200844a666aae7c0045280a999ab9a3375e6aae74d5d08008018a51133002002357440026006002002ea48cccc04000520000070022533333357480022646464a666ae68cdc3801240002a666aae7c0045280a999aab9f357440022600a6ae840045280a999ab9a3370e00490010999aab9f0014a29405281aab9e00235573a0026ea80045280a5014a0294094cccccd5d200089919192999ab9a3370e004900009998038030028008a999ab9a3370e0049001099980380719803807198038070028008a5035573c0046aae74004dd50008a5014a029405281199aab9f0014a29400088894ccd55cf8008a5015333573460066ae840044c008d5d10008a502533333357480022646464a666ae68cdc3801240002a666aae7c0045280a999aab9f357440022600c6ae840045280a999ab9a3370e00490010a999aab9f00114a02a666aae7cd5d1000898029aba100114a02940d55cf0011aab9d001375400229405280a5014a0600e901c1803240704466e1cd55ce9baa00200123333335748002941282504a09448cccc014005200000300223333335748002941282504a294094cccccd5d200089919192999ab9a3370e90000010a999aab9f00114a02a666aae7cd5d1000899802a40806ae840045280a5035573c0046aae74004dd50008a5014a02940528112999999aba400114a029405280a501325333573466e1cdc68008018a5114a06eb800488894cccccd5d20020992999ab9a3370e6aae740040104c94ccd55cf8008a5015333573460086ae840044c94ccd55cf8008a5015333573460086ae8400454ccd55cf9aba200114a229405281aba200114a06aae780045281baa00414a029405280a50001200175a603c03646eacc0080048d5d0980100091aba23002001235744600400246ae88c0640048dd49b98001223374a90001980180118128009119aba00023003001233574000201a44a666ae6940085400452810999ab9a001490104747275650049010566616c7365002233300300200122300f3371000400244464660020026600e00800644a666aae7c0045288992999ab9a3010333008004330070060013300700500114a02660060066ae88008d5d0800911919800800801912999aab9f00113764930a999ab9a3375e6aae74d5d080080189bab35573c6ae840044cc008008d5d1000911191980080099802801801112999aab9f00114a2264a666ae68c038cc018cc034014004cc0340100045280998018019aba200235742002446464646600c006002666002002004006444a666aae7c004402c4c94ccd5cd1980480280089998020020019aba200213357400026660080080066ae88008d55ce9aba10013006002223233300100100200322253335573e0022004266ae80d5d08009998018018011aba2001223300300223375e0020044464666002002006004444a666aae7c0085280a999ab9a30013574200429444ccc00c00cd5d100100091919800800801112999aab9f001100413357406aae74d5d0800998010011aba200137629311191998008008018011112999aab9f00214800054ccd5cd19baf35573a6ae840080044dd69aab9e3574200426660060066ae880080048ccd5cd000a504a226010a0022600a002600400202846ae84c0080048d5d1180180091aba13002001235573c6ea8004005d700090991980080080111192999ab9a337109000000899b96373264666ae68cdc39b8d00148008cdc5a40c00020026e614c014cdc70012400066006006666e312002001002149100371a00242646e654ccd5cd19b88002480004cdc5a40b466600200266e08009200148810013330010010024890022232325333573466e2001120201001133300500533706008901000099b8b333573466e20005201433700002903019b80001482b804008cdc300124040e588cd5ce000a4c002426ecc00484dd99801000ba871e44a666ae6940085288a800912999ab9a002149854cd5ce0008b1299ab9c001161",
        unoptimizedIR:
            '(__REDEEMER, __CONTEXT) -> {\n    __helios__error = (msg) -> {\n        __core__trace(msg, () -> {\n            error()\n        })()\n    };\n    __helios__assert = (cond, msg_1) -> {\n        __core__ifThenElse(\n            cond,\n            () -> {\n                ()\n            },\n            () -> {\n                __core__trace(msg_1, () -> {\n                    error()\n                })()\n            }\n        )()\n    };\n    __helios__bool__or = (a, b) -> {\n        __core__ifThenElse(\n            a(),\n            () -> {\n                true\n            },\n            () -> {\n                b()\n            }\n        )()\n    };\n    __helios__bytearray____eq = __core__equalsByteString;\n    __helios__int____to_data = __core__iData;\n    __helios__int__serialize = (self) -> {\n        () -> {\n            __core__serialiseData(__helios__int____to_data(self))\n        }\n    };\n    __helios__common__serialize = (self_1) -> {\n        () -> {\n            __core__serialiseData(self_1)\n        }\n    };\n    __helios__txid__serialize = __helios__common__serialize;\n    __helios__print = (msg_2) -> {\n        __core__trace(msg_2, ())\n    };\n    __helios__string____add = __core__appendString;\n    __helios__int__to_hex = (self_2) -> {\n        () -> {\n            recurse_1 = (recurse) -> {\n                (self_3, bytes) -> {\n                    digit = __core__modInteger(self_3, 16);\n                    bytes_1 = __core__consByteString(__core__ifThenElse(\n                        __core__lessThanInteger(digit, 10),\n                        __core__addInteger(digit, 48),\n                        __core__addInteger(digit, 87)\n                    ), bytes);\n                    __core__ifThenElse(\n                        __core__lessThanInteger(self_3, 16),\n                        () -> {\n                            bytes_1\n                        },\n                        () -> {\n                            recurse(recurse)(__core__divideInteger(self_3, 16), bytes_1)\n                        }\n                    )()\n                }\n            };\n            __core__decodeUtf8__safe(__core__ifThenElse(\n                __core__lessThanInteger(self_2, 0),\n                () -> {\n                    __core__consByteString(45, recurse_1(recurse_1)(__core__multiplyInteger(self_2, -1), #))\n                },\n                () -> {\n                    recurse_1(recurse_1)(self_2, #)\n                }\n            )())\n        }\n    };\n    __helios__bytearray__show = (self_4) -> {\n        () -> {\n            recurse_3 = (recurse_2, self_5) -> {\n                n = __core__lengthOfByteString(self_5);\n                __core__ifThenElse(\n                    __core__lessThanInteger(0, n),\n                    () -> {\n                        __core__appendString(__core__decodeUtf8__safe(hex_bytes = __core__encodeUtf8(__helios__int__to_hex(__core__indexByteString__safe(self_5, 0))());\n                        __core__ifThenElse(\n                            __core__equalsInteger(__core__lengthOfByteString(hex_bytes), 1),\n                            __core__consByteString(48, hex_bytes),\n                            hex_bytes\n                        )), recurse_2(recurse_2, __core__sliceByteString(1, n, self_5)))\n                    },\n                    () -> {\n                        ""\n                    }\n                )()\n            };\n            recurse_3(recurse_3, self_4)\n        }\n    };\n    __helios__mintingpolicyhash__show = __helios__bytearray__show;\n    __helios__bytearray__from_data = __core__unBData;\n    __helios__mintingpolicyhash__from_data = __helios__bytearray__from_data;\n    __helios__common__enum_fields = (self_6) -> {\n        __core__sndPair(__core__unConstrData(self_6))\n    };\n    __helios__common__enum_field_0 = (self_7) -> {\n        __core__headList(__helios__common__enum_fields(self_7))\n    };\n    __helios__common__enum_fields_after_0 = (self_8) -> {\n        __core__tailList(__helios__common__enum_fields(self_8))\n    };\n    __helios__common__enum_field_1 = (self_9) -> {\n        __core__headList(__helios__common__enum_fields_after_0(self_9))\n    };\n    __helios__scriptcontext__data = __CONTEXT;\n    __helios__scriptcontext__purpose = __helios__common__enum_field_1(__helios__scriptcontext__data);\n    __helios__scriptcontext__get_spending_purpose_output_id = () -> {\n        __helios__common__enum_field_0(__helios__scriptcontext__purpose)\n    };\n    __helios__scriptcontext__get_current_minting_policy_hash = () -> {\n        __helios__mintingpolicyhash__from_data(__helios__scriptcontext__get_spending_purpose_output_id())\n    };\n    __helios__bool____not = (b_1) -> {\n        __core__ifThenElse(\n            b_1,\n            false,\n            true\n        )\n    };\n    __helios__value__get_inner_map_int = (map, key) -> {\n        recurse_5 = (recurse_4, map_1, key_1) -> {\n            __core__chooseList(map_1, () -> {\n                0\n            }, () -> {\n                __core__ifThenElse(\n                    __core__equalsData(__core__fstPair(__core__headList__safe(map_1)), key_1),\n                    () -> {\n                        __core__unIData(__core__sndPair(__core__headList__safe(map_1)))\n                    },\n                    () -> {\n                        recurse_4(recurse_4, __core__tailList__safe(map_1), key_1)\n                    }\n                )()\n            })()\n        };\n        recurse_5(recurse_5, map, key)\n    };\n    __helios__common__list_0 = __core__mkNilData(());\n    __helios__value__get_map_keys = (map_2) -> {\n        recurse_7 = (recurse_6, map_3) -> {\n            __core__chooseList(map_3, () -> {\n                __helios__common__list_0\n            }, () -> {\n                __core__mkCons(__core__fstPair(__core__headList__safe(map_3)), recurse_6(recurse_6, __core__tailList__safe(map_3)))\n            })()\n        };\n        recurse_7(recurse_7, map_2)\n    };\n    __helios__common__any = (self_10, fn) -> {\n        recurse_9 = (recurse_8, self_11, fn_1) -> {\n            __core__chooseList(self_11, () -> {\n                false\n            }, () -> {\n                __core__ifThenElse(\n                    fn_1(__core__headList__safe(self_11)),\n                    () -> {\n                        true\n                    },\n                    () -> {\n                        recurse_8(recurse_8, __core__tailList__safe(self_11), fn_1)\n                    }\n                )()\n            })()\n        };\n        recurse_9(recurse_9, self_10, fn)\n    };\n    __helios__common__is_in_bytearray_list = (lst, key_2) -> {\n        __helios__common__any(lst, (item) -> {\n            __core__equalsData(item, key_2)\n        })\n    };\n    __helios__common__concat = (a_1, b_2) -> {\n        recurse_11 = (recurse_10, lst_1, rem) -> {\n            __core__chooseList(rem, () -> {\n                lst_1\n            }, () -> {\n                __core__mkCons(__core__headList__safe(rem), recurse_10(recurse_10, lst_1, __core__tailList__safe(rem)))\n            })()\n        };\n        recurse_11(recurse_11, b_2, a_1)\n    };\n    __helios__value__merge_map_keys = (a_2, b_3) -> {\n        aKeys = __helios__value__get_map_keys(a_2);\n        recurse_13 = (recurse_12, keys, map_4) -> {\n            __core__chooseList(map_4, () -> {\n                __helios__common__list_0\n            }, () -> {\n                key_3 = __core__fstPair(__core__headList__safe(map_4));\n                __core__ifThenElse(\n                    __helios__common__is_in_bytearray_list(aKeys, key_3),\n                    () -> {\n                        recurse_12(recurse_12, keys, __core__tailList__safe(map_4))\n                    },\n                    () -> {\n                        __core__mkCons(key_3, recurse_12(recurse_12, keys, __core__tailList__safe(map_4)))\n                    }\n                )()\n            })()\n        };\n        uniqueBKeys = recurse_13(recurse_13, aKeys, b_3);\n        __helios__common__concat(aKeys, uniqueBKeys)\n    };\n    __helios__value__compare_inner = (comp, a_3, b_4) -> {\n        recurse_15 = (recurse_14, keys_1) -> {\n            __core__chooseList(keys_1, () -> {\n                true\n            }, () -> {\n                key_4 = __core__headList__safe(keys_1);\n                __core__ifThenElse(\n                    __helios__bool____not(comp(__helios__value__get_inner_map_int(a_3, key_4), __helios__value__get_inner_map_int(b_4, key_4))),\n                    () -> {\n                        false\n                    },\n                    () -> {\n                        recurse_14(recurse_14, __core__tailList__safe(keys_1))\n                    }\n                )()\n            })()\n        };\n        recurse_15(recurse_15, __helios__value__merge_map_keys(a_3, b_4))\n    };\n    __helios__value__get_inner_map = (map_5, mph) -> {\n        recurse_17 = (recurse_16, map_6) -> {\n            __core__chooseList(map_6, () -> {\n                __core__mkNilPairData(())\n            }, () -> {\n                __core__ifThenElse(\n                    __core__equalsData(__core__fstPair(__core__headList__safe(map_6)), mph),\n                    () -> {\n                        __core__unMapData(__core__sndPair(__core__headList__safe(map_6)))\n                    },\n                    () -> {\n                        recurse_16(recurse_16, __core__tailList__safe(map_6))\n                    }\n                )()\n            })()\n        };\n        recurse_17(recurse_17, map_5)\n    };\n    __helios__value__compare = (a_4, b_5, comp_1) -> {\n        recurse_19 = (recurse_18, keys_2) -> {\n            __core__chooseList(keys_2, () -> {\n                true\n            }, () -> {\n                key_5 = __core__headList__safe(keys_2);\n                __core__ifThenElse(\n                    __helios__bool____not(__helios__value__compare_inner(comp_1, __helios__value__get_inner_map(a_4, key_5), __helios__value__get_inner_map(b_5, key_5))),\n                    () -> {\n                        false\n                    },\n                    () -> {\n                        recurse_18(recurse_18, __core__tailList__safe(keys_2))\n                    }\n                )()\n            })()\n        };\n        recurse_19(recurse_19, __helios__value__merge_map_keys(a_4, b_5))\n    };\n    __helios__value____geq = (a_5, b_6) -> {\n        __helios__value__compare(a_5, b_6, (a_qty, b_qty) -> {\n            __helios__bool____not(__core__lessThanInteger(a_qty, b_qty))\n        })\n    };\n    __helios__bool__show = (self_12) -> {\n        () -> {\n            __core__ifThenElse(\n                self_12,\n                "true",\n                "false"\n            )\n        }\n    };\n    __helios__bool__and = (a_6, b_7) -> {\n        __core__ifThenElse(\n            a_6(),\n            () -> {\n                b_7()\n            },\n            () -> {\n                false\n            }\n        )()\n    };\n    __helios__common__list_1 = (a_7) -> {\n        __core__mkCons(a_7, __helios__common__list_0)\n    };\n    __helios__common__list_2 = (arg0, arg1) -> {\n        __core__mkCons(arg0, __helios__common__list_1(arg1))\n    };\n    __helios__txoutputid__new = (tx_id, idx) -> {\n        __core__constrData(0, __helios__common__list_2(tx_id, __helios__int____to_data(idx)))\n    };\n    __helios__string____to_data = (s) -> {\n        __core__bData(__core__encodeUtf8(s))\n    };\n    __helios__common__enum_fields_after_1 = (self_13) -> {\n        __core__tailList(__helios__common__enum_fields_after_0(self_13))\n    };\n    __helios__common__enum_fields_after_2 = (self_14) -> {\n        __core__tailList(__helios__common__enum_fields_after_1(self_14))\n    };\n    __helios__common__enum_fields_after_3 = (self_15) -> {\n        __core__tailList(__helios__common__enum_fields_after_2(self_15))\n    };\n    __helios__common__enum_field_4 = (self_16) -> {\n        __core__headList(__helios__common__enum_fields_after_3(self_16))\n    };\n    __helios__tx__minted = (self_17) -> {\n        __core__unMapData(__helios__common__enum_field_4(self_17))\n    };\n    __helios__scriptcontext__tx = __helios__common__enum_field_0(__helios__scriptcontext__data);\n    __helios__int__from_data = __core__unIData;\n    __helios__common__identity = (self_18) -> {\n        self_18\n    };\n    __helios__txid__from_data = __helios__common__identity;\n    __helios__common__test_constr_data_2 = (data, index, test_a, test_b) -> {\n        __core__chooseData(data, () -> {\n            pair = __core__unConstrData__safe(data);\n            __core__ifThenElse(\n                __core__equalsInteger(__core__fstPair(pair), index),\n                () -> {\n                    fields = __core__sndPair(pair);\n                    __core__chooseList(fields, () -> {\n                        false\n                    }, () -> {\n                        __core__ifThenElse(\n                            test_a(__core__headList__safe(fields)),\n                            () -> {\n                                tail = __core__tailList__safe(fields);\n                                __core__chooseList(tail, () -> {\n                                    false\n                                }, () -> {\n                                    __core__ifThenElse(\n                                        test_b(__core__headList__safe(tail)),\n                                        () -> {\n                                            __core__chooseList(__core__tailList__safe(tail), () -> {\n                                                true\n                                            }, () -> {\n                                                false\n                                            })()\n                                        },\n                                        () -> {\n                                            false\n                                        }\n                                    )()\n                                })()\n                            },\n                            () -> {\n                                false\n                            }\n                        )()\n                    })()\n                },\n                () -> {\n                    false\n                }\n            )()\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        })()\n    };\n    __helios__bytearray__is_valid_data_fixed_length = (n_1) -> {\n        (data_1) -> {\n            __core__chooseData(data_1, () -> {\n                false\n            }, () -> {\n                false\n            }, () -> {\n                false\n            }, () -> {\n                false\n            }, () -> {\n                bytes_2 = __core__unBData__safe(data_1);\n                __core__ifThenElse(\n                    __core__equalsInteger(__core__lengthOfByteString(bytes_2), n_1),\n                    () -> {\n                        true\n                    },\n                    () -> {\n                        false\n                    }\n                )()\n            })()\n        }\n    };\n    __helios__txid__is_valid_data = (data_2) -> {\n        __core__chooseData(data_2, () -> {\n            pair_1 = __core__unConstrData__safe(data_2);\n            index_1 = __core__fstPair(pair_1);\n            fields_1 = __core__sndPair(pair_1);\n            __core__ifThenElse(\n                __core__equalsInteger(0, index_1),\n                () -> {\n                    __core__chooseList(fields_1, () -> {\n                        false\n                    }, () -> {\n                        __core__chooseList(__core__tailList__safe(fields_1), () -> {\n                            __helios__bytearray__is_valid_data_fixed_length(32)(__core__headList__safe(fields_1))\n                        }, () -> {\n                            false\n                        })()\n                    })()\n                },\n                () -> {\n                    false\n                }\n            )()\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        })()\n    };\n    __helios__int__is_valid_data = (data_3) -> {\n        __core__chooseData(data_3, false, false, false, true, false)\n    };\n    __helios__txoutputid__is_valid_data = (data_4) -> {\n        __helios__common__test_constr_data_2(data_4, 0, __helios__txid__is_valid_data, __helios__int__is_valid_data)\n    };\n    __helios__bytearray__is_valid_data = (data_5) -> {\n        __core__chooseData(data_5, false, false, false, false, true)\n    };\n    __helios__common__enum_tag_equals = (data_6, i) -> {\n        __core__equalsInteger(__core__fstPair(__core__unConstrData(data_6)), i)\n    };\n    __helios__validatorhash__is_valid_data = __helios__bytearray__is_valid_data_fixed_length(28);\n    __helios__pubkeyhash__is_valid_data = __helios__bytearray__is_valid_data_fixed_length(28);\n    __helios__spendingcredential__is_valid_data = (data_7) -> {\n        __core__chooseData(data_7, () -> {\n            pair_2 = __core__unConstrData__safe(data_7);\n            index_2 = __core__fstPair(pair_2);\n            fields_2 = __core__sndPair(pair_2);\n            __core__ifThenElse(\n                __core__equalsInteger(index_2, 0),\n                () -> {\n                    __core__chooseList(fields_2, () -> {\n                        false\n                    }, () -> {\n                        __core__chooseList(__core__tailList__safe(fields_2), () -> {\n                            __helios__validatorhash__is_valid_data(__core__headList__safe(fields_2))\n                        }, () -> {\n                            false\n                        })()\n                    })()\n                },\n                () -> {\n                    __core__ifThenElse(\n                        __core__equalsInteger(index_2, 1),\n                        () -> {\n                            __core__chooseList(fields_2, () -> {\n                                false\n                            }, () -> {\n                                __core__chooseList(__core__tailList__safe(fields_2), () -> {\n                                    __helios__pubkeyhash__is_valid_data(__core__headList__safe(fields_2))\n                                }, () -> {\n                                    false\n                                })()\n                            })()\n                        },\n                        () -> {\n                            false\n                        }\n                    )()\n                }\n            )()\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        })()\n    };\n    __helios__common__test_list_head_data = (test_head, test_tail) -> {\n        (list) -> {\n            __core__chooseList(list, () -> {\n                false\n            }, () -> {\n                __core__ifThenElse(\n                    test_head(__core__headList(list)),\n                    () -> {\n                        test_tail(__core__tailList(list))\n                    },\n                    () -> {\n                        false\n                    }\n                )()\n            })()\n        }\n    };\n    __helios__stakinghash__is_valid_data = __helios__spendingcredential__is_valid_data;\n    __helios__common__test_list_empty = (list_1) -> {\n        __core__chooseList(list_1, true, false)\n    };\n    __helios__stakingcredential__is_valid_data = (data_8) -> {\n        __core__chooseData(data_8, () -> {\n            pair_3 = __core__unConstrData__safe(data_8);\n            tag = __core__fstPair(pair_3);\n            fields_3 = __core__sndPair(pair_3);\n            __core__ifThenElse(\n                __core__equalsInteger(tag, 0),\n                () -> {\n                    __helios__common__test_list_head_data(__helios__stakinghash__is_valid_data, __helios__common__test_list_empty)(fields_3)\n                },\n                () -> {\n                    __core__ifThenElse(\n                        __core__equalsInteger(tag, 1),\n                        () -> {\n                            __helios__common__test_list_head_data(__helios__int__is_valid_data, __helios__common__test_list_head_data(__helios__int__is_valid_data, __helios__common__test_list_head_data(__helios__int__is_valid_data, __helios__common__test_list_empty)))(fields_3)\n                        },\n                        () -> {\n                            false\n                        }\n                    )()\n                }\n            )()\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        })()\n    };\n    __helios__option[__helios__stakingcredential]__is_valid_data = (data_9) -> {\n        __core__chooseData(data_9, () -> {\n            pair_4 = __core__unConstrData__safe(data_9);\n            index_3 = __core__fstPair(pair_4);\n            fields_4 = __core__sndPair(pair_4);\n            __core__ifThenElse(\n                __core__equalsInteger(index_3, 0),\n                () -> {\n                    __core__chooseList(fields_4, () -> {\n                        false\n                    }, () -> {\n                        __core__chooseList(__core__tailList__safe(fields_4), () -> {\n                            __helios__stakingcredential__is_valid_data(__core__headList__safe(fields_4))\n                        }, () -> {\n                            false\n                        })()\n                    })()\n                },\n                () -> {\n                    __core__ifThenElse(\n                        __core__equalsInteger(index_3, 1),\n                        () -> {\n                            __core__chooseList(fields_4, true, false)\n                        },\n                        () -> {\n                            false\n                        }\n                    )()\n                }\n            )()\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        })()\n    };\n    __helios__address__is_valid_data = (data_10) -> {\n        __helios__common__test_constr_data_2(data_10, 0, __helios__spendingcredential__is_valid_data, __helios__option[__helios__stakingcredential]__is_valid_data)\n    };\n    __helios__bytearray____to_data = __core__bData;\n    __helios__mintingpolicyhash____to_data = __helios__bytearray____to_data;\n    __helios__value__contains_policy = (self_19) -> {\n        (mph_1) -> {\n            mph_2 = __helios__mintingpolicyhash____to_data(mph_1);\n            recurse_21 = (recurse_20, map_7) -> {\n                __core__chooseList(map_7, () -> {\n                    false\n                }, () -> {\n                    __core__ifThenElse(\n                        __core__equalsData(__core__fstPair(__core__headList__safe(map_7)), mph_2),\n                        () -> {\n                            true\n                        },\n                        () -> {\n                            recurse_20(recurse_20, __core__tailList__safe(map_7))\n                        }\n                    )()\n                })()\n            };\n            recurse_21(recurse_21, self_19)\n        }\n    };\n    __helios__common__fold = (self_20, fn_2, z) -> {\n        recurse_23 = (recurse_22, self_21, z_1) -> {\n            __core__chooseList(self_21, () -> {\n                z_1\n            }, () -> {\n                recurse_22(recurse_22, __core__tailList__safe(self_21), fn_2(z_1, __core__headList__safe(self_21)))\n            })()\n        };\n        recurse_23(recurse_23, self_20, z)\n    };\n    __helios__mintingpolicyhash____eq = __helios__bytearray____eq;\n    __helios__int__show_digit = (x) -> {\n        __core__addInteger(__core__modInteger(x, 10), 48)\n    };\n    __helios__int__show = (self_22) -> {\n        () -> {\n            __core__decodeUtf8__safe(recurse_25 = (recurse_24, i_1, bytes_3) -> {\n                bytes_4 = __core__consByteString(__helios__int__show_digit(i_1), bytes_3);\n                __core__ifThenElse(\n                    __core__lessThanInteger(i_1, 10),\n                    () -> {\n                        bytes_4\n                    },\n                    () -> {\n                        recurse_24(recurse_24, __core__divideInteger(i_1, 10), bytes_4)\n                    }\n                )()\n            };\n            __core__ifThenElse(\n                __core__lessThanInteger(self_22, 0),\n                () -> {\n                    __core__consByteString(45, recurse_25(recurse_25, __core__multiplyInteger(self_22, -1), #))\n                },\n                () -> {\n                    recurse_25(recurse_25, self_22, #)\n                }\n            )())\n        }\n    };\n    __helios__value__show = (self_23) -> {\n        () -> {\n            __helios__common__fold(self_23, (prev, pair_5) -> {\n                mph_3 = __core__unBData__safe(__core__fstPair(pair_5));\n                tokens = __core__unMapData__safe(__core__sndPair(pair_5));\n                __helios__common__fold(tokens, (prev_1, pair_6) -> {\n                    token_name = __core__unBData__safe(__core__fstPair(pair_6));\n                    qty = __core__unIData__safe(__core__sndPair(pair_6));\n                    __helios__string____add(prev_1, __core__ifThenElse(\n                        __helios__mintingpolicyhash____eq(mph_3, #),\n                        () -> {\n                            __helios__string____add("lovelace: ", __helios__string____add(__helios__int__show(qty)(), "\n"))\n                        },\n                        () -> {\n                            __helios__string____add(__helios__mintingpolicyhash__show(mph_3)(), __helios__string____add(".", __helios__string____add(__helios__bytearray__show(token_name)(), __helios__string____add(": ", __helios__string____add(__helios__int__show(qty)(), "\n")))))\n                        }\n                    )())\n                }, prev)\n            }, "")\n        }\n    };\n    __helios__txid__bytes = (self_24) -> {\n        __core__unBData(__core__headList(__core__sndPair(__core__unConstrData(self_24))))\n    };\n    __helios__txid__show = (self_25) -> {\n        __helios__bytearray__show(__helios__txid__bytes(self_25))\n    };\n    __helios__txoutputid__tx_id = __helios__common__enum_field_0;\n    __helios__txoutputid__index = (self_26) -> {\n        __helios__int__from_data(__helios__common__enum_field_1(self_26))\n    };\n    __helios__value__get_policy = (self_27) -> {\n        (mph_4) -> {\n            mph_5 = __helios__mintingpolicyhash____to_data(mph_4);\n            recurse_27 = (recurse_26, map_8) -> {\n                __core__chooseList(map_8, () -> {\n                    __helios__error("policy not found")\n                }, () -> {\n                    __core__ifThenElse(\n                        __core__equalsData(__core__fstPair(__core__headList__safe(map_8)), mph_5),\n                        () -> {\n                            __core__unMapData(__core__sndPair(__core__headList__safe(map_8)))\n                        },\n                        () -> {\n                            recurse_26(recurse_26, __core__tailList__safe(map_8))\n                        }\n                    )()\n                })()\n            };\n            recurse_27(recurse_27, self_27)\n        }\n    };\n    __helios__bytearray__decode_utf8 = (self_28) -> {\n        () -> {\n            __core__decodeUtf8(self_28)\n        }\n    };\n    __helios__value__from_map = __helios__common__identity;\n    __helios__value__to_map = (self_29) -> {\n        () -> {\n            self_29\n        }\n    };\n    __helios__bytearray____neq = (self_30, other) -> {\n        __helios__bool____not(__helios__bytearray____eq(self_30, other))\n    };\n    __helios__mintingpolicyhash____neq = __helios__bytearray____neq;\n    __helios__value____eq = (a_8, b_8) -> {\n        __helios__value__compare(a_8, b_8, __core__equalsInteger)\n    };\n    __helios__value__add_or_subtract_inner = (op) -> {\n        (a_9, b_9) -> {\n            recurse_29 = (recurse_28, keys_3, result) -> {\n                __core__chooseList(keys_3, () -> {\n                    result\n                }, () -> {\n                    key_6 = __core__headList__safe(keys_3);\n                    tail_1 = recurse_28(recurse_28, __core__tailList__safe(keys_3), result);\n                    sum = op(__helios__value__get_inner_map_int(a_9, key_6), __helios__value__get_inner_map_int(b_9, key_6));\n                    __core__ifThenElse(\n                        __core__equalsInteger(sum, 0),\n                        () -> {\n                            tail_1\n                        },\n                        () -> {\n                            __core__mkCons(__core__mkPairData(key_6, __core__iData(sum)), tail_1)\n                        }\n                    )()\n                })()\n            };\n            recurse_29(recurse_29, __helios__value__merge_map_keys(a_9, b_9), __core__mkNilPairData(()))\n        }\n    };\n    __helios__value__add_or_subtract = (a_10, b_10, op_1) -> {\n        recurse_31 = (recurse_30, keys_4, result_1) -> {\n            __core__chooseList(keys_4, () -> {\n                result_1\n            }, () -> {\n                key_7 = __core__headList__safe(keys_4);\n                tail_2 = recurse_30(recurse_30, __core__tailList__safe(keys_4), result_1);\n                item_1 = __helios__value__add_or_subtract_inner(op_1)(__helios__value__get_inner_map(a_10, key_7), __helios__value__get_inner_map(b_10, key_7));\n                __core__chooseList(item_1, () -> {\n                    tail_2\n                }, () -> {\n                    __core__mkCons(__core__mkPairData(key_7, __core__mapData(item_1)), tail_2)\n                })()\n            })()\n        };\n        recurse_31(recurse_31, __helios__value__merge_map_keys(a_10, b_10), __core__mkNilPairData(()))\n    };\n    __helios__value____add = (a_11, b_11) -> {\n        __helios__value__add_or_subtract(a_11, b_11, __core__addInteger)\n    };\n    __helios__string____eq = __core__equalsString;\n    __helios__string____neq = (self_31, other_1) -> {\n        __helios__bool____not(__helios__string____eq(self_31, other_1))\n    };\n    __helios__common__assert_constr_index = (data_11, i_2) -> {\n        __core__ifThenElse(\n            __core__equalsInteger(__core__fstPair(__core__unConstrData(data_11)), i_2),\n            () -> {\n                data_11\n            },\n            () -> {\n                __helios__error("unexpected constructor index")\n            }\n        )()\n    };\n    __helios__value__is_zero_inner = (tokens_1) -> {\n        recurse_33 = (recurse_32, tokens_2) -> {\n            __core__chooseList(tokens_2, () -> {\n                true\n            }, () -> {\n                __helios__bool__and(() -> {\n                    __core__equalsInteger(__core__unIData(__core__sndPair(__core__headList__safe(tokens_2))), 0)\n                }, () -> {\n                    recurse_32(recurse_32, __core__tailList__safe(tokens_2))\n                })\n            })()\n        };\n        recurse_33(recurse_33, tokens_1)\n    };\n    __helios__value__is_zero = (self_32) -> {\n        () -> {\n            recurse_35 = (recurse_34, map_9) -> {\n                __core__chooseList(map_9, () -> {\n                    true\n                }, () -> {\n                    __helios__bool__and(() -> {\n                        __helios__value__is_zero_inner(__core__unMapData(__core__sndPair(__core__headList__safe(map_9))))\n                    }, () -> {\n                        recurse_34(recurse_34, __core__tailList__safe(map_9))\n                    })\n                })()\n            };\n            recurse_35(recurse_35, self_32)\n        }\n    };\n    __helios__value__ZERO = __core__mkNilPairData(());\n    __helios__common__insert_in_sorted = (x_1, lst_2, comp_2) -> {\n        recurse_37 = (recurse_36, lst_3) -> {\n            __core__chooseList(lst_3, () -> {\n                __core__mkCons(x_1, lst_3)\n            }, () -> {\n                head = __core__headList__safe(lst_3);\n                __core__ifThenElse(\n                    comp_2(x_1, head),\n                    () -> {\n                        __core__mkCons(x_1, lst_3)\n                    },\n                    () -> {\n                        __core__mkCons(head, recurse_36(recurse_36, __core__tailList__safe(lst_3)))\n                    }\n                )()\n            })()\n        };\n        recurse_37(recurse_37, lst_2)\n    };\n    __helios__common__sort = (lst_4, comp_3) -> {\n        recurse_39 = (recurse_38, lst_5) -> {\n            __core__chooseList(lst_5, () -> {\n                lst_5\n            }, () -> {\n                (head_1, tail_3) -> {\n                    __helios__common__insert_in_sorted(head_1, tail_3, comp_3)\n                }(__core__headList__safe(lst_5), recurse_38(recurse_38, __core__tailList__safe(lst_5)))\n            })()\n        };\n        recurse_39(recurse_39, lst_4)\n    };\n    __helios__string__from_data = (d) -> {\n        __core__decodeUtf8(__core__unBData(d))\n    };\n    __helios__common__map = (self_33, fn_3, init) -> {\n        recurse_41 = (recurse_40, rem_1, lst_6) -> {\n            __core__chooseList(rem_1, () -> {\n                lst_6\n            }, () -> {\n                __core__mkCons(fn_3(__core__headList__safe(rem_1)), recurse_40(recurse_40, __core__tailList__safe(rem_1), lst_6))\n            })()\n        };\n        recurse_41(recurse_41, self_33, init)\n    };\n    __helios__value____to_data = __core__mapData;\n    __helios__value__value = __helios__common__identity;\n    __helios__value__from_data = __core__unMapData;\n    __helios__common__find_safe = (self_34, fn_4, callback) -> {\n        recurse_43 = (recurse_42, self_35, fn_5) -> {\n            __core__chooseList(self_35, () -> {\n                __core__constrData(1, __helios__common__list_0)\n            }, () -> {\n                head_2 = __core__headList__safe(self_35);\n                __core__ifThenElse(\n                    fn_5(head_2),\n                    () -> {\n                        __core__constrData(0, __helios__common__list_1(callback(head_2)))\n                    },\n                    () -> {\n                        recurse_42(recurse_42, __core__tailList__safe(self_35), fn_5)\n                    }\n                )()\n            })()\n        };\n        recurse_43(recurse_43, self_34, fn_4)\n    };\n    __helios__int__max = (a_12, b_12) -> {\n        __core__ifThenElse(\n            __core__lessThanInteger(a_12, b_12),\n            b_12,\n            a_12\n        )\n    };\n    __helios__common__slice_bytearray = (self_36, selfLengthFn) -> {\n        (start, end) -> {\n            normalize = (pos) -> {\n                __core__ifThenElse(\n                    __core__lessThanInteger(pos, 0),\n                    () -> {\n                        __core__addInteger(__core__addInteger(selfLengthFn(self_36), 1), pos)\n                    },\n                    () -> {\n                        pos\n                    }\n                )()\n            };\n            fn_7 = (start_1) -> {\n                fn_6 = (end_1) -> {\n                    __core__sliceByteString(start_1, __core__subtractInteger(end_1, __helios__int__max(start_1, 0)), self_36)\n                };\n                fn_6(normalize(end))\n            };\n            fn_7(normalize(start))\n        }\n    };\n    __helios__bytearray__slice = (self_37) -> {\n        __helios__common__slice_bytearray(self_37, __core__lengthOfByteString)\n    };\n    __helios__bytearray__blake2b = (self_38) -> {\n        () -> {\n            __core__blake2b_256(self_38)\n        }\n    };\n    __helios__int____gt = (a_13, b_13) -> {\n        __helios__bool____not(__core__lessThanEqualsInteger(a_13, b_13))\n    };\n    __helios__bytearray__length = __core__lengthOfByteString;\n    __helios__bytearray____add = __core__appendByteString;\n    __helios__string__encode_utf8 = (self_39) -> {\n        () -> {\n            __core__encodeUtf8(self_39)\n        }\n    };\n    __helios__data__from_data = __helios__common__identity;\n    __helios__common__all = (self_40, fn_8) -> {\n        recurse_45 = (recurse_44, self_41, fn_9) -> {\n            __core__chooseList(self_41, () -> {\n                true\n            }, () -> {\n                __core__ifThenElse(\n                    fn_9(__core__headList__safe(self_41)),\n                    () -> {\n                        recurse_44(recurse_44, __core__tailList__safe(self_41), fn_9)\n                    },\n                    () -> {\n                        false\n                    }\n                )()\n            })()\n        };\n        recurse_45(recurse_45, self_40, fn_8)\n    };\n    __helios__common__enum_fields_after_4 = (self_42) -> {\n        __core__tailList(__helios__common__enum_fields_after_3(self_42))\n    };\n    __helios__common__enum_fields_after_5 = (self_43) -> {\n        __core__tailList(__helios__common__enum_fields_after_4(self_43))\n    };\n    __helios__common__enum_fields_after_6 = (self_44) -> {\n        __core__tailList(__helios__common__enum_fields_after_5(self_44))\n    };\n    __helios__common__enum_fields_after_7 = (self_45) -> {\n        __core__tailList(__helios__common__enum_fields_after_6(self_45))\n    };\n    __helios__common__enum_fields_after_8 = (self_46) -> {\n        __core__tailList(__helios__common__enum_fields_after_7(self_46))\n    };\n    __helios__common__enum_field_9 = (self_47) -> {\n        __core__headList(__helios__common__enum_fields_after_8(self_47))\n    };\n    __helios__tx__redeemers = (self_48) -> {\n        __core__unMapData(__helios__common__enum_field_9(self_48))\n    };\n    __helios__scriptpurpose__spending____is = (data_12) -> {\n        __helios__common__enum_tag_equals(data_12, 1)\n    };\n    __helios__common____eq = __core__equalsData;\n    __helios__txoutputid____eq = __helios__common____eq;\n    __helios__scriptpurpose__spending__output_id = __helios__common__enum_field_0;\n    __helios__txinput__output_id = __helios__common__enum_field_0;\n    __helios__tx__inputs = (self_49) -> {\n        __core__unListData(__helios__common__enum_field_0(self_49))\n    };\n    __helios__value__contains = (self_50) -> {\n        (value) -> {\n            __helios__value____geq(self_50, value)\n        }\n    };\n    __helios__txoutput__value = (self_51) -> {\n        __core__unMapData(__helios__common__enum_field_1(self_51))\n    };\n    __helios__txinput__output = __helios__common__enum_field_1;\n    __helios__txinput__value = (self_52) -> {\n        __helios__txoutput__value(__helios__txinput__output(self_52))\n    };\n    __helios__value__new = (assetClass, i_3) -> {\n        __core__ifThenElse(\n            __core__equalsInteger(0, i_3),\n            () -> {\n                __helios__value__ZERO\n            },\n            () -> {\n                mph_6 = __helios__common__enum_field_0(assetClass);\n                tokenName = __helios__common__enum_field_1(assetClass);\n                __core__mkCons(__core__mkPairData(mph_6, __core__mapData(__core__mkCons(__core__mkPairData(tokenName, __helios__int____to_data(i_3)), __core__mkNilPairData(())))), __core__mkNilPairData(()))\n            }\n        )()\n    };\n    __helios__assetclass__new = (mph_7, token_name_1) -> {\n        __core__constrData(0, __helios__common__list_2(__helios__mintingpolicyhash____to_data(mph_7), __helios__bytearray____to_data(token_name_1)))\n    };\n    __helios__common__map_get = (self_53, key_8, fnFound, fnNotFound) -> {\n        recurse_47 = (recurse_46, self_54, key_9) -> {\n            __core__chooseList(self_54, fnNotFound, () -> {\n                head_3 = __core__headList__safe(self_54);\n                __core__ifThenElse(\n                    __core__equalsData(key_9, __core__fstPair(head_3)),\n                    () -> {\n                        fnFound(__core__sndPair(head_3))\n                    },\n                    () -> {\n                        recurse_46(recurse_46, __core__tailList__safe(self_54), key_9)\n                    }\n                )()\n            })()\n        };\n        recurse_47(recurse_47, self_53, key_8)\n    };\n    __helios__scriptpurpose____to_data = __helios__common__identity;\n    __helios__txoutputid__show = (self_55) -> {\n        () -> {\n            __helios__string____add(__helios__txid__show(__helios__txoutputid__tx_id(self_55))(), __helios__string____add("#", __helios__int__show(__helios__txoutputid__index(self_55))()))\n        }\n    };\n    __helios__txoutputdatum__inline = (self_56) -> {\n        pair_7 = __core__unConstrData(self_56);\n        index_4 = __core__fstPair(pair_7);\n        fields_5 = __core__sndPair(pair_7);\n        __core__ifThenElse(\n            __core__equalsInteger(index_4, 2),\n            () -> {\n                __core__headList(fields_5)\n            },\n            () -> {\n                __helios__error("not an inline datum")\n            }\n        )()\n    };\n    __helios__common__enum_field_2 = (self_57) -> {\n        __core__headList(__helios__common__enum_fields_after_1(self_57))\n    };\n    __helios__txoutput__datum = __helios__common__enum_field_2;\n    __helios__txinput__datum = (self_58) -> {\n        __helios__txoutput__datum(__helios__txinput__output(self_58))\n    };\n    __helios__option__NONE = __core__constrData(1, __helios__common__list_0);\n    __helios__common__struct_fields_after_0 = __core__tailList;\n    __helios__common__struct_field_1 = (self_59) -> {\n        __core__headList(__helios__common__struct_fields_after_0(self_59))\n    };\n    __helios__common__struct_field_0 = __core__headList;\n    __helios__data__constrdata____is = (data_13) -> {\n        __core__chooseData(data_13, () -> {\n            true\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        })()\n    };\n    __helios__int____eq = __core__equalsInteger;\n    __helios__data__constrdata__fields = (data_14) -> {\n        __core__sndPair(__core__unConstrData(data_14))\n    };\n    __helios__data__constrdata__tag = (data_15) -> {\n        __core__fstPair(__core__unConstrData(data_15))\n    };\n    __helios__txinput__from_data = __helios__common__identity;\n    __helios__common__length = (lst_7) -> {\n        recurse_49 = (recurse_48, lst_8) -> {\n            __core__chooseList(lst_8, () -> {\n                0\n            }, () -> {\n                __core__addInteger(recurse_48(recurse_48, __core__tailList__safe(lst_8)), 1)\n            })()\n        };\n        recurse_49(recurse_49, lst_7)\n    };\n    __helios__common__struct_fields_after_1 = (self_60) -> {\n        __core__tailList(__helios__common__struct_fields_after_0(self_60))\n    };\n    __helios__common__struct_fields_after_2 = (self_61) -> {\n        __core__tailList(__helios__common__struct_fields_after_1(self_61))\n    };\n    __helios__common__struct_fields_after_3 = (self_62) -> {\n        __core__tailList(__helios__common__struct_fields_after_2(self_62))\n    };\n    __helios__common__struct_field_4 = (self_63) -> {\n        __core__headList(__helios__common__struct_fields_after_3(self_63))\n    };\n    __helios__common__struct_field_3 = (self_64) -> {\n        __core__headList(__helios__common__struct_fields_after_2(self_64))\n    };\n    __helios__txoutput__is_valid_data = (data_16) -> {\n        __core__chooseData(data_16, () -> {\n            true\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        })()\n    };\n    __helios__txinput__is_valid_data = (data_17) -> {\n        __helios__common__test_constr_data_2(data_17, 0, __helios__txoutputid__is_valid_data, __helios__txoutput__is_valid_data)\n    };\n    __helios__tx__ref_inputs = (self_65) -> {\n        __core__unListData(__helios__common__enum_field_1(self_65))\n    };\n    __helios__txinput____to_data = __helios__common__identity;\n    __helios__common__enum_field_3 = (self_66) -> {\n        __core__headList(__helios__common__enum_fields_after_2(self_66))\n    };\n    __helios__string__parse_utf8_cont_byte = (byte, callback_1) -> {\n        __core__ifThenElse(\n            __core__equalsInteger(__core__divideInteger(byte, 64), 2),\n            () -> {\n                callback_1(true, __core__modInteger(byte, 64))\n            },\n            () -> {\n                callback_1(false, 0)\n            }\n        )()\n    };\n    __helios__string__is_valid_utf8 = (bytes_5) -> {\n        n_2 = __core__lengthOfByteString(bytes_5);\n        recurse_51 = (recurse_50, i_4) -> {\n            __core__ifThenElse(\n                __core__equalsInteger(i_4, n_2),\n                () -> {\n                    true\n                },\n                () -> {\n                    b0 = __core__indexByteString__safe(bytes_5, i_4);\n                    __core__ifThenElse(\n                        __core__lessThanEqualsInteger(b0, 127),\n                        () -> {\n                            recurse_50(recurse_50, __core__addInteger(i_4, 1))\n                        },\n                        () -> {\n                            __core__ifThenElse(\n                                __core__equalsInteger(__core__divideInteger(b0, 32), 6),\n                                () -> {\n                                    inext_2 = __core__addInteger(i_4, 2);\n                                    __core__ifThenElse(\n                                        __core__lessThanEqualsInteger(inext_2, n_2),\n                                        () -> {\n                                            __helios__string__parse_utf8_cont_byte(__core__indexByteString__safe(bytes_5, __core__addInteger(i_4, 1)), (valid_5, c1_2) -> {\n                                                __core__ifThenElse(\n                                                    valid_5,\n                                                    () -> {\n                                                        c_2 = __core__addInteger(__core__multiplyInteger(__core__modInteger(b0, 32), 64), c1_2);\n                                                        __core__ifThenElse(\n                                                            __helios__bool__and(() -> {\n                                                                __core__lessThanEqualsInteger(128, c_2)\n                                                            }, () -> {\n                                                                __core__lessThanEqualsInteger(c_2, 2047)\n                                                            }),\n                                                            () -> {\n                                                                recurse_50(recurse_50, inext_2)\n                                                            },\n                                                            () -> {\n                                                                false\n                                                            }\n                                                        )()\n                                                    },\n                                                    () -> {\n                                                        false\n                                                    }\n                                                )()\n                                            })\n                                        },\n                                        () -> {\n                                            false\n                                        }\n                                    )()\n                                },\n                                () -> {\n                                    __core__ifThenElse(\n                                        __core__equalsInteger(__core__divideInteger(b0, 16), 14),\n                                        () -> {\n                                            inext_1 = __core__addInteger(i_4, 3);\n                                            __core__ifThenElse(\n                                                __core__lessThanEqualsInteger(inext_1, n_2),\n                                                () -> {\n                                                    __helios__string__parse_utf8_cont_byte(__core__indexByteString__safe(bytes_5, __core__addInteger(i_4, 1)), (valid_3, c1_1) -> {\n                                                        __core__ifThenElse(\n                                                            valid_3,\n                                                            () -> {\n                                                                __helios__string__parse_utf8_cont_byte(__core__indexByteString__safe(bytes_5, __core__addInteger(i_4, 2)), (valid_4, c2_1) -> {\n                                                                    __core__ifThenElse(\n                                                                        valid_4,\n                                                                        () -> {\n                                                                            c_1 = __core__addInteger(__core__multiplyInteger(__core__modInteger(b0, 16), 4096), __core__addInteger(__core__multiplyInteger(c1_1, 64), c2_1));\n                                                                            __core__ifThenElse(\n                                                                                __helios__bool__and(() -> {\n                                                                                    __core__lessThanEqualsInteger(2048, c_1)\n                                                                                }, () -> {\n                                                                                    __core__lessThanEqualsInteger(c_1, 65535)\n                                                                                }),\n                                                                                () -> {\n                                                                                    recurse_50(recurse_50, inext_1)\n                                                                                },\n                                                                                () -> {\n                                                                                    false\n                                                                                }\n                                                                            )()\n                                                                        },\n                                                                        () -> {\n                                                                            false\n                                                                        }\n                                                                    )()\n                                                                })\n                                                            },\n                                                            () -> {\n                                                                false\n                                                            }\n                                                        )()\n                                                    })\n                                                },\n                                                () -> {\n                                                    false\n                                                }\n                                            )()\n                                        },\n                                        () -> {\n                                            __core__ifThenElse(\n                                                __core__equalsInteger(__core__divideInteger(b0, 8), 30),\n                                                () -> {\n                                                    inext = __core__addInteger(i_4, 4);\n                                                    __core__ifThenElse(\n                                                        __core__lessThanEqualsInteger(inext, n_2),\n                                                        () -> {\n                                                            __helios__string__parse_utf8_cont_byte(__core__indexByteString__safe(bytes_5, __core__addInteger(i_4, 1)), (valid, c1) -> {\n                                                                __core__ifThenElse(\n                                                                    valid,\n                                                                    () -> {\n                                                                        __helios__string__parse_utf8_cont_byte(__core__indexByteString__safe(bytes_5, __core__addInteger(i_4, 2)), (valid_1, c2) -> {\n                                                                            __core__ifThenElse(\n                                                                                valid_1,\n                                                                                () -> {\n                                                                                    __helios__string__parse_utf8_cont_byte(__core__indexByteString__safe(bytes_5, __core__addInteger(i_4, 3)), (valid_2, c3) -> {\n                                                                                        __core__ifThenElse(\n                                                                                            valid_2,\n                                                                                            () -> {\n                                                                                                c = __core__addInteger(__core__multiplyInteger(__core__modInteger(b0, 8), 262144), __core__addInteger(__core__multiplyInteger(c1, 4096), __core__addInteger(__core__multiplyInteger(c2, 64), c3)));\n                                                                                                __core__ifThenElse(\n                                                                                                    __helios__bool__and(() -> {\n                                                                                                        __core__lessThanEqualsInteger(65536, c)\n                                                                                                    }, () -> {\n                                                                                                        __core__lessThanEqualsInteger(c, 2097151)\n                                                                                                    }),\n                                                                                                    () -> {\n                                                                                                        recurse_50(recurse_50, inext)\n                                                                                                    },\n                                                                                                    () -> {\n                                                                                                        false\n                                                                                                    }\n                                                                                                )()\n                                                                                            },\n                                                                                            () -> {\n                                                                                                false\n                                                                                            }\n                                                                                        )()\n                                                                                    })\n                                                                                },\n                                                                                () -> {\n                                                                                    false\n                                                                                }\n                                                                            )()\n                                                                        })\n                                                                    },\n                                                                    () -> {\n                                                                        false\n                                                                    }\n                                                                )()\n                                                            })\n                                                        },\n                                                        () -> {\n                                                            false\n                                                        }\n                                                    )()\n                                                },\n                                                () -> {\n                                                    false\n                                                }\n                                            )()\n                                        }\n                                    )()\n                                }\n                            )()\n                        }\n                    )()\n                }\n            )()\n        };\n        recurse_51(recurse_51, 0)\n    };\n    __helios__string__is_valid_data = (data_18) -> {\n        __core__chooseData(data_18, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            __helios__string__is_valid_utf8(__core__unBData__safe(data_18))\n        })()\n    };\n    __helios__common__filter = (self_67, fn_10, nil) -> {\n        recurse_53 = (recurse_52, self_68, fn_11) -> {\n            __core__chooseList(self_68, () -> {\n                nil\n            }, () -> {\n                head_4 = __core__headList__safe(self_68);\n                __core__ifThenElse(\n                    fn_11(head_4),\n                    () -> {\n                        __core__mkCons(head_4, recurse_52(recurse_52, __core__tailList__safe(self_68), fn_11))\n                    },\n                    () -> {\n                        recurse_52(recurse_52, __core__tailList__safe(self_68), fn_11)\n                    }\n                )()\n            })()\n        };\n        recurse_53(recurse_53, self_67, fn_10)\n    };\n    __helios__common__filter_map = (self_69, fn_12) -> {\n        __helios__common__filter(self_69, fn_12, __core__mkNilPairData(()))\n    };\n    __helios__common__test_mStruct_field = (self_70, name, inner_test) -> {\n        __core__chooseData(self_70, () -> {\n            false\n        }, () -> {\n            map_10 = __core__unMapData__safe(self_70);\n            recurse_55 = (recurse_54, map_11) -> {\n                __core__chooseList(map_11, () -> {\n                    __core__trace(__core__appendString("Warning: field not found: ", __core__decodeUtf8__safe(__core__unBData__safe(name))), () -> {\n                        false\n                    })()\n                }, () -> {\n                    head_5 = __core__headList__safe(map_11);\n                    key_10 = __core__fstPair(head_5);\n                    value_1 = __core__sndPair(head_5);\n                    __core__ifThenElse(\n                        __core__equalsData(key_10, name),\n                        () -> {\n                            inner_test(value_1)\n                        },\n                        () -> {\n                            recurse_54(recurse_54, __core__tailList__safe(map_11))\n                        }\n                    )()\n                })()\n            };\n            recurse_55(recurse_55, map_10)\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        })()\n    };\n    __helios__mintingpolicyhash__is_valid_data = (data_19) -> {\n        __core__chooseData(data_19, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            bytes_6 = __core__unBData__safe(data_19);\n            n_3 = __core__lengthOfByteString(bytes_6);\n            __core__ifThenElse(\n                __core__equalsInteger(n_3, 0),\n                () -> {\n                    true\n                },\n                () -> {\n                    __core__ifThenElse(\n                        __core__equalsInteger(n_3, 28),\n                        true,\n                        false\n                    )\n                }\n            )()\n        })()\n    };\n    __helios__validatorhash__show = __helios__bytearray__show;\n    __helios__txoutput__sum_values = (outputs) -> {\n        __helios__common__fold(outputs, (prev_2, txOutput) -> {\n            __helios__value____add(prev_2, __helios__txoutput__value(txOutput))\n        }, __helios__value__ZERO)\n    };\n    __helios__common__filter_list = (self_71, fn_13) -> {\n        __helios__common__filter(self_71, fn_13, __helios__common__list_0)\n    };\n    __helios__tx__outputs = (self_72) -> {\n        __core__unListData(__helios__common__enum_field_2(self_72))\n    };\n    __helios__tx__filter_outputs = (self_73, fn_14) -> {\n        __helios__common__filter_list(__helios__tx__outputs(self_73), fn_14)\n    };\n    __helios__address__credential = __helios__common__enum_field_0;\n    __helios__txoutput__address = __helios__common__enum_field_0;\n    __helios__spendingcredential__is_validator = (self_74) -> {\n        __core__equalsInteger(__core__fstPair(__core__unConstrData(self_74)), 1)\n    };\n    __helios__validatorhash____eq = __helios__bytearray____eq;\n    __helios__validatorhash__from_data = __helios__bytearray__from_data;\n    __helios__spendingcredential__validator__hash = (self_75) -> {\n        __helios__validatorhash__from_data(__helios__common__enum_field_0(self_75))\n    };\n    __helios__spendingcredential__validator__cast = (data_20) -> {\n        __helios__common__assert_constr_index(data_20, 1)\n    };\n    __helios__txoutput__is_locked_by = (self_76) -> {\n        (hash) -> {\n            credential = __helios__address__credential(__helios__txoutput__address(self_76));\n            __core__ifThenElse(\n                __helios__spendingcredential__is_validator(credential),\n                () -> {\n                    __helios__validatorhash____eq(hash, __helios__spendingcredential__validator__hash(__helios__spendingcredential__validator__cast(credential)))\n                },\n                () -> {\n                    false\n                }\n            )()\n        }\n    };\n    __helios__tx__outputs_locked_by = (self_77) -> {\n        (vh) -> {\n            __helios__tx__filter_outputs(self_77, (output) -> {\n                __helios__txoutput__is_locked_by(output)(vh)\n            })\n        }\n    };\n    __helios__tx__value_locked_by = (self_78) -> {\n        (vh_1) -> {\n            __helios__txoutput__sum_values(__helios__tx__outputs_locked_by(self_78)(vh_1))\n        }\n    };\n    __helios__txoutput__from_data = __helios__common__identity;\n    __helios__spendingcredential____eq = __helios__common____eq;\n    __helios__txinput__address = (self_79) -> {\n        __helios__txoutput__address(__helios__txinput__output(self_79))\n    };\n    __helios__validatorhash____to_data = __helios__bytearray____to_data;\n    __helios__spendingcredential__new_validator = (hash_1) -> {\n        __core__constrData(1, __helios__common__list_1(__helios__validatorhash____to_data(hash_1)))\n    };\n    __helios__struct____to_data = __core__listData;\n    __helios__data__is_valid_data = (data_21) -> {\n        true\n    };\n    __helios__bytearray__is_valid_data_max_length = (n_4) -> {\n        (data_22) -> {\n            __core__chooseData(data_22, () -> {\n                false\n            }, () -> {\n                false\n            }, () -> {\n                false\n            }, () -> {\n                false\n            }, () -> {\n                bytes_7 = __core__unBData__safe(data_22);\n                __core__ifThenElse(\n                    __core__lessThanEqualsInteger(__core__lengthOfByteString(bytes_7), n_4),\n                    () -> {\n                        true\n                    },\n                    () -> {\n                        false\n                    }\n                )()\n            })()\n        }\n    };\n    __helios__assetclass__is_valid_data = (data_23) -> {\n        __helios__common__test_constr_data_2(data_23, 0, __helios__mintingpolicyhash__is_valid_data, __helios__bytearray__is_valid_data_max_length(32))\n    };\n    __helios__scriptpurpose__from_data = __helios__common__identity;\n    __module__StellarHeliosHelpers__TODO = (task) -> {\n        __helios__print(__helios__string____add(__helios__string____add("      TODO: ", task), "\n"))\n    };\n    __module__StellarHeliosHelpers__REQT = (reqt, __useopt__assertion, assertion) -> {\n        assertion_1 = __core__ifThenElse(\n            __useopt__assertion,\n            () -> {\n                assertion\n            },\n            () -> {\n                true\n            }\n        )();\n        __core__chooseUnit(__helios__print(__helios__string____add(" ", reqt)), __helios__assert(assertion_1, __helios__string____add("   ^ failed: ", reqt)))\n    };\n    __module__StellarHeliosHelpers__mkTv = (mph_8, __useopt__tn, tn, __useopt__tnBytes, tnBytes, __useopt__count, count) -> {\n        tn_1 = __core__ifThenElse(\n            __useopt__tn,\n            () -> {\n                tn\n            },\n            () -> {\n                ""\n            }\n        )();\n        tnBytes_1 = __core__ifThenElse(\n            __useopt__tnBytes,\n            () -> {\n                tnBytes\n            },\n            () -> {\n                __helios__string__encode_utf8(tn_1)()\n            }\n        )();\n        count_1 = __core__ifThenElse(\n            __useopt__count,\n            () -> {\n                count\n            },\n            () -> {\n                1\n            }\n        )();\n        __core__chooseUnit(__helios__assert(__helios__int____gt(__helios__bytearray__length(tnBytes_1), 0), "missing reqd tn or tnBytes"), __helios__value__new(__helios__assetclass__new(mph_8, tnBytes_1), count_1))\n    };\n    __module__StellarHeliosHelpers__tvCharter = (mph_9) -> {\n        __module__StellarHeliosHelpers__mkTv(mph_9, true, "charter", false, (), false, ())\n    };\n    __helios__map[__helios__bytearray@__helios__int]__is_valid_data_internal = (map_12) -> {\n        recurse_57 = (recurse_56, map_13) -> {\n            __core__chooseList(map_13, () -> {\n                true\n            }, () -> {\n                head_6 = __core__headList__safe(map_13);\n                __core__ifThenElse(\n                    __helios__bytearray__is_valid_data(__core__fstPair(head_6)),\n                    () -> {\n                        __core__ifThenElse(\n                            __helios__int__is_valid_data(__core__sndPair(head_6)),\n                            () -> {\n                                recurse_56(recurse_56, __core__tailList__safe(map_13))\n                            },\n                            () -> {\n                                false\n                            }\n                        )()\n                    },\n                    () -> {\n                        false\n                    }\n                )()\n            })()\n        };\n        recurse_57(recurse_57, map_12)\n    };\n    __helios__map[__helios__bytearray@__helios__int]__from_data = (data_24) -> {\n        map_14 = __core__unMapData(data_24);\n        _ = __core__ifThenElse(\n            __helios__map[__helios__bytearray@__helios__int]__is_valid_data_internal(map_14),\n            () -> {\n                ()\n            },\n            () -> {\n                __core__trace("Warning: invalid map data", ())\n            }\n        )();\n        map_14\n    };\n    __helios__map[__helios__scriptpurpose@__helios__data]__get = (self_80) -> {\n        (key_11) -> {\n            __helios__common__map_get(self_80, __helios__scriptpurpose____to_data(key_11), (x_2) -> {\n                __helios__data__from_data(x_2)\n            }, () -> {\n                __helios__error("key not found")\n            })\n        }\n    };\n    __helios__map[__helios__scriptpurpose@__helios__data]__find_key = (self_81) -> {\n        (fn_15) -> {\n            recurse_59 = (recurse_58, map_15) -> {\n                __core__chooseList(map_15, () -> {\n                    __helios__error("not found")\n                }, () -> {\n                    item_2 = __helios__scriptpurpose__from_data(__core__fstPair(__core__headList__safe(map_15)));\n                    __core__ifThenElse(\n                        fn_15(item_2),\n                        () -> {\n                            item_2\n                        },\n                        () -> {\n                            recurse_58(recurse_58, __core__tailList__safe(map_15))\n                        }\n                    )()\n                })()\n            };\n            recurse_59(recurse_59, self_81)\n        }\n    };\n    __module__StellarHeliosHelpers__mustFindInputRedeemer = (txInput) -> {\n        targetId = __helios__txinput__output_id(txInput);\n        redeemers = __helios__tx__redeemers(__helios__scriptcontext__tx);\n        spendsExpectedInput = __helios__map[__helios__scriptpurpose@__helios__data]__find_key(redeemers)((purpose) -> {\n            __cond = purpose;\n            __core__ifThenElse(\n                __helios__scriptpurpose__spending____is(__cond),\n                () -> {\n                    (sp) -> {\n                        __helios__txoutputid____eq(__helios__scriptpurpose__spending__output_id(sp), targetId)\n                    }\n                },\n                () -> {\n                    (__1) -> {\n                        false\n                    }\n                }\n            )()(__cond)\n        });\n        __helios__map[__helios__scriptpurpose@__helios__data]__get(redeemers)(spendsExpectedInput)\n    };\n    __module__CapoDelegateHelpers__DelegateLifecycleActivity[]__is_valid_data = (__module__CapoDelegateHelpers__DelegateLifecycleActivity[]__ReplacingMe__is_valid_data, __module__CapoDelegateHelpers__DelegateLifecycleActivity[]__Retiring__is_valid_data, __module__CapoDelegateHelpers__DelegateLifecycleActivity[]__ValidatingSettings__is_valid_data) -> {\n        (data_25) -> {\n            __core__ifThenElse(\n                __module__CapoDelegateHelpers__DelegateLifecycleActivity[]__ValidatingSettings__is_valid_data(data_25),\n                () -> {\n                    true\n                },\n                () -> {\n                    __core__ifThenElse(\n                        __module__CapoDelegateHelpers__DelegateLifecycleActivity[]__Retiring__is_valid_data(data_25),\n                        () -> {\n                            true\n                        },\n                        () -> {\n                            __core__ifThenElse(\n                                __module__CapoDelegateHelpers__DelegateLifecycleActivity[]__ReplacingMe__is_valid_data(data_25),\n                                () -> {\n                                    true\n                                },\n                                () -> {\n                                    false\n                                }\n                            )()\n                        }\n                    )()\n                }\n            )()\n        }\n    };\n    __module__CapoDelegateHelpers__DelegateLifecycleActivity[]__from_data = (__module__CapoDelegateHelpers__DelegateLifecycleActivity[]__ReplacingMe__is_valid_data_1, __module__CapoDelegateHelpers__DelegateLifecycleActivity[]__Retiring__is_valid_data_1, __module__CapoDelegateHelpers__DelegateLifecycleActivity[]__ValidatingSettings__is_valid_data_1) -> {\n        (data_26) -> {\n            ignore = __core__ifThenElse(\n                __module__CapoDelegateHelpers__DelegateLifecycleActivity[]__is_valid_data(__module__CapoDelegateHelpers__DelegateLifecycleActivity[]__ReplacingMe__is_valid_data_1, __module__CapoDelegateHelpers__DelegateLifecycleActivity[]__Retiring__is_valid_data_1, __module__CapoDelegateHelpers__DelegateLifecycleActivity[]__ValidatingSettings__is_valid_data_1)(data_26),\n                () -> {\n                    ()\n                },\n                () -> {\n                    __core__trace("Warning: invalid DelegateLifecycleActivity data", ())\n                }\n            )();\n            data_26\n        }\n    };\n    __module__CapoDelegateHelpers__DelegateLifecycleActivity[]__ReplacingMe____is = (data_27) -> {\n        __helios__common__enum_tag_equals(data_27, 0)\n    };\n    __module__CapoDelegateHelpers__DelegateLifecycleActivity[]__ReplacingMe__is_valid_data_2 = (data_28) -> {\n        __core__chooseData(data_28, () -> {\n            pair_8 = __core__unConstrData__safe(data_28);\n            __core__ifThenElse(\n                __core__equalsInteger(__core__fstPair(pair_8), 0),\n                () -> {\n                    data_29 = __core__listData(__core__sndPair(pair_8));\n                    __core__chooseData(data_29, () -> {\n                        false\n                    }, () -> {\n                        false\n                    }, () -> {\n                        fields_6 = __core__unListData__safe(data_29);\n                        __core__chooseList(fields_6, () -> {\n                            false\n                        }, () -> {\n                            head_7 = __core__headList__safe(fields_6);\n                            __core__ifThenElse(\n                                __helios__txoutputid__is_valid_data(head_7),\n                                () -> {\n                                    fields_7 = __core__tailList__safe(fields_6);\n                                    __core__chooseList(fields_7, () -> {\n                                        false\n                                    }, () -> {\n                                        head_8 = __core__headList__safe(fields_7);\n                                        __core__ifThenElse(\n                                            __helios__string__is_valid_data(head_8),\n                                            () -> {\n                                                fields_8 = __core__tailList__safe(fields_7);\n                                                __core__chooseList(fields_8, true, false)\n                                            },\n                                            () -> {\n                                                false\n                                            }\n                                        )()\n                                    })()\n                                },\n                                () -> {\n                                    false\n                                }\n                            )()\n                        })()\n                    }, () -> {\n                        false\n                    }, () -> {\n                        false\n                    })()\n                },\n                () -> {\n                    false\n                }\n            )()\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        })()\n    };\n    __module__CapoDelegateHelpers__DelegateLifecycleActivity[]__Retiring____is = (data_30) -> {\n        __helios__common__enum_tag_equals(data_30, 1)\n    };\n    __module__CapoDelegateHelpers__DelegateLifecycleActivity[]__Retiring__is_valid_data_2 = (data_31) -> {\n        __core__chooseData(data_31, () -> {\n            pair_9 = __core__unConstrData__safe(data_31);\n            __core__ifThenElse(\n                __core__equalsInteger(__core__fstPair(pair_9), 1),\n                () -> {\n                    data_32 = __core__listData(__core__sndPair(pair_9));\n                    __core__chooseData(data_32, () -> {\n                        false\n                    }, () -> {\n                        false\n                    }, () -> {\n                        fields_9 = __core__unListData__safe(data_32);\n                        __core__chooseList(fields_9, true, false)\n                    }, () -> {\n                        false\n                    }, () -> {\n                        false\n                    })()\n                },\n                () -> {\n                    false\n                }\n            )()\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        })()\n    };\n    __module__CapoDelegateHelpers__DelegateLifecycleActivity[]__ValidatingSettings__is_valid_data_2 = (data_33) -> {\n        __core__chooseData(data_33, () -> {\n            pair_10 = __core__unConstrData__safe(data_33);\n            __core__ifThenElse(\n                __core__equalsInteger(__core__fstPair(pair_10), 2),\n                () -> {\n                    data_34 = __core__listData(__core__sndPair(pair_10));\n                    __core__chooseData(data_34, () -> {\n                        false\n                    }, () -> {\n                        false\n                    }, () -> {\n                        fields_10 = __core__unListData__safe(data_34);\n                        __core__chooseList(fields_10, true, false)\n                    }, () -> {\n                        false\n                    }, () -> {\n                        false\n                    })()\n                },\n                () -> {\n                    false\n                }\n            )()\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        })()\n    };\n    __module__CapoDelegateHelpers__DelegateRole[]____to_data = __helios__common__identity;\n    __module__CapoDelegateHelpers__DelegateRole[]__is_valid_data = (__module__CapoDelegateHelpers__DelegateRole[]__MintDgt__is_valid_data, __module__CapoDelegateHelpers__DelegateRole[]__SpendDgt__is_valid_data, __module__CapoDelegateHelpers__DelegateRole[]__MintInvariant__is_valid_data, __module__CapoDelegateHelpers__DelegateRole[]__SpendInvariant__is_valid_data, __module__CapoDelegateHelpers__DelegateRole[]__DgDataPolicy__is_valid_data, __module__CapoDelegateHelpers__DelegateRole[]__OtherNamedDgt__is_valid_data, __module__CapoDelegateHelpers__DelegateRole[]__BothMintAndSpendDgt__is_valid_data, __module__CapoDelegateHelpers__DelegateRole[]__HandledByCapoOnly__is_valid_data) -> {\n        (data_35) -> {\n            __core__ifThenElse(\n                __module__CapoDelegateHelpers__DelegateRole[]__HandledByCapoOnly__is_valid_data(data_35),\n                () -> {\n                    true\n                },\n                () -> {\n                    __core__ifThenElse(\n                        __module__CapoDelegateHelpers__DelegateRole[]__BothMintAndSpendDgt__is_valid_data(data_35),\n                        () -> {\n                            true\n                        },\n                        () -> {\n                            __core__ifThenElse(\n                                __module__CapoDelegateHelpers__DelegateRole[]__OtherNamedDgt__is_valid_data(data_35),\n                                () -> {\n                                    true\n                                },\n                                () -> {\n                                    __core__ifThenElse(\n                                        __module__CapoDelegateHelpers__DelegateRole[]__DgDataPolicy__is_valid_data(data_35),\n                                        () -> {\n                                            true\n                                        },\n                                        () -> {\n                                            __core__ifThenElse(\n                                                __module__CapoDelegateHelpers__DelegateRole[]__SpendInvariant__is_valid_data(data_35),\n                                                () -> {\n                                                    true\n                                                },\n                                                () -> {\n                                                    __core__ifThenElse(\n                                                        __module__CapoDelegateHelpers__DelegateRole[]__MintInvariant__is_valid_data(data_35),\n                                                        () -> {\n                                                            true\n                                                        },\n                                                        () -> {\n                                                            __core__ifThenElse(\n                                                                __module__CapoDelegateHelpers__DelegateRole[]__SpendDgt__is_valid_data(data_35),\n                                                                () -> {\n                                                                    true\n                                                                },\n                                                                () -> {\n                                                                    __core__ifThenElse(\n                                                                        __module__CapoDelegateHelpers__DelegateRole[]__MintDgt__is_valid_data(data_35),\n                                                                        () -> {\n                                                                            true\n                                                                        },\n                                                                        () -> {\n                                                                            false\n                                                                        }\n                                                                    )()\n                                                                }\n                                                            )()\n                                                        }\n                                                    )()\n                                                }\n                                            )()\n                                        }\n                                    )()\n                                }\n                            )()\n                        }\n                    )()\n                }\n            )()\n        }\n    };\n    __module__CapoDelegateHelpers__DelegateRole[]__MintDgt__is_valid_data_1 = (data_36) -> {\n        __core__chooseData(data_36, () -> {\n            pair_11 = __core__unConstrData__safe(data_36);\n            __core__ifThenElse(\n                __core__equalsInteger(__core__fstPair(pair_11), 0),\n                () -> {\n                    data_37 = __core__listData(__core__sndPair(pair_11));\n                    __core__chooseData(data_37, () -> {\n                        false\n                    }, () -> {\n                        false\n                    }, () -> {\n                        fields_11 = __core__unListData__safe(data_37);\n                        __core__chooseList(fields_11, true, false)\n                    }, () -> {\n                        false\n                    }, () -> {\n                        false\n                    })()\n                },\n                () -> {\n                    false\n                }\n            )()\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        })()\n    };\n    __module__CapoDelegateHelpers__DelegateRole[]__MintDgt____new = () -> {\n        __core__constrData(0, __core__mkNilData(()))\n    };\n    __module__CapoDelegateHelpers__DelegateRole[]__SpendDgt__is_valid_data_1 = (data_38) -> {\n        __core__chooseData(data_38, () -> {\n            pair_12 = __core__unConstrData__safe(data_38);\n            __core__ifThenElse(\n                __core__equalsInteger(__core__fstPair(pair_12), 1),\n                () -> {\n                    data_39 = __core__listData(__core__sndPair(pair_12));\n                    __core__chooseData(data_39, () -> {\n                        false\n                    }, () -> {\n                        false\n                    }, () -> {\n                        fields_12 = __core__unListData__safe(data_39);\n                        __core__chooseList(fields_12, true, false)\n                    }, () -> {\n                        false\n                    }, () -> {\n                        false\n                    })()\n                },\n                () -> {\n                    false\n                }\n            )()\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        })()\n    };\n    __module__CapoDelegateHelpers__DelegateRole[]__MintInvariant__is_valid_data_1 = (data_40) -> {\n        __core__chooseData(data_40, () -> {\n            pair_13 = __core__unConstrData__safe(data_40);\n            __core__ifThenElse(\n                __core__equalsInteger(__core__fstPair(pair_13), 2),\n                () -> {\n                    data_41 = __core__listData(__core__sndPair(pair_13));\n                    __core__chooseData(data_41, () -> {\n                        false\n                    }, () -> {\n                        false\n                    }, () -> {\n                        fields_13 = __core__unListData__safe(data_41);\n                        __core__chooseList(fields_13, true, false)\n                    }, () -> {\n                        false\n                    }, () -> {\n                        false\n                    })()\n                },\n                () -> {\n                    false\n                }\n            )()\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        })()\n    };\n    __module__CapoDelegateHelpers__DelegateRole[]__SpendInvariant__is_valid_data_1 = (data_42) -> {\n        __core__chooseData(data_42, () -> {\n            pair_14 = __core__unConstrData__safe(data_42);\n            __core__ifThenElse(\n                __core__equalsInteger(__core__fstPair(pair_14), 3),\n                () -> {\n                    data_43 = __core__listData(__core__sndPair(pair_14));\n                    __core__chooseData(data_43, () -> {\n                        false\n                    }, () -> {\n                        false\n                    }, () -> {\n                        fields_14 = __core__unListData__safe(data_43);\n                        __core__chooseList(fields_14, true, false)\n                    }, () -> {\n                        false\n                    }, () -> {\n                        false\n                    })()\n                },\n                () -> {\n                    false\n                }\n            )()\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        })()\n    };\n    __module__CapoDelegateHelpers__DelegateRole[]__DgDataPolicy__is_valid_data_1 = (data_44) -> {\n        __core__chooseData(data_44, () -> {\n            pair_15 = __core__unConstrData__safe(data_44);\n            __core__ifThenElse(\n                __core__equalsInteger(__core__fstPair(pair_15), 4),\n                () -> {\n                    data_45 = __core__listData(__core__sndPair(pair_15));\n                    __core__chooseData(data_45, () -> {\n                        false\n                    }, () -> {\n                        false\n                    }, () -> {\n                        fields_15 = __core__unListData__safe(data_45);\n                        __core__chooseList(fields_15, true, false)\n                    }, () -> {\n                        false\n                    }, () -> {\n                        false\n                    })()\n                },\n                () -> {\n                    false\n                }\n            )()\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        })()\n    };\n    __module__CapoDelegateHelpers__DelegateRole[]__OtherNamedDgt__is_valid_data_1 = (data_46) -> {\n        __core__chooseData(data_46, () -> {\n            pair_16 = __core__unConstrData__safe(data_46);\n            __core__ifThenElse(\n                __core__equalsInteger(__core__fstPair(pair_16), 5),\n                () -> {\n                    data_47 = __core__listData(__core__sndPair(pair_16));\n                    __core__chooseData(data_47, () -> {\n                        false\n                    }, () -> {\n                        false\n                    }, () -> {\n                        fields_16 = __core__unListData__safe(data_47);\n                        __core__chooseList(fields_16, true, false)\n                    }, () -> {\n                        false\n                    }, () -> {\n                        false\n                    })()\n                },\n                () -> {\n                    false\n                }\n            )()\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        })()\n    };\n    __module__CapoDelegateHelpers__DelegateRole[]__BothMintAndSpendDgt__is_valid_data_1 = (data_48) -> {\n        __core__chooseData(data_48, () -> {\n            pair_17 = __core__unConstrData__safe(data_48);\n            __core__ifThenElse(\n                __core__equalsInteger(__core__fstPair(pair_17), 6),\n                () -> {\n                    data_49 = __core__listData(__core__sndPair(pair_17));\n                    __core__chooseData(data_49, () -> {\n                        false\n                    }, () -> {\n                        false\n                    }, () -> {\n                        fields_17 = __core__unListData__safe(data_49);\n                        __core__chooseList(fields_17, true, false)\n                    }, () -> {\n                        false\n                    }, () -> {\n                        false\n                    })()\n                },\n                () -> {\n                    false\n                }\n            )()\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        })()\n    };\n    __module__CapoDelegateHelpers__DelegateRole[]__HandledByCapoOnly__is_valid_data_1 = (data_50) -> {\n        __core__chooseData(data_50, () -> {\n            pair_18 = __core__unConstrData__safe(data_50);\n            __core__ifThenElse(\n                __core__equalsInteger(__core__fstPair(pair_18), 7),\n                () -> {\n                    data_51 = __core__listData(__core__sndPair(pair_18));\n                    __core__chooseData(data_51, () -> {\n                        false\n                    }, () -> {\n                        false\n                    }, () -> {\n                        fields_18 = __core__unListData__safe(data_51);\n                        __core__chooseList(fields_18, true, false)\n                    }, () -> {\n                        false\n                    }, () -> {\n                        false\n                    })()\n                },\n                () -> {\n                    false\n                }\n            )()\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        })()\n    };\n    __module__CapoDelegateHelpers__ManifestActivity[]__is_valid_data = (__module__CapoDelegateHelpers__ManifestActivity[]__retiringEntry__is_valid_data, __module__CapoDelegateHelpers__ManifestActivity[]__updatingEntry__is_valid_data, __module__CapoDelegateHelpers__ManifestActivity[]__addingEntry__is_valid_data, __module__CapoDelegateHelpers__ManifestActivity[]__forkingThreadToken__is_valid_data, __module__CapoDelegateHelpers__ManifestActivity[]__burningThreadToken__is_valid_data) -> {\n        (data_52) -> {\n            __core__ifThenElse(\n                __module__CapoDelegateHelpers__ManifestActivity[]__burningThreadToken__is_valid_data(data_52),\n                () -> {\n                    true\n                },\n                () -> {\n                    __core__ifThenElse(\n                        __module__CapoDelegateHelpers__ManifestActivity[]__forkingThreadToken__is_valid_data(data_52),\n                        () -> {\n                            true\n                        },\n                        () -> {\n                            __core__ifThenElse(\n                                __module__CapoDelegateHelpers__ManifestActivity[]__addingEntry__is_valid_data(data_52),\n                                () -> {\n                                    true\n                                },\n                                () -> {\n                                    __core__ifThenElse(\n                                        __module__CapoDelegateHelpers__ManifestActivity[]__updatingEntry__is_valid_data(data_52),\n                                        () -> {\n                                            true\n                                        },\n                                        () -> {\n                                            __core__ifThenElse(\n                                                __module__CapoDelegateHelpers__ManifestActivity[]__retiringEntry__is_valid_data(data_52),\n                                                () -> {\n                                                    true\n                                                },\n                                                () -> {\n                                                    false\n                                                }\n                                            )()\n                                        }\n                                    )()\n                                }\n                            )()\n                        }\n                    )()\n                }\n            )()\n        }\n    };\n    __module__CapoDelegateHelpers__ManifestActivity[]__retiringEntry__is_valid_data_1 = (data_53) -> {\n        __core__chooseData(data_53, () -> {\n            pair_19 = __core__unConstrData__safe(data_53);\n            __core__ifThenElse(\n                __core__equalsInteger(__core__fstPair(pair_19), 0),\n                () -> {\n                    data_54 = __core__listData(__core__sndPair(pair_19));\n                    __core__chooseData(data_54, () -> {\n                        false\n                    }, () -> {\n                        false\n                    }, () -> {\n                        fields_19 = __core__unListData__safe(data_54);\n                        __core__chooseList(fields_19, () -> {\n                            false\n                        }, () -> {\n                            head_9 = __core__headList__safe(fields_19);\n                            __core__ifThenElse(\n                                __helios__string__is_valid_data(head_9),\n                                () -> {\n                                    fields_20 = __core__tailList__safe(fields_19);\n                                    __core__chooseList(fields_20, true, false)\n                                },\n                                () -> {\n                                    false\n                                }\n                            )()\n                        })()\n                    }, () -> {\n                        false\n                    }, () -> {\n                        false\n                    })()\n                },\n                () -> {\n                    false\n                }\n            )()\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        })()\n    };\n    __module__CapoDelegateHelpers__ManifestActivity[]__updatingEntry__is_valid_data_1 = (data_55) -> {\n        __core__chooseData(data_55, () -> {\n            pair_20 = __core__unConstrData__safe(data_55);\n            __core__ifThenElse(\n                __core__equalsInteger(__core__fstPair(pair_20), 1),\n                () -> {\n                    data_56 = __core__listData(__core__sndPair(pair_20));\n                    __core__chooseData(data_56, () -> {\n                        false\n                    }, () -> {\n                        false\n                    }, () -> {\n                        fields_21 = __core__unListData__safe(data_56);\n                        __core__chooseList(fields_21, () -> {\n                            false\n                        }, () -> {\n                            head_10 = __core__headList__safe(fields_21);\n                            __core__ifThenElse(\n                                __helios__string__is_valid_data(head_10),\n                                () -> {\n                                    fields_22 = __core__tailList__safe(fields_21);\n                                    __core__chooseList(fields_22, () -> {\n                                        false\n                                    }, () -> {\n                                        head_11 = __core__headList__safe(fields_22);\n                                        __core__ifThenElse(\n                                            __helios__bytearray__is_valid_data(head_11),\n                                            () -> {\n                                                fields_23 = __core__tailList__safe(fields_22);\n                                                __core__chooseList(fields_23, true, false)\n                                            },\n                                            () -> {\n                                                false\n                                            }\n                                        )()\n                                    })()\n                                },\n                                () -> {\n                                    false\n                                }\n                            )()\n                        })()\n                    }, () -> {\n                        false\n                    }, () -> {\n                        false\n                    })()\n                },\n                () -> {\n                    false\n                }\n            )()\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        })()\n    };\n    __module__CapoDelegateHelpers__ManifestActivity[]__addingEntry__is_valid_data_1 = (data_57) -> {\n        __core__chooseData(data_57, () -> {\n            pair_21 = __core__unConstrData__safe(data_57);\n            __core__ifThenElse(\n                __core__equalsInteger(__core__fstPair(pair_21), 2),\n                () -> {\n                    data_58 = __core__listData(__core__sndPair(pair_21));\n                    __core__chooseData(data_58, () -> {\n                        false\n                    }, () -> {\n                        false\n                    }, () -> {\n                        fields_24 = __core__unListData__safe(data_58);\n                        __core__chooseList(fields_24, () -> {\n                            false\n                        }, () -> {\n                            head_12 = __core__headList__safe(fields_24);\n                            __core__ifThenElse(\n                                __helios__string__is_valid_data(head_12),\n                                () -> {\n                                    fields_25 = __core__tailList__safe(fields_24);\n                                    __core__chooseList(fields_25, () -> {\n                                        false\n                                    }, () -> {\n                                        head_13 = __core__headList__safe(fields_25);\n                                        __core__ifThenElse(\n                                            __helios__bytearray__is_valid_data(head_13),\n                                            () -> {\n                                                fields_26 = __core__tailList__safe(fields_25);\n                                                __core__chooseList(fields_26, true, false)\n                                            },\n                                            () -> {\n                                                false\n                                            }\n                                        )()\n                                    })()\n                                },\n                                () -> {\n                                    false\n                                }\n                            )()\n                        })()\n                    }, () -> {\n                        false\n                    }, () -> {\n                        false\n                    })()\n                },\n                () -> {\n                    false\n                }\n            )()\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        })()\n    };\n    __module__CapoDelegateHelpers__ManifestActivity[]__forkingThreadToken__is_valid_data_1 = (data_59) -> {\n        __core__chooseData(data_59, () -> {\n            pair_22 = __core__unConstrData__safe(data_59);\n            __core__ifThenElse(\n                __core__equalsInteger(__core__fstPair(pair_22), 3),\n                () -> {\n                    data_60 = __core__listData(__core__sndPair(pair_22));\n                    __core__chooseData(data_60, () -> {\n                        false\n                    }, () -> {\n                        false\n                    }, () -> {\n                        fields_27 = __core__unListData__safe(data_60);\n                        __core__chooseList(fields_27, () -> {\n                            false\n                        }, () -> {\n                            head_14 = __core__headList__safe(fields_27);\n                            __core__ifThenElse(\n                                __helios__string__is_valid_data(head_14),\n                                () -> {\n                                    fields_28 = __core__tailList__safe(fields_27);\n                                    __core__chooseList(fields_28, () -> {\n                                        false\n                                    }, () -> {\n                                        head_15 = __core__headList__safe(fields_28);\n                                        __core__ifThenElse(\n                                            __helios__int__is_valid_data(head_15),\n                                            () -> {\n                                                fields_29 = __core__tailList__safe(fields_28);\n                                                __core__chooseList(fields_29, true, false)\n                                            },\n                                            () -> {\n                                                false\n                                            }\n                                        )()\n                                    })()\n                                },\n                                () -> {\n                                    false\n                                }\n                            )()\n                        })()\n                    }, () -> {\n                        false\n                    }, () -> {\n                        false\n                    })()\n                },\n                () -> {\n                    false\n                }\n            )()\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        })()\n    };\n    __module__CapoDelegateHelpers__ManifestActivity[]__burningThreadToken__is_valid_data_1 = (data_61) -> {\n        __core__chooseData(data_61, () -> {\n            pair_23 = __core__unConstrData__safe(data_61);\n            __core__ifThenElse(\n                __core__equalsInteger(__core__fstPair(pair_23), 4),\n                () -> {\n                    data_62 = __core__listData(__core__sndPair(pair_23));\n                    __core__chooseData(data_62, () -> {\n                        false\n                    }, () -> {\n                        false\n                    }, () -> {\n                        fields_30 = __core__unListData__safe(data_62);\n                        __core__chooseList(fields_30, () -> {\n                            false\n                        }, () -> {\n                            head_16 = __core__headList__safe(fields_30);\n                            __core__ifThenElse(\n                                __helios__string__is_valid_data(head_16),\n                                () -> {\n                                    fields_31 = __core__tailList__safe(fields_30);\n                                    __core__chooseList(fields_31, () -> {\n                                        false\n                                    }, () -> {\n                                        head_17 = __core__headList__safe(fields_31);\n                                        __core__ifThenElse(\n                                            __helios__int__is_valid_data(head_17),\n                                            () -> {\n                                                fields_32 = __core__tailList__safe(fields_31);\n                                                __core__chooseList(fields_32, true, false)\n                                            },\n                                            () -> {\n                                                false\n                                            }\n                                        )()\n                                    })()\n                                },\n                                () -> {\n                                    false\n                                }\n                            )()\n                        })()\n                    }, () -> {\n                        false\n                    }, () -> {\n                        false\n                    })()\n                },\n                () -> {\n                    false\n                }\n            )()\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        })()\n    };\n    __module__CapoDelegateHelpers__PendingDelegateAction[]__is_valid_data = (__module__CapoDelegateHelpers__PendingDelegateAction[]__Add__is_valid_data, __module__CapoDelegateHelpers__PendingDelegateAction[]__Remove__is_valid_data, __module__CapoDelegateHelpers__PendingDelegateAction[]__Replace__is_valid_data) -> {\n        (data_63) -> {\n            __core__ifThenElse(\n                __module__CapoDelegateHelpers__PendingDelegateAction[]__Replace__is_valid_data(data_63),\n                () -> {\n                    true\n                },\n                () -> {\n                    __core__ifThenElse(\n                        __module__CapoDelegateHelpers__PendingDelegateAction[]__Remove__is_valid_data(data_63),\n                        () -> {\n                            true\n                        },\n                        () -> {\n                            __core__ifThenElse(\n                                __module__CapoDelegateHelpers__PendingDelegateAction[]__Add__is_valid_data(data_63),\n                                () -> {\n                                    true\n                                },\n                                () -> {\n                                    false\n                                }\n                            )()\n                        }\n                    )()\n                }\n            )()\n        }\n    };\n    __module__CapoDelegateHelpers__PendingDelegateAction[]__Add__is_valid_data_1 = (data_64) -> {\n        __core__chooseData(data_64, () -> {\n            pair_24 = __core__unConstrData__safe(data_64);\n            __core__ifThenElse(\n                __core__equalsInteger(__core__fstPair(pair_24), 0),\n                () -> {\n                    data_65 = __core__listData(__core__sndPair(pair_24));\n                    __core__chooseData(data_65, () -> {\n                        false\n                    }, () -> {\n                        false\n                    }, () -> {\n                        fields_33 = __core__unListData__safe(data_65);\n                        __core__chooseList(fields_33, () -> {\n                            false\n                        }, () -> {\n                            head_18 = __core__headList__safe(fields_33);\n                            __core__ifThenElse(\n                                __helios__txoutputid__is_valid_data(head_18),\n                                () -> {\n                                    fields_34 = __core__tailList__safe(fields_33);\n                                    __core__chooseList(fields_34, () -> {\n                                        false\n                                    }, () -> {\n                                        head_19 = __core__headList__safe(fields_34);\n                                        __core__ifThenElse(\n                                            __helios__string__is_valid_data(head_19),\n                                            () -> {\n                                                fields_35 = __core__tailList__safe(fields_34);\n                                                __core__chooseList(fields_35, () -> {\n                                                    false\n                                                }, () -> {\n                                                    head_20 = __core__headList__safe(fields_35);\n                                                    __core__ifThenElse(\n                                                        __helios__string__is_valid_data(head_20),\n                                                        () -> {\n                                                            fields_36 = __core__tailList__safe(fields_35);\n                                                            __core__chooseList(fields_36, true, false)\n                                                        },\n                                                        () -> {\n                                                            false\n                                                        }\n                                                    )()\n                                                })()\n                                            },\n                                            () -> {\n                                                false\n                                            }\n                                        )()\n                                    })()\n                                },\n                                () -> {\n                                    false\n                                }\n                            )()\n                        })()\n                    }, () -> {\n                        false\n                    }, () -> {\n                        false\n                    })()\n                },\n                () -> {\n                    false\n                }\n            )()\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        })()\n    };\n    __module__CapoDelegateHelpers__PendingDelegateAction[]__Remove__is_valid_data_1 = (data_66) -> {\n        __core__chooseData(data_66, () -> {\n            pair_25 = __core__unConstrData__safe(data_66);\n            __core__ifThenElse(\n                __core__equalsInteger(__core__fstPair(pair_25), 1),\n                () -> {\n                    data_67 = __core__listData(__core__sndPair(pair_25));\n                    __core__chooseData(data_67, () -> {\n                        false\n                    }, () -> {\n                        false\n                    }, () -> {\n                        fields_37 = __core__unListData__safe(data_67);\n                        __core__chooseList(fields_37, true, false)\n                    }, () -> {\n                        false\n                    }, () -> {\n                        false\n                    })()\n                },\n                () -> {\n                    false\n                }\n            )()\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        })()\n    };\n    __module__CapoDelegateHelpers__PendingDelegateAction[]__Replace__is_valid_data_1 = (data_68) -> {\n        __core__chooseData(data_68, () -> {\n            pair_26 = __core__unConstrData__safe(data_68);\n            __core__ifThenElse(\n                __core__equalsInteger(__core__fstPair(pair_26), 2),\n                () -> {\n                    data_69 = __core__listData(__core__sndPair(pair_26));\n                    __core__chooseData(data_69, () -> {\n                        false\n                    }, () -> {\n                        false\n                    }, () -> {\n                        fields_38 = __core__unListData__safe(data_69);\n                        __core__chooseList(fields_38, () -> {\n                            false\n                        }, () -> {\n                            head_21 = __core__headList__safe(fields_38);\n                            __core__ifThenElse(\n                                __helios__txoutputid__is_valid_data(head_21),\n                                () -> {\n                                    fields_39 = __core__tailList__safe(fields_38);\n                                    __core__chooseList(fields_39, () -> {\n                                        false\n                                    }, () -> {\n                                        head_22 = __core__headList__safe(fields_39);\n                                        __core__ifThenElse(\n                                            __helios__string__is_valid_data(head_22),\n                                            () -> {\n                                                fields_40 = __core__tailList__safe(fields_39);\n                                                __core__chooseList(fields_40, () -> {\n                                                    false\n                                                }, () -> {\n                                                    head_23 = __core__headList__safe(fields_40);\n                                                    __core__ifThenElse(\n                                                        __helios__string__is_valid_data(head_23),\n                                                        () -> {\n                                                            fields_41 = __core__tailList__safe(fields_40);\n                                                            __core__chooseList(fields_41, () -> {\n                                                                false\n                                                            }, () -> {\n                                                                head_24 = __core__headList__safe(fields_41);\n                                                                __core__ifThenElse(\n                                                                    __helios__assetclass__is_valid_data(head_24),\n                                                                    () -> {\n                                                                        fields_42 = __core__tailList__safe(fields_41);\n                                                                        __core__chooseList(fields_42, true, false)\n                                                                    },\n                                                                    () -> {\n                                                                        false\n                                                                    }\n                                                                )()\n                                                            })()\n                                                        },\n                                                        () -> {\n                                                            false\n                                                        }\n                                                    )()\n                                                })()\n                                            },\n                                            () -> {\n                                                false\n                                            }\n                                        )()\n                                    })()\n                                },\n                                () -> {\n                                    false\n                                }\n                            )()\n                        })()\n                    }, () -> {\n                        false\n                    }, () -> {\n                        false\n                    })()\n                },\n                () -> {\n                    false\n                }\n            )()\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        })()\n    };\n    __module__CapoDelegateHelpers__CapoLifecycleActivity[]__is_valid_data = (__module__CapoDelegateHelpers__CapoLifecycleActivity[]__CreatingDelegate__is_valid_data, __module__CapoDelegateHelpers__CapoLifecycleActivity[]__queuePendingDgtChange__is_valid_data, __module__CapoDelegateHelpers__CapoLifecycleActivity[]__removePendingDgtChange__is_valid_data, __module__CapoDelegateHelpers__CapoLifecycleActivity[]__commitPendingDgtChanges__is_valid_data, __module__CapoDelegateHelpers__CapoLifecycleActivity[]__forcingNewSpendDelegate__is_valid_data, __module__CapoDelegateHelpers__CapoLifecycleActivity[]__forcingNewMintDelegate__is_valid_data, __module__CapoDelegateHelpers__CapoLifecycleActivity[]__updatingManifest__is_valid_data) -> {\n        (data_70) -> {\n            __core__ifThenElse(\n                __module__CapoDelegateHelpers__CapoLifecycleActivity[]__updatingManifest__is_valid_data(data_70),\n                () -> {\n                    true\n                },\n                () -> {\n                    __core__ifThenElse(\n                        __module__CapoDelegateHelpers__CapoLifecycleActivity[]__forcingNewMintDelegate__is_valid_data(data_70),\n                        () -> {\n                            true\n                        },\n                        () -> {\n                            __core__ifThenElse(\n                                __module__CapoDelegateHelpers__CapoLifecycleActivity[]__forcingNewSpendDelegate__is_valid_data(data_70),\n                                () -> {\n                                    true\n                                },\n                                () -> {\n                                    __core__ifThenElse(\n                                        __module__CapoDelegateHelpers__CapoLifecycleActivity[]__commitPendingDgtChanges__is_valid_data(data_70),\n                                        () -> {\n                                            true\n                                        },\n                                        () -> {\n                                            __core__ifThenElse(\n                                                __module__CapoDelegateHelpers__CapoLifecycleActivity[]__removePendingDgtChange__is_valid_data(data_70),\n                                                () -> {\n                                                    true\n                                                },\n                                                () -> {\n                                                    __core__ifThenElse(\n                                                        __module__CapoDelegateHelpers__CapoLifecycleActivity[]__queuePendingDgtChange__is_valid_data(data_70),\n                                                        () -> {\n                                                            true\n                                                        },\n                                                        () -> {\n                                                            __core__ifThenElse(\n                                                                __module__CapoDelegateHelpers__CapoLifecycleActivity[]__CreatingDelegate__is_valid_data(data_70),\n                                                                () -> {\n                                                                    true\n                                                                },\n                                                                () -> {\n                                                                    false\n                                                                }\n                                                            )()\n                                                        }\n                                                    )()\n                                                }\n                                            )()\n                                        }\n                                    )()\n                                }\n                            )()\n                        }\n                    )()\n                }\n            )()\n        }\n    };\n    __module__CapoDelegateHelpers__CapoLifecycleActivity[]__from_data = (__module__CapoDelegateHelpers__CapoLifecycleActivity[]__CreatingDelegate__is_valid_data_1, __module__CapoDelegateHelpers__CapoLifecycleActivity[]__queuePendingDgtChange__is_valid_data_1, __module__CapoDelegateHelpers__CapoLifecycleActivity[]__removePendingDgtChange__is_valid_data_1, __module__CapoDelegateHelpers__CapoLifecycleActivity[]__commitPendingDgtChanges__is_valid_data_1, __module__CapoDelegateHelpers__CapoLifecycleActivity[]__forcingNewSpendDelegate__is_valid_data_1, __module__CapoDelegateHelpers__CapoLifecycleActivity[]__forcingNewMintDelegate__is_valid_data_1, __module__CapoDelegateHelpers__CapoLifecycleActivity[]__updatingManifest__is_valid_data_1) -> {\n        (data_71) -> {\n            ignore_1 = __core__ifThenElse(\n                __module__CapoDelegateHelpers__CapoLifecycleActivity[]__is_valid_data(__module__CapoDelegateHelpers__CapoLifecycleActivity[]__CreatingDelegate__is_valid_data_1, __module__CapoDelegateHelpers__CapoLifecycleActivity[]__queuePendingDgtChange__is_valid_data_1, __module__CapoDelegateHelpers__CapoLifecycleActivity[]__removePendingDgtChange__is_valid_data_1, __module__CapoDelegateHelpers__CapoLifecycleActivity[]__commitPendingDgtChanges__is_valid_data_1, __module__CapoDelegateHelpers__CapoLifecycleActivity[]__forcingNewSpendDelegate__is_valid_data_1, __module__CapoDelegateHelpers__CapoLifecycleActivity[]__forcingNewMintDelegate__is_valid_data_1, __module__CapoDelegateHelpers__CapoLifecycleActivity[]__updatingManifest__is_valid_data_1)(data_71),\n                () -> {\n                    ()\n                },\n                () -> {\n                    __core__trace("Warning: invalid CapoLifecycleActivity data", ())\n                }\n            )();\n            data_71\n        }\n    };\n    __module__CapoDelegateHelpers__CapoLifecycleActivity[]__CreatingDelegate____is = (data_72) -> {\n        __helios__common__enum_tag_equals(data_72, 0)\n    };\n    __module__CapoDelegateHelpers__CapoLifecycleActivity[]__CreatingDelegate__is_valid_data_2 = (data_73) -> {\n        __core__chooseData(data_73, () -> {\n            pair_27 = __core__unConstrData__safe(data_73);\n            __core__ifThenElse(\n                __core__equalsInteger(__core__fstPair(pair_27), 0),\n                () -> {\n                    data_74 = __core__listData(__core__sndPair(pair_27));\n                    __core__chooseData(data_74, () -> {\n                        false\n                    }, () -> {\n                        false\n                    }, () -> {\n                        fields_43 = __core__unListData__safe(data_74);\n                        __core__chooseList(fields_43, () -> {\n                            false\n                        }, () -> {\n                            head_25 = __core__headList__safe(fields_43);\n                            __core__ifThenElse(\n                                __helios__txoutputid__is_valid_data(head_25),\n                                () -> {\n                                    fields_44 = __core__tailList__safe(fields_43);\n                                    __core__chooseList(fields_44, () -> {\n                                        false\n                                    }, () -> {\n                                        head_26 = __core__headList__safe(fields_44);\n                                        __core__ifThenElse(\n                                            __helios__string__is_valid_data(head_26),\n                                            () -> {\n                                                fields_45 = __core__tailList__safe(fields_44);\n                                                __core__chooseList(fields_45, true, false)\n                                            },\n                                            () -> {\n                                                false\n                                            }\n                                        )()\n                                    })()\n                                },\n                                () -> {\n                                    false\n                                }\n                            )()\n                        })()\n                    }, () -> {\n                        false\n                    }, () -> {\n                        false\n                    })()\n                },\n                () -> {\n                    false\n                }\n            )()\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        })()\n    };\n    __module__CapoDelegateHelpers__CapoLifecycleActivity[]__queuePendingDgtChange____is = (data_75) -> {\n        __helios__common__enum_tag_equals(data_75, 1)\n    };\n    __module__CapoDelegateHelpers__CapoLifecycleActivity[]__queuePendingDgtChange__is_valid_data_2 = (data_76) -> {\n        __core__chooseData(data_76, () -> {\n            pair_28 = __core__unConstrData__safe(data_76);\n            __core__ifThenElse(\n                __core__equalsInteger(__core__fstPair(pair_28), 1),\n                () -> {\n                    data_77 = __core__listData(__core__sndPair(pair_28));\n                    __core__chooseData(data_77, () -> {\n                        false\n                    }, () -> {\n                        false\n                    }, () -> {\n                        fields_46 = __core__unListData__safe(data_77);\n                        __core__chooseList(fields_46, true, false)\n                    }, () -> {\n                        false\n                    }, () -> {\n                        false\n                    })()\n                },\n                () -> {\n                    false\n                }\n            )()\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        })()\n    };\n    __helios__option[__helios__string]__is_valid_data = (data_78) -> {\n        __core__chooseData(data_78, () -> {\n            pair_29 = __core__unConstrData__safe(data_78);\n            index_5 = __core__fstPair(pair_29);\n            fields_47 = __core__sndPair(pair_29);\n            __core__ifThenElse(\n                __core__equalsInteger(index_5, 0),\n                () -> {\n                    __core__chooseList(fields_47, () -> {\n                        false\n                    }, () -> {\n                        __core__chooseList(__core__tailList__safe(fields_47), () -> {\n                            __helios__string__is_valid_data(__core__headList__safe(fields_47))\n                        }, () -> {\n                            false\n                        })()\n                    })()\n                },\n                () -> {\n                    __core__ifThenElse(\n                        __core__equalsInteger(index_5, 1),\n                        () -> {\n                            __core__chooseList(fields_47, true, false)\n                        },\n                        () -> {\n                            false\n                        }\n                    )()\n                }\n            )()\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        })()\n    };\n    __module__CapoDelegateHelpers__CapoLifecycleActivity[]__removePendingDgtChange__is_valid_data_2 = (data_79) -> {\n        __core__chooseData(data_79, () -> {\n            pair_30 = __core__unConstrData__safe(data_79);\n            __core__ifThenElse(\n                __core__equalsInteger(__core__fstPair(pair_30), 2),\n                () -> {\n                    data_80 = __core__listData(__core__sndPair(pair_30));\n                    __core__chooseData(data_80, () -> {\n                        false\n                    }, () -> {\n                        false\n                    }, () -> {\n                        fields_48 = __core__unListData__safe(data_80);\n                        __core__chooseList(fields_48, () -> {\n                            false\n                        }, () -> {\n                            head_27 = __core__headList__safe(fields_48);\n                            __core__ifThenElse(\n                                __module__CapoDelegateHelpers__DelegateRole[]__is_valid_data(__module__CapoDelegateHelpers__DelegateRole[]__MintDgt__is_valid_data_1, __module__CapoDelegateHelpers__DelegateRole[]__SpendDgt__is_valid_data_1, __module__CapoDelegateHelpers__DelegateRole[]__MintInvariant__is_valid_data_1, __module__CapoDelegateHelpers__DelegateRole[]__SpendInvariant__is_valid_data_1, __module__CapoDelegateHelpers__DelegateRole[]__DgDataPolicy__is_valid_data_1, __module__CapoDelegateHelpers__DelegateRole[]__OtherNamedDgt__is_valid_data_1, __module__CapoDelegateHelpers__DelegateRole[]__BothMintAndSpendDgt__is_valid_data_1, __module__CapoDelegateHelpers__DelegateRole[]__HandledByCapoOnly__is_valid_data_1)(head_27),\n                                () -> {\n                                    fields_49 = __core__tailList__safe(fields_48);\n                                    __core__chooseList(fields_49, () -> {\n                                        false\n                                    }, () -> {\n                                        head_28 = __core__headList__safe(fields_49);\n                                        __core__ifThenElse(\n                                            __helios__option[__helios__string]__is_valid_data(head_28),\n                                            () -> {\n                                                fields_50 = __core__tailList__safe(fields_49);\n                                                __core__chooseList(fields_50, true, false)\n                                            },\n                                            () -> {\n                                                false\n                                            }\n                                        )()\n                                    })()\n                                },\n                                () -> {\n                                    false\n                                }\n                            )()\n                        })()\n                    }, () -> {\n                        false\n                    }, () -> {\n                        false\n                    })()\n                },\n                () -> {\n                    false\n                }\n            )()\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        })()\n    };\n    __helios__option[__helios__string]____to_data = __helios__common__identity;\n    __module__CapoDelegateHelpers__CapoLifecycleActivity[]__commitPendingDgtChanges__is_valid_data_2 = (data_81) -> {\n        __core__chooseData(data_81, () -> {\n            pair_31 = __core__unConstrData__safe(data_81);\n            __core__ifThenElse(\n                __core__equalsInteger(__core__fstPair(pair_31), 3),\n                () -> {\n                    data_82 = __core__listData(__core__sndPair(pair_31));\n                    __core__chooseData(data_82, () -> {\n                        false\n                    }, () -> {\n                        false\n                    }, () -> {\n                        fields_51 = __core__unListData__safe(data_82);\n                        __core__chooseList(fields_51, true, false)\n                    }, () -> {\n                        false\n                    }, () -> {\n                        false\n                    })()\n                },\n                () -> {\n                    false\n                }\n            )()\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        })()\n    };\n    __module__CapoDelegateHelpers__CapoLifecycleActivity[]__forcingNewSpendDelegate____is = (data_83) -> {\n        __helios__common__enum_tag_equals(data_83, 4)\n    };\n    __module__CapoDelegateHelpers__CapoLifecycleActivity[]__forcingNewSpendDelegate__is_valid_data_2 = (data_84) -> {\n        __core__chooseData(data_84, () -> {\n            pair_32 = __core__unConstrData__safe(data_84);\n            __core__ifThenElse(\n                __core__equalsInteger(__core__fstPair(pair_32), 4),\n                () -> {\n                    data_85 = __core__listData(__core__sndPair(pair_32));\n                    __core__chooseData(data_85, () -> {\n                        false\n                    }, () -> {\n                        false\n                    }, () -> {\n                        fields_52 = __core__unListData__safe(data_85);\n                        __core__chooseList(fields_52, () -> {\n                            false\n                        }, () -> {\n                            head_29 = __core__headList__safe(fields_52);\n                            __core__ifThenElse(\n                                __helios__txoutputid__is_valid_data(head_29),\n                                () -> {\n                                    fields_53 = __core__tailList__safe(fields_52);\n                                    __core__chooseList(fields_53, () -> {\n                                        false\n                                    }, () -> {\n                                        head_30 = __core__headList__safe(fields_53);\n                                        __core__ifThenElse(\n                                            __helios__string__is_valid_data(head_30),\n                                            () -> {\n                                                fields_54 = __core__tailList__safe(fields_53);\n                                                __core__chooseList(fields_54, true, false)\n                                            },\n                                            () -> {\n                                                false\n                                            }\n                                        )()\n                                    })()\n                                },\n                                () -> {\n                                    false\n                                }\n                            )()\n                        })()\n                    }, () -> {\n                        false\n                    }, () -> {\n                        false\n                    })()\n                },\n                () -> {\n                    false\n                }\n            )()\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        })()\n    };\n    __module__CapoDelegateHelpers__CapoLifecycleActivity[]__forcingNewMintDelegate____is = (data_86) -> {\n        __helios__common__enum_tag_equals(data_86, 5)\n    };\n    __module__CapoDelegateHelpers__CapoLifecycleActivity[]__forcingNewMintDelegate__is_valid_data_2 = (data_87) -> {\n        __core__chooseData(data_87, () -> {\n            pair_33 = __core__unConstrData__safe(data_87);\n            __core__ifThenElse(\n                __core__equalsInteger(__core__fstPair(pair_33), 5),\n                () -> {\n                    data_88 = __core__listData(__core__sndPair(pair_33));\n                    __core__chooseData(data_88, () -> {\n                        false\n                    }, () -> {\n                        false\n                    }, () -> {\n                        fields_55 = __core__unListData__safe(data_88);\n                        __core__chooseList(fields_55, () -> {\n                            false\n                        }, () -> {\n                            head_31 = __core__headList__safe(fields_55);\n                            __core__ifThenElse(\n                                __helios__txoutputid__is_valid_data(head_31),\n                                () -> {\n                                    fields_56 = __core__tailList__safe(fields_55);\n                                    __core__chooseList(fields_56, () -> {\n                                        false\n                                    }, () -> {\n                                        head_32 = __core__headList__safe(fields_56);\n                                        __core__ifThenElse(\n                                            __helios__string__is_valid_data(head_32),\n                                            () -> {\n                                                fields_57 = __core__tailList__safe(fields_56);\n                                                __core__chooseList(fields_57, true, false)\n                                            },\n                                            () -> {\n                                                false\n                                            }\n                                        )()\n                                    })()\n                                },\n                                () -> {\n                                    false\n                                }\n                            )()\n                        })()\n                    }, () -> {\n                        false\n                    }, () -> {\n                        false\n                    })()\n                },\n                () -> {\n                    false\n                }\n            )()\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        })()\n    };\n    __module__CapoDelegateHelpers__CapoLifecycleActivity[]__updatingManifest__is_valid_data_2 = (data_89) -> {\n        __core__chooseData(data_89, () -> {\n            pair_34 = __core__unConstrData__safe(data_89);\n            __core__ifThenElse(\n                __core__equalsInteger(__core__fstPair(pair_34), 6),\n                () -> {\n                    data_90 = __core__listData(__core__sndPair(pair_34));\n                    __core__chooseData(data_90, () -> {\n                        false\n                    }, () -> {\n                        false\n                    }, () -> {\n                        fields_58 = __core__unListData__safe(data_90);\n                        __core__chooseList(fields_58, () -> {\n                            false\n                        }, () -> {\n                            head_33 = __core__headList__safe(fields_58);\n                            __core__ifThenElse(\n                                __module__CapoDelegateHelpers__ManifestActivity[]__is_valid_data(__module__CapoDelegateHelpers__ManifestActivity[]__retiringEntry__is_valid_data_1, __module__CapoDelegateHelpers__ManifestActivity[]__updatingEntry__is_valid_data_1, __module__CapoDelegateHelpers__ManifestActivity[]__addingEntry__is_valid_data_1, __module__CapoDelegateHelpers__ManifestActivity[]__forkingThreadToken__is_valid_data_1, __module__CapoDelegateHelpers__ManifestActivity[]__burningThreadToken__is_valid_data_1)(head_33),\n                                () -> {\n                                    fields_59 = __core__tailList__safe(fields_58);\n                                    __core__chooseList(fields_59, true, false)\n                                },\n                                () -> {\n                                    false\n                                }\n                            )()\n                        })()\n                    }, () -> {\n                        false\n                    }, () -> {\n                        false\n                    })()\n                },\n                () -> {\n                    false\n                }\n            )()\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        })()\n    };\n    __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]____to_data = __helios__common__identity;\n    __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__is_valid_data = (__module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__CapoLifecycleActivities__is_valid_data, __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__DelegateLifecycleActivities__is_valid_data, __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__SpendingActivities__is_valid_data, __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__MintingActivities__is_valid_data, __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__BurningActivities__is_valid_data, __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__CreatingDelegatedData__is_valid_data, __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__UpdatingDelegatedData__is_valid_data, __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__DeletingDelegatedData__is_valid_data, __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__MultipleDelegateActivities__is_valid_data) -> {\n        (data_91) -> {\n            __core__ifThenElse(\n                __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__MultipleDelegateActivities__is_valid_data(data_91),\n                () -> {\n                    true\n                },\n                () -> {\n                    __core__ifThenElse(\n                        __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__DeletingDelegatedData__is_valid_data(data_91),\n                        () -> {\n                            true\n                        },\n                        () -> {\n                            __core__ifThenElse(\n                                __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__UpdatingDelegatedData__is_valid_data(data_91),\n                                () -> {\n                                    true\n                                },\n                                () -> {\n                                    __core__ifThenElse(\n                                        __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__CreatingDelegatedData__is_valid_data(data_91),\n                                        () -> {\n                                            true\n                                        },\n                                        () -> {\n                                            __core__ifThenElse(\n                                                __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__BurningActivities__is_valid_data(data_91),\n                                                () -> {\n                                                    true\n                                                },\n                                                () -> {\n                                                    __core__ifThenElse(\n                                                        __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__MintingActivities__is_valid_data(data_91),\n                                                        () -> {\n                                                            true\n                                                        },\n                                                        () -> {\n                                                            __core__ifThenElse(\n                                                                __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__SpendingActivities__is_valid_data(data_91),\n                                                                () -> {\n                                                                    true\n                                                                },\n                                                                () -> {\n                                                                    __core__ifThenElse(\n                                                                        __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__DelegateLifecycleActivities__is_valid_data(data_91),\n                                                                        () -> {\n                                                                            true\n                                                                        },\n                                                                        () -> {\n                                                                            __core__ifThenElse(\n                                                                                __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__CapoLifecycleActivities__is_valid_data(data_91),\n                                                                                () -> {\n                                                                                    true\n                                                                                },\n                                                                                () -> {\n                                                                                    false\n                                                                                }\n                                                                            )()\n                                                                        }\n                                                                    )()\n                                                                }\n                                                            )()\n                                                        }\n                                                    )()\n                                                }\n                                            )()\n                                        }\n                                    )()\n                                }\n                            )()\n                        }\n                    )()\n                }\n            )()\n        }\n    };\n    __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__from_data = (__module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__CapoLifecycleActivities__is_valid_data_1, __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__DelegateLifecycleActivities__is_valid_data_1, __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__SpendingActivities__is_valid_data_1, __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__MintingActivities__is_valid_data_1, __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__BurningActivities__is_valid_data_1, __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__CreatingDelegatedData__is_valid_data_1, __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__UpdatingDelegatedData__is_valid_data_1, __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__DeletingDelegatedData__is_valid_data_1, __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__MultipleDelegateActivities__is_valid_data_1) -> {\n        (data_92) -> {\n            ignore_2 = __core__ifThenElse(\n                __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__is_valid_data(__module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__CapoLifecycleActivities__is_valid_data_1, __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__DelegateLifecycleActivities__is_valid_data_1, __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__SpendingActivities__is_valid_data_1, __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__MintingActivities__is_valid_data_1, __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__BurningActivities__is_valid_data_1, __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__CreatingDelegatedData__is_valid_data_1, __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__UpdatingDelegatedData__is_valid_data_1, __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__DeletingDelegatedData__is_valid_data_1, __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__MultipleDelegateActivities__is_valid_data_1)(data_92),\n                () -> {\n                    ()\n                },\n                () -> {\n                    __core__trace("Warning: invalid AbstractDelegateActivitiesEnum data", ())\n                }\n            )();\n            data_92\n        }\n    };\n    __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__CapoLifecycleActivities____is = (data_93) -> {\n        __helios__common__enum_tag_equals(data_93, 0)\n    };\n    __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__CapoLifecycleActivities__is_valid_data_2 = (data_94) -> {\n        __core__chooseData(data_94, () -> {\n            pair_35 = __core__unConstrData__safe(data_94);\n            __core__ifThenElse(\n                __core__equalsInteger(__core__fstPair(pair_35), 0),\n                () -> {\n                    data_95 = __core__listData(__core__sndPair(pair_35));\n                    __core__chooseData(data_95, () -> {\n                        false\n                    }, () -> {\n                        false\n                    }, () -> {\n                        fields_60 = __core__unListData__safe(data_95);\n                        __core__chooseList(fields_60, () -> {\n                            false\n                        }, () -> {\n                            head_34 = __core__headList__safe(fields_60);\n                            __core__ifThenElse(\n                                __module__CapoDelegateHelpers__CapoLifecycleActivity[]__is_valid_data(__module__CapoDelegateHelpers__CapoLifecycleActivity[]__CreatingDelegate__is_valid_data_2, __module__CapoDelegateHelpers__CapoLifecycleActivity[]__queuePendingDgtChange__is_valid_data_2, __module__CapoDelegateHelpers__CapoLifecycleActivity[]__removePendingDgtChange__is_valid_data_2, __module__CapoDelegateHelpers__CapoLifecycleActivity[]__commitPendingDgtChanges__is_valid_data_2, __module__CapoDelegateHelpers__CapoLifecycleActivity[]__forcingNewSpendDelegate__is_valid_data_2, __module__CapoDelegateHelpers__CapoLifecycleActivity[]__forcingNewMintDelegate__is_valid_data_2, __module__CapoDelegateHelpers__CapoLifecycleActivity[]__updatingManifest__is_valid_data_2)(head_34),\n                                () -> {\n                                    fields_61 = __core__tailList__safe(fields_60);\n                                    __core__chooseList(fields_61, true, false)\n                                },\n                                () -> {\n                                    false\n                                }\n                            )()\n                        })()\n                    }, () -> {\n                        false\n                    }, () -> {\n                        false\n                    })()\n                },\n                () -> {\n                    false\n                }\n            )()\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        })()\n    };\n    __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__CapoLifecycleActivities__activity = (self_82) -> {\n        __module__CapoDelegateHelpers__CapoLifecycleActivity[]__from_data(__module__CapoDelegateHelpers__CapoLifecycleActivity[]__CreatingDelegate__is_valid_data_2, __module__CapoDelegateHelpers__CapoLifecycleActivity[]__queuePendingDgtChange__is_valid_data_2, __module__CapoDelegateHelpers__CapoLifecycleActivity[]__removePendingDgtChange__is_valid_data_2, __module__CapoDelegateHelpers__CapoLifecycleActivity[]__commitPendingDgtChanges__is_valid_data_2, __module__CapoDelegateHelpers__CapoLifecycleActivity[]__forcingNewSpendDelegate__is_valid_data_2, __module__CapoDelegateHelpers__CapoLifecycleActivity[]__forcingNewMintDelegate__is_valid_data_2, __module__CapoDelegateHelpers__CapoLifecycleActivity[]__updatingManifest__is_valid_data_2)(__helios__common__enum_field_0(self_82))\n    };\n    __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__DelegateLifecycleActivities____is = (data_96) -> {\n        __helios__common__enum_tag_equals(data_96, 1)\n    };\n    __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__DelegateLifecycleActivities__is_valid_data_2 = (data_97) -> {\n        __core__chooseData(data_97, () -> {\n            pair_36 = __core__unConstrData__safe(data_97);\n            __core__ifThenElse(\n                __core__equalsInteger(__core__fstPair(pair_36), 1),\n                () -> {\n                    data_98 = __core__listData(__core__sndPair(pair_36));\n                    __core__chooseData(data_98, () -> {\n                        false\n                    }, () -> {\n                        false\n                    }, () -> {\n                        fields_62 = __core__unListData__safe(data_98);\n                        __core__chooseList(fields_62, () -> {\n                            false\n                        }, () -> {\n                            head_35 = __core__headList__safe(fields_62);\n                            __core__ifThenElse(\n                                __module__CapoDelegateHelpers__DelegateLifecycleActivity[]__is_valid_data(__module__CapoDelegateHelpers__DelegateLifecycleActivity[]__ReplacingMe__is_valid_data_2, __module__CapoDelegateHelpers__DelegateLifecycleActivity[]__Retiring__is_valid_data_2, __module__CapoDelegateHelpers__DelegateLifecycleActivity[]__ValidatingSettings__is_valid_data_2)(head_35),\n                                () -> {\n                                    fields_63 = __core__tailList__safe(fields_62);\n                                    __core__chooseList(fields_63, true, false)\n                                },\n                                () -> {\n                                    false\n                                }\n                            )()\n                        })()\n                    }, () -> {\n                        false\n                    }, () -> {\n                        false\n                    })()\n                },\n                () -> {\n                    false\n                }\n            )()\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        })()\n    };\n    __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__DelegateLifecycleActivities__activity = (self_83) -> {\n        __module__CapoDelegateHelpers__DelegateLifecycleActivity[]__from_data(__module__CapoDelegateHelpers__DelegateLifecycleActivity[]__ReplacingMe__is_valid_data_2, __module__CapoDelegateHelpers__DelegateLifecycleActivity[]__Retiring__is_valid_data_2, __module__CapoDelegateHelpers__DelegateLifecycleActivity[]__ValidatingSettings__is_valid_data_2)(__helios__common__enum_field_0(self_83))\n    };\n    __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__SpendingActivities____is = (data_99) -> {\n        __helios__common__enum_tag_equals(data_99, 2)\n    };\n    __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__SpendingActivities__is_valid_data_2 = (data_100) -> {\n        __core__chooseData(data_100, () -> {\n            pair_37 = __core__unConstrData__safe(data_100);\n            __core__ifThenElse(\n                __core__equalsInteger(__core__fstPair(pair_37), 2),\n                () -> {\n                    data_101 = __core__listData(__core__sndPair(pair_37));\n                    __core__chooseData(data_101, () -> {\n                        false\n                    }, () -> {\n                        false\n                    }, () -> {\n                        fields_64 = __core__unListData__safe(data_101);\n                        __core__chooseList(fields_64, () -> {\n                            false\n                        }, () -> {\n                            head_36 = __core__headList__safe(fields_64);\n                            __core__ifThenElse(\n                                __helios__data__is_valid_data(head_36),\n                                () -> {\n                                    fields_65 = __core__tailList__safe(fields_64);\n                                    __core__chooseList(fields_65, true, false)\n                                },\n                                () -> {\n                                    false\n                                }\n                            )()\n                        })()\n                    }, () -> {\n                        false\n                    }, () -> {\n                        false\n                    })()\n                },\n                () -> {\n                    false\n                }\n            )()\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        })()\n    };\n    __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__MintingActivities____is = (data_102) -> {\n        __helios__common__enum_tag_equals(data_102, 3)\n    };\n    __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__MintingActivities__is_valid_data_2 = (data_103) -> {\n        __core__chooseData(data_103, () -> {\n            pair_38 = __core__unConstrData__safe(data_103);\n            __core__ifThenElse(\n                __core__equalsInteger(__core__fstPair(pair_38), 3),\n                () -> {\n                    data_104 = __core__listData(__core__sndPair(pair_38));\n                    __core__chooseData(data_104, () -> {\n                        false\n                    }, () -> {\n                        false\n                    }, () -> {\n                        fields_66 = __core__unListData__safe(data_104);\n                        __core__chooseList(fields_66, () -> {\n                            false\n                        }, () -> {\n                            head_37 = __core__headList__safe(fields_66);\n                            __core__ifThenElse(\n                                __helios__data__is_valid_data(head_37),\n                                () -> {\n                                    fields_67 = __core__tailList__safe(fields_66);\n                                    __core__chooseList(fields_67, true, false)\n                                },\n                                () -> {\n                                    false\n                                }\n                            )()\n                        })()\n                    }, () -> {\n                        false\n                    }, () -> {\n                        false\n                    })()\n                },\n                () -> {\n                    false\n                }\n            )()\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        })()\n    };\n    __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__BurningActivities____is = (data_105) -> {\n        __helios__common__enum_tag_equals(data_105, 4)\n    };\n    __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__BurningActivities__is_valid_data_2 = (data_106) -> {\n        __core__chooseData(data_106, () -> {\n            pair_39 = __core__unConstrData__safe(data_106);\n            __core__ifThenElse(\n                __core__equalsInteger(__core__fstPair(pair_39), 4),\n                () -> {\n                    data_107 = __core__listData(__core__sndPair(pair_39));\n                    __core__chooseData(data_107, () -> {\n                        false\n                    }, () -> {\n                        false\n                    }, () -> {\n                        fields_68 = __core__unListData__safe(data_107);\n                        __core__chooseList(fields_68, () -> {\n                            false\n                        }, () -> {\n                            head_38 = __core__headList__safe(fields_68);\n                            __core__ifThenElse(\n                                __helios__data__is_valid_data(head_38),\n                                () -> {\n                                    fields_69 = __core__tailList__safe(fields_68);\n                                    __core__chooseList(fields_69, true, false)\n                                },\n                                () -> {\n                                    false\n                                }\n                            )()\n                        })()\n                    }, () -> {\n                        false\n                    }, () -> {\n                        false\n                    })()\n                },\n                () -> {\n                    false\n                }\n            )()\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        })()\n    };\n    __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__CreatingDelegatedData____is = (data_108) -> {\n        __helios__common__enum_tag_equals(data_108, 5)\n    };\n    __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__CreatingDelegatedData__is_valid_data_2 = (data_109) -> {\n        __core__chooseData(data_109, () -> {\n            pair_40 = __core__unConstrData__safe(data_109);\n            __core__ifThenElse(\n                __core__equalsInteger(__core__fstPair(pair_40), 5),\n                () -> {\n                    data_110 = __core__listData(__core__sndPair(pair_40));\n                    __core__chooseData(data_110, () -> {\n                        false\n                    }, () -> {\n                        false\n                    }, () -> {\n                        fields_70 = __core__unListData__safe(data_110);\n                        __core__chooseList(fields_70, () -> {\n                            false\n                        }, () -> {\n                            head_39 = __core__headList__safe(fields_70);\n                            __core__ifThenElse(\n                                __helios__txoutputid__is_valid_data(head_39),\n                                () -> {\n                                    fields_71 = __core__tailList__safe(fields_70);\n                                    __core__chooseList(fields_71, () -> {\n                                        false\n                                    }, () -> {\n                                        head_40 = __core__headList__safe(fields_71);\n                                        __core__ifThenElse(\n                                            __helios__string__is_valid_data(head_40),\n                                            () -> {\n                                                fields_72 = __core__tailList__safe(fields_71);\n                                                __core__chooseList(fields_72, true, false)\n                                            },\n                                            () -> {\n                                                false\n                                            }\n                                        )()\n                                    })()\n                                },\n                                () -> {\n                                    false\n                                }\n                            )()\n                        })()\n                    }, () -> {\n                        false\n                    }, () -> {\n                        false\n                    })()\n                },\n                () -> {\n                    false\n                }\n            )()\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        })()\n    };\n    __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__UpdatingDelegatedData____is = (data_111) -> {\n        __helios__common__enum_tag_equals(data_111, 6)\n    };\n    __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__UpdatingDelegatedData__is_valid_data_2 = (data_112) -> {\n        __core__chooseData(data_112, () -> {\n            pair_41 = __core__unConstrData__safe(data_112);\n            __core__ifThenElse(\n                __core__equalsInteger(__core__fstPair(pair_41), 6),\n                () -> {\n                    data_113 = __core__listData(__core__sndPair(pair_41));\n                    __core__chooseData(data_113, () -> {\n                        false\n                    }, () -> {\n                        false\n                    }, () -> {\n                        fields_73 = __core__unListData__safe(data_113);\n                        __core__chooseList(fields_73, () -> {\n                            false\n                        }, () -> {\n                            head_41 = __core__headList__safe(fields_73);\n                            __core__ifThenElse(\n                                __helios__string__is_valid_data(head_41),\n                                () -> {\n                                    fields_74 = __core__tailList__safe(fields_73);\n                                    __core__chooseList(fields_74, () -> {\n                                        false\n                                    }, () -> {\n                                        head_42 = __core__headList__safe(fields_74);\n                                        __core__ifThenElse(\n                                            __helios__bytearray__is_valid_data(head_42),\n                                            () -> {\n                                                fields_75 = __core__tailList__safe(fields_74);\n                                                __core__chooseList(fields_75, true, false)\n                                            },\n                                            () -> {\n                                                false\n                                            }\n                                        )()\n                                    })()\n                                },\n                                () -> {\n                                    false\n                                }\n                            )()\n                        })()\n                    }, () -> {\n                        false\n                    }, () -> {\n                        false\n                    })()\n                },\n                () -> {\n                    false\n                }\n            )()\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        })()\n    };\n    __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__DeletingDelegatedData____is = (data_114) -> {\n        __helios__common__enum_tag_equals(data_114, 7)\n    };\n    __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__DeletingDelegatedData__is_valid_data_2 = (data_115) -> {\n        __core__chooseData(data_115, () -> {\n            pair_42 = __core__unConstrData__safe(data_115);\n            __core__ifThenElse(\n                __core__equalsInteger(__core__fstPair(pair_42), 7),\n                () -> {\n                    data_116 = __core__listData(__core__sndPair(pair_42));\n                    __core__chooseData(data_116, () -> {\n                        false\n                    }, () -> {\n                        false\n                    }, () -> {\n                        fields_76 = __core__unListData__safe(data_116);\n                        __core__chooseList(fields_76, () -> {\n                            false\n                        }, () -> {\n                            head_43 = __core__headList__safe(fields_76);\n                            __core__ifThenElse(\n                                __helios__string__is_valid_data(head_43),\n                                () -> {\n                                    fields_77 = __core__tailList__safe(fields_76);\n                                    __core__chooseList(fields_77, () -> {\n                                        false\n                                    }, () -> {\n                                        head_44 = __core__headList__safe(fields_77);\n                                        __core__ifThenElse(\n                                            __helios__bytearray__is_valid_data(head_44),\n                                            () -> {\n                                                fields_78 = __core__tailList__safe(fields_77);\n                                                __core__chooseList(fields_78, true, false)\n                                            },\n                                            () -> {\n                                                false\n                                            }\n                                        )()\n                                    })()\n                                },\n                                () -> {\n                                    false\n                                }\n                            )()\n                        })()\n                    }, () -> {\n                        false\n                    }, () -> {\n                        false\n                    })()\n                },\n                () -> {\n                    false\n                }\n            )()\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        })()\n    };\n    __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__MultipleDelegateActivities____is = (data_117) -> {\n        __helios__common__enum_tag_equals(data_117, 8)\n    };\n    __helios__list[__helios__data]__is_valid_data_internal = (lst_9) -> {\n        recurse_61 = (recurse_60, lst_10) -> {\n            __core__chooseList(lst_10, () -> {\n                true\n            }, () -> {\n                __core__ifThenElse(\n                    __helios__data__is_valid_data(__core__headList__safe(lst_10)),\n                    () -> {\n                        recurse_60(recurse_60, __core__tailList__safe(lst_10))\n                    },\n                    () -> {\n                        false\n                    }\n                )()\n            })()\n        };\n        recurse_61(recurse_61, lst_9)\n    };\n    __helios__list[__helios__data]__is_valid_data = (data_118) -> {\n        __core__chooseData(data_118, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            __helios__list[__helios__data]__is_valid_data_internal(__core__unListData__safe(data_118))\n        }, () -> {\n            false\n        }, () -> {\n            false\n        })()\n    };\n    __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__MultipleDelegateActivities__is_valid_data_2 = (data_119) -> {\n        __core__chooseData(data_119, () -> {\n            pair_43 = __core__unConstrData__safe(data_119);\n            __core__ifThenElse(\n                __core__equalsInteger(__core__fstPair(pair_43), 8),\n                () -> {\n                    data_120 = __core__listData(__core__sndPair(pair_43));\n                    __core__chooseData(data_120, () -> {\n                        false\n                    }, () -> {\n                        false\n                    }, () -> {\n                        fields_79 = __core__unListData__safe(data_120);\n                        __core__chooseList(fields_79, () -> {\n                            false\n                        }, () -> {\n                            head_45 = __core__headList__safe(fields_79);\n                            __core__ifThenElse(\n                                __helios__list[__helios__data]__is_valid_data(head_45),\n                                () -> {\n                                    fields_80 = __core__tailList__safe(fields_79);\n                                    __core__chooseList(fields_80, true, false)\n                                },\n                                () -> {\n                                    false\n                                }\n                            )()\n                        })()\n                    }, () -> {\n                        false\n                    }, () -> {\n                        false\n                    })()\n                },\n                () -> {\n                    false\n                }\n            )()\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        })()\n    };\n    __helios__list[__helios__data]__from_data = (data_121) -> {\n        lst_11 = __core__unListData(data_121);\n        __2 = __core__ifThenElse(\n            __helios__list[__helios__data]__is_valid_data_internal(lst_11),\n            () -> {\n                ()\n            },\n            () -> {\n                __core__trace("Warning: invalid list data", ())\n            }\n        )();\n        lst_11\n    };\n    __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__MultipleDelegateActivities__activities = (self_84) -> {\n        __helios__list[__helios__data]__from_data(__helios__common__enum_field_0(self_84))\n    };\n    __module__CapoDelegateHelpers__DgTknDisposition[]__Returned____is = (data_122) -> {\n        __helios__common__enum_tag_equals(data_122, 0)\n    };\n    __module__CapoDelegateHelpers__DgTknDisposition[]__Returned____new = () -> {\n        __core__constrData(0, __core__mkNilData(()))\n    };\n    __module__CapoDelegateHelpers__DgTknDisposition[]__Created____is = (data_123) -> {\n        __helios__common__enum_tag_equals(data_123, 1)\n    };\n    __helios__option[__helios__validatorhash]__is_valid_data = (data_124) -> {\n        __core__chooseData(data_124, () -> {\n            pair_44 = __core__unConstrData__safe(data_124);\n            index_6 = __core__fstPair(pair_44);\n            fields_81 = __core__sndPair(pair_44);\n            __core__ifThenElse(\n                __core__equalsInteger(index_6, 0),\n                () -> {\n                    __core__chooseList(fields_81, () -> {\n                        false\n                    }, () -> {\n                        __core__chooseList(__core__tailList__safe(fields_81), () -> {\n                            __helios__validatorhash__is_valid_data(__core__headList__safe(fields_81))\n                        }, () -> {\n                            false\n                        })()\n                    })()\n                },\n                () -> {\n                    __core__ifThenElse(\n                        __core__equalsInteger(index_6, 1),\n                        () -> {\n                            __core__chooseList(fields_81, true, false)\n                        },\n                        () -> {\n                            false\n                        }\n                    )()\n                }\n            )()\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        })()\n    };\n    __module__CapoDelegateHelpers__RelativeDelegateLink[]__is_valid_data = (data_125) -> {\n        __core__chooseData(data_125, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            fields_82 = __core__unListData__safe(data_125);\n            __core__chooseList(fields_82, () -> {\n                false\n            }, () -> {\n                head_46 = __core__headList__safe(fields_82);\n                __core__ifThenElse(\n                    __helios__string__is_valid_data(head_46),\n                    () -> {\n                        fields_83 = __core__tailList__safe(fields_82);\n                        __core__chooseList(fields_83, () -> {\n                            false\n                        }, () -> {\n                            head_47 = __core__headList__safe(fields_83);\n                            __core__ifThenElse(\n                                __helios__option[__helios__validatorhash]__is_valid_data(head_47),\n                                () -> {\n                                    fields_84 = __core__tailList__safe(fields_83);\n                                    __core__chooseList(fields_84, () -> {\n                                        false\n                                    }, () -> {\n                                        head_48 = __core__headList__safe(fields_84);\n                                        __core__ifThenElse(\n                                            __helios__bytearray__is_valid_data(head_48),\n                                            () -> {\n                                                fields_85 = __core__tailList__safe(fields_84);\n                                                __core__chooseList(fields_85, true, false)\n                                            },\n                                            () -> {\n                                                false\n                                            }\n                                        )()\n                                    })()\n                                },\n                                () -> {\n                                    false\n                                }\n                            )()\n                        })()\n                    },\n                    () -> {\n                        false\n                    }\n                )()\n            })()\n        }, () -> {\n            false\n        }, () -> {\n            false\n        })()\n    };\n    __module__CapoDelegateHelpers__RelativeDelegateLink[]__from_data = (data_126) -> {\n        ignore_3 = __core__ifThenElse(\n            __module__CapoDelegateHelpers__RelativeDelegateLink[]__is_valid_data(data_126),\n            () -> {\n                ()\n            },\n            () -> {\n                __core__trace("Warning: invalid RelativeDelegateLink data", ())\n            }\n        )();\n        __core__unListData(data_126)\n    };\n    __module__CapoDelegateHelpers__RelativeDelegateLink[]____to_data = __helios__struct____to_data;\n    __module__CapoDelegateHelpers__RelativeDelegateLink[]__uutName = (self_85) -> {\n        __helios__string__from_data(__helios__common__struct_field_0(self_85))\n    };\n    __helios__option[__helios__validatorhash]__from_data = (data_127) -> {\n        __3 = __core__ifThenElse(\n            __helios__option[__helios__validatorhash]__is_valid_data(data_127),\n            () -> {\n                ()\n            },\n            () -> {\n                __core__trace("Warning: invalid option data", ())\n            }\n        )();\n        data_127\n    };\n    __module__CapoDelegateHelpers__RelativeDelegateLink[]__delegateValidatorHash = (self_86) -> {\n        __helios__option[__helios__validatorhash]__from_data(__helios__common__struct_field_1(self_86))\n    };\n    __helios__option[__helios__validatorhash]__none____is = (data_128) -> {\n        __helios__common__enum_tag_equals(data_128, 1)\n    };\n    __helios__option[__helios__txinput]__none____new = () -> {\n        __helios__option__NONE\n    };\n    __helios__option[__helios__txinput]__some____is = (data_129) -> {\n        __helios__common__enum_tag_equals(data_129, 0)\n    };\n    __helios__list[__helios__txinput]__find_safe = (self_87) -> {\n        (fn_16) -> {\n            __helios__common__find_safe(self_87, (item_3) -> {\n                fn_16(__helios__txinput__from_data(item_3))\n            }, __helios__common__identity)\n        }\n    };\n    __helios__option[__helios__validatorhash]__some__some = (self_88) -> {\n        __helios__validatorhash__from_data(__helios__common__enum_field_0(self_88))\n    };\n    __module__CapoDelegateHelpers__RelativeDelegateLink[]__hasDelegateInput = (self_89) -> {\n        (inputs, mph_10, __useopt__required, required) -> {\n            required_1 = __core__ifThenElse(\n                __useopt__required,\n                () -> {\n                    required\n                },\n                () -> {\n                    true\n                }\n            )();\n            __cond_1 = __module__CapoDelegateHelpers__RelativeDelegateLink[]__delegateValidatorHash(self_89);\n            __core__ifThenElse(\n                __helios__option[__helios__validatorhash]__none____is(__cond_1),\n                () -> {\n                    (__lhs_0_2) -> {\n                        __core__ifThenElse(\n                            required_1,\n                            () -> {\n                                __helios__error(__helios__string____add("_   missing required input with dgTkn ", __module__CapoDelegateHelpers__RelativeDelegateLink[]__uutName(self_89)))\n                            },\n                            () -> {\n                                () -> {\n                                    __helios__option[__helios__txinput]__none____new()\n                                }()\n                            }\n                        )()\n                    }\n                },\n                () -> {\n                    (__lhs_0) -> {\n                        vh_2 = __helios__option[__helios__validatorhash]__some__some(__lhs_0);\n                        needsAddrWithCred = __helios__spendingcredential__new_validator(vh_2);\n                        expectedUut = __module__StellarHeliosHelpers__mkTv(mph_10, true, __module__CapoDelegateHelpers__RelativeDelegateLink[]__uutName(self_89), false, (), false, ());\n                        __core__chooseUnit(__helios__print(__helios__string____add(__helios__string____add("  -- seeking input dgTkn: ", __module__CapoDelegateHelpers__RelativeDelegateLink[]__uutName(self_89)), "\n")), __cond_2 = __helios__list[__helios__txinput]__find_safe(inputs)((i_5) -> {\n                            __helios__bool__and(() -> {\n                                __helios__spendingcredential____eq(__helios__address__credential(__helios__txinput__address(i_5)), needsAddrWithCred)\n                            }, () -> {\n                                __helios__value__contains(__helios__txinput__value(i_5))(expectedUut)\n                            })\n                        });\n                        __core__ifThenElse(\n                            __helios__option[__helios__txinput]__some____is(__cond_2),\n                            () -> {\n                                (foundGood) -> {\n                                    __core__chooseUnit(__helios__print("      found ^ input dgTkn"), foundGood)\n                                }\n                            },\n                            () -> {\n                                (__lhs_0_1) -> {\n                                    __core__ifThenElse(\n                                        required_1,\n                                        () -> {\n                                            __helios__error(__helios__string____add("_    missing req\'d input dgTkn (at script addr) ", __module__CapoDelegateHelpers__RelativeDelegateLink[]__uutName(self_89)))\n                                        },\n                                        () -> {\n                                            () -> {\n                                                __core__chooseUnit(__helios__print(" <-    no input with ^ dgTkn; not req\'d; returning false\n"), __helios__option[__helios__txinput]__none____new())\n                                            }()\n                                        }\n                                    )()\n                                }\n                            }\n                        )()(__cond_2))\n                    }\n                }\n            )()(__cond_1)\n        }\n    };\n    __helios__option[__helios__validatorhash]__some____is = (data_130) -> {\n        __helios__common__enum_tag_equals(data_130, 0)\n    };\n    __helios__option[__helios__txoutput]__some____is = (data_131) -> {\n        __helios__common__enum_tag_equals(data_131, 0)\n    };\n    __helios__list[__helios__txoutput]__find_safe = (self_90) -> {\n        (fn_17) -> {\n            __helios__common__find_safe(self_90, (item_4) -> {\n                fn_17(__helios__txoutput__from_data(item_4))\n            }, __helios__common__identity)\n        }\n    };\n    __module__CapoDelegateHelpers__linkHasValidOutput = (delegateLink, mph_11, __useopt__required_1, required_2, __useopt__createdOrReturned, createdOrReturned) -> {\n        required_3 = __core__ifThenElse(\n            __useopt__required_1,\n            () -> {\n                required_2\n            },\n            () -> {\n                true\n            }\n        )();\n        createdOrReturned_1 = __core__ifThenElse(\n            __useopt__createdOrReturned,\n            () -> {\n                createdOrReturned\n            },\n            () -> {\n                __module__CapoDelegateHelpers__DgTknDisposition[]__Returned____new()\n            }\n        )();\n        __core__chooseUnit(__helios__print("aaaa"), __lhs_0_3 = delegateLink;\n        uut = __module__CapoDelegateHelpers__RelativeDelegateLink[]__uutName(__lhs_0_3);\n        validatorHash = __module__CapoDelegateHelpers__RelativeDelegateLink[]__delegateValidatorHash(__lhs_0_3);\n        __core__chooseUnit(__helios__print("bbbb"), v = __module__StellarHeliosHelpers__mkTv(mph_11, true, uut, false, (), false, ());\n        (cOrR) -> {\n            __core__chooseUnit(__helios__print(__helios__string____add(__helios__string____add(__helios__string____add("    expect dgTkn ", cOrR), ": "), uut)), (hasDelegate) -> {\n                __core__chooseUnit(__helios__print("um, here"), __core__chooseUnit(__core__ifThenElse(\n                    __helios__bool__and(() -> {\n                        __helios__bool____not(hasDelegate)\n                    }, () -> {\n                        required_3\n                    }),\n                    () -> {\n                        __cond_6 = createdOrReturned_1;\n                        __core__ifThenElse(\n                            __module__CapoDelegateHelpers__DgTknDisposition[]__Created____is(__cond_6),\n                            () -> {\n                                (__lhs_0_12) -> {\n                                    __helios__error(__helios__string____add("   dgTkn not created: ", uut))\n                                }\n                            },\n                            () -> {\n                                (__lhs_0_10) -> {\n                                    __lhs_0_11 = __module__CapoDelegateHelpers__RelativeDelegateLink[]__hasDelegateInput(delegateLink)(__helios__tx__inputs(__helios__scriptcontext__tx), mph_11, true, true);\n                                    __helios__error(__helios__string____add("   dgTkn not returned: ", uut))\n                                }\n                            }\n                        )()(__cond_6)\n                    },\n                    () -> {\n                        () -> {\n                            __core__ifThenElse(\n                                hasDelegate,\n                                () -> {\n                                    __helios__print(__helios__string____add(__helios__string____add("    ok:  ^ dgTkn has ", cOrR), " a valid output\n"))\n                                },\n                                () -> {\n                                    () -> {\n                                        __helios__print("    no delegate but not req\'d; false")\n                                    }()\n                                }\n                            )()\n                        }()\n                    }\n                )(), __core__chooseUnit(__helios__print("cccc"), hasDelegate)))\n            }(__cond_4 = validatorHash;\n            __core__ifThenElse(\n                __helios__option[__helios__validatorhash]__some____is(__cond_4),\n                () -> {\n                    (__lhs_0_9) -> {\n                        vh_3 = __helios__option[__helios__validatorhash]__some__some(__lhs_0_9);\n                        __core__chooseUnit(__helios__print(__helios__string____add("  ... ^ sent to validator: ", __helios__validatorhash__show(vh_3)())), t = __helios__tx__value_locked_by(__helios__scriptcontext__tx)(vh_3);\n                        __helios__value__contains(t)(v))\n                    }\n                },\n                () -> {\n                    (__lhs_0_6) -> {\n                        __core__chooseUnit(__helios__print("   (to anywhere)\n"), __cond_5 = __helios__list[__helios__txoutput]__find_safe(__helios__tx__outputs(__helios__scriptcontext__tx))((o) -> {\n                            __helios__value__contains(__helios__txoutput__value(o))(v)\n                        });\n                        __core__ifThenElse(\n                            __helios__option[__helios__txoutput]__some____is(__cond_5),\n                            () -> {\n                                (__lhs_0_8) -> {\n                                    true\n                                }\n                            },\n                            () -> {\n                                (__lhs_0_7) -> {\n                                    false\n                                }\n                            }\n                        )()(__cond_5))\n                    }\n                }\n            )()(__cond_4)))\n        }(__cond_3 = createdOrReturned_1;\n        __core__ifThenElse(\n            __module__CapoDelegateHelpers__DgTknDisposition[]__Returned____is(__cond_3),\n            () -> {\n                (__lhs_0_5) -> {\n                    "returned"\n                }\n            },\n            () -> {\n                (__lhs_0_4) -> {\n                    "created"\n                }\n            }\n        )()(__cond_3))))\n    };\n    __helios__option[__helios__txinput]__some__some = (self_91) -> {\n        __helios__txinput__from_data(__helios__common__enum_field_0(self_91))\n    };\n    __helios__option[__module__CapoDelegateHelpers__RelativeDelegateLink[]]__is_valid_data = (data_132) -> {\n        __core__chooseData(data_132, () -> {\n            pair_45 = __core__unConstrData__safe(data_132);\n            index_7 = __core__fstPair(pair_45);\n            fields_86 = __core__sndPair(pair_45);\n            __core__ifThenElse(\n                __core__equalsInteger(index_7, 0),\n                () -> {\n                    __core__chooseList(fields_86, () -> {\n                        false\n                    }, () -> {\n                        __core__chooseList(__core__tailList__safe(fields_86), () -> {\n                            __module__CapoDelegateHelpers__RelativeDelegateLink[]__is_valid_data(__core__headList__safe(fields_86))\n                        }, () -> {\n                            false\n                        })()\n                    })()\n                },\n                () -> {\n                    __core__ifThenElse(\n                        __core__equalsInteger(index_7, 1),\n                        () -> {\n                            __core__chooseList(fields_86, true, false)\n                        },\n                        () -> {\n                            false\n                        }\n                    )()\n                }\n            )()\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        })()\n    };\n    __module__CapoDelegateHelpers__PendingDelegateChange[]__is_valid_data = (data_133) -> {\n        __core__chooseData(data_133, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            fields_87 = __core__unListData__safe(data_133);\n            __core__chooseList(fields_87, () -> {\n                false\n            }, () -> {\n                head_49 = __core__headList__safe(fields_87);\n                __core__ifThenElse(\n                    __module__CapoDelegateHelpers__PendingDelegateAction[]__is_valid_data(__module__CapoDelegateHelpers__PendingDelegateAction[]__Add__is_valid_data_1, __module__CapoDelegateHelpers__PendingDelegateAction[]__Remove__is_valid_data_1, __module__CapoDelegateHelpers__PendingDelegateAction[]__Replace__is_valid_data_1)(head_49),\n                    () -> {\n                        fields_88 = __core__tailList__safe(fields_87);\n                        __core__chooseList(fields_88, () -> {\n                            false\n                        }, () -> {\n                            head_50 = __core__headList__safe(fields_88);\n                            __core__ifThenElse(\n                                __module__CapoDelegateHelpers__DelegateRole[]__is_valid_data(__module__CapoDelegateHelpers__DelegateRole[]__MintDgt__is_valid_data_1, __module__CapoDelegateHelpers__DelegateRole[]__SpendDgt__is_valid_data_1, __module__CapoDelegateHelpers__DelegateRole[]__MintInvariant__is_valid_data_1, __module__CapoDelegateHelpers__DelegateRole[]__SpendInvariant__is_valid_data_1, __module__CapoDelegateHelpers__DelegateRole[]__DgDataPolicy__is_valid_data_1, __module__CapoDelegateHelpers__DelegateRole[]__OtherNamedDgt__is_valid_data_1, __module__CapoDelegateHelpers__DelegateRole[]__BothMintAndSpendDgt__is_valid_data_1, __module__CapoDelegateHelpers__DelegateRole[]__HandledByCapoOnly__is_valid_data_1)(head_50),\n                                () -> {\n                                    fields_89 = __core__tailList__safe(fields_88);\n                                    __core__chooseList(fields_89, () -> {\n                                        false\n                                    }, () -> {\n                                        head_51 = __core__headList__safe(fields_89);\n                                        __core__ifThenElse(\n                                            __helios__option[__helios__string]__is_valid_data(head_51),\n                                            () -> {\n                                                fields_90 = __core__tailList__safe(fields_89);\n                                                __core__chooseList(fields_90, () -> {\n                                                    false\n                                                }, () -> {\n                                                    head_52 = __core__headList__safe(fields_90);\n                                                    __core__ifThenElse(\n                                                        __helios__option[__module__CapoDelegateHelpers__RelativeDelegateLink[]]__is_valid_data(head_52),\n                                                        () -> {\n                                                            fields_91 = __core__tailList__safe(fields_90);\n                                                            __core__chooseList(fields_91, true, false)\n                                                        },\n                                                        () -> {\n                                                            false\n                                                        }\n                                                    )()\n                                                })()\n                                            },\n                                            () -> {\n                                                false\n                                            }\n                                        )()\n                                    })()\n                                },\n                                () -> {\n                                    false\n                                }\n                            )()\n                        })()\n                    },\n                    () -> {\n                        false\n                    }\n                )()\n            })()\n        }, () -> {\n            false\n        }, () -> {\n            false\n        })()\n    };\n    __helios__list[__helios__txinput]__any = (self_92) -> {\n        (fn_18) -> {\n            __helios__common__any(self_92, (item_5) -> {\n                fn_18(__helios__txinput__from_data(item_5))\n            })\n        }\n    };\n    __module__CapoHelpers__ManifestEntryType[]__is_valid_data = (__module__CapoHelpers__ManifestEntryType[]__NamedTokenRef__is_valid_data, __module__CapoHelpers__ManifestEntryType[]__DgDataPolicy__is_valid_data, __module__CapoHelpers__ManifestEntryType[]__DelegateThreads__is_valid_data, __module__CapoHelpers__ManifestEntryType[]__MerkleMembership__is_valid_data, __module__CapoHelpers__ManifestEntryType[]__MerkleStateRoot__is_valid_data) -> {\n        (data_134) -> {\n            __core__ifThenElse(\n                __module__CapoHelpers__ManifestEntryType[]__MerkleStateRoot__is_valid_data(data_134),\n                () -> {\n                    true\n                },\n                () -> {\n                    __core__ifThenElse(\n                        __module__CapoHelpers__ManifestEntryType[]__MerkleMembership__is_valid_data(data_134),\n                        () -> {\n                            true\n                        },\n                        () -> {\n                            __core__ifThenElse(\n                                __module__CapoHelpers__ManifestEntryType[]__DelegateThreads__is_valid_data(data_134),\n                                () -> {\n                                    true\n                                },\n                                () -> {\n                                    __core__ifThenElse(\n                                        __module__CapoHelpers__ManifestEntryType[]__DgDataPolicy__is_valid_data(data_134),\n                                        () -> {\n                                            true\n                                        },\n                                        () -> {\n                                            __core__ifThenElse(\n                                                __module__CapoHelpers__ManifestEntryType[]__NamedTokenRef__is_valid_data(data_134),\n                                                () -> {\n                                                    true\n                                                },\n                                                () -> {\n                                                    false\n                                                }\n                                            )()\n                                        }\n                                    )()\n                                }\n                            )()\n                        }\n                    )()\n                }\n            )()\n        }\n    };\n    __module__CapoHelpers__ManifestEntryType[]__NamedTokenRef__is_valid_data_1 = (data_135) -> {\n        __core__chooseData(data_135, () -> {\n            pair_46 = __core__unConstrData__safe(data_135);\n            __core__ifThenElse(\n                __core__equalsInteger(__core__fstPair(pair_46), 0),\n                () -> {\n                    data_136 = __core__listData(__core__sndPair(pair_46));\n                    __core__chooseData(data_136, () -> {\n                        false\n                    }, () -> {\n                        false\n                    }, () -> {\n                        fields_92 = __core__unListData__safe(data_136);\n                        __core__chooseList(fields_92, true, false)\n                    }, () -> {\n                        false\n                    }, () -> {\n                        false\n                    })()\n                },\n                () -> {\n                    false\n                }\n            )()\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        })()\n    };\n    __module__CapoHelpers__ManifestEntryType[]__DgDataPolicy__is_valid_data_1 = (data_137) -> {\n        __core__chooseData(data_137, () -> {\n            pair_47 = __core__unConstrData__safe(data_137);\n            __core__ifThenElse(\n                __core__equalsInteger(__core__fstPair(pair_47), 1),\n                () -> {\n                    data_138 = __core__listData(__core__sndPair(pair_47));\n                    __core__chooseData(data_138, () -> {\n                        false\n                    }, () -> {\n                        false\n                    }, () -> {\n                        fields_93 = __core__unListData__safe(data_138);\n                        __core__chooseList(fields_93, () -> {\n                            false\n                        }, () -> {\n                            head_53 = __core__headList__safe(fields_93);\n                            __core__ifThenElse(\n                                __module__CapoDelegateHelpers__RelativeDelegateLink[]__is_valid_data(head_53),\n                                () -> {\n                                    fields_94 = __core__tailList__safe(fields_93);\n                                    __core__chooseList(fields_94, () -> {\n                                        false\n                                    }, () -> {\n                                        head_54 = __core__headList__safe(fields_94);\n                                        __core__ifThenElse(\n                                            __helios__string__is_valid_data(head_54),\n                                            () -> {\n                                                fields_95 = __core__tailList__safe(fields_94);\n                                                __core__chooseList(fields_95, () -> {\n                                                    false\n                                                }, () -> {\n                                                    head_55 = __core__headList__safe(fields_95);\n                                                    __core__ifThenElse(\n                                                        __helios__int__is_valid_data(head_55),\n                                                        () -> {\n                                                            fields_96 = __core__tailList__safe(fields_95);\n                                                            __core__chooseList(fields_96, true, false)\n                                                        },\n                                                        () -> {\n                                                            false\n                                                        }\n                                                    )()\n                                                })()\n                                            },\n                                            () -> {\n                                                false\n                                            }\n                                        )()\n                                    })()\n                                },\n                                () -> {\n                                    false\n                                }\n                            )()\n                        })()\n                    }, () -> {\n                        false\n                    }, () -> {\n                        false\n                    })()\n                },\n                () -> {\n                    false\n                }\n            )()\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        })()\n    };\n    __module__CapoHelpers__ManifestEntryType[]__DelegateThreads__is_valid_data_1 = (data_139) -> {\n        __core__chooseData(data_139, () -> {\n            pair_48 = __core__unConstrData__safe(data_139);\n            __core__ifThenElse(\n                __core__equalsInteger(__core__fstPair(pair_48), 2),\n                () -> {\n                    data_140 = __core__listData(__core__sndPair(pair_48));\n                    __core__chooseData(data_140, () -> {\n                        false\n                    }, () -> {\n                        false\n                    }, () -> {\n                        fields_97 = __core__unListData__safe(data_140);\n                        __core__chooseList(fields_97, () -> {\n                            false\n                        }, () -> {\n                            head_56 = __core__headList__safe(fields_97);\n                            __core__ifThenElse(\n                                __module__CapoDelegateHelpers__DelegateRole[]__is_valid_data(__module__CapoDelegateHelpers__DelegateRole[]__MintDgt__is_valid_data_1, __module__CapoDelegateHelpers__DelegateRole[]__SpendDgt__is_valid_data_1, __module__CapoDelegateHelpers__DelegateRole[]__MintInvariant__is_valid_data_1, __module__CapoDelegateHelpers__DelegateRole[]__SpendInvariant__is_valid_data_1, __module__CapoDelegateHelpers__DelegateRole[]__DgDataPolicy__is_valid_data_1, __module__CapoDelegateHelpers__DelegateRole[]__OtherNamedDgt__is_valid_data_1, __module__CapoDelegateHelpers__DelegateRole[]__BothMintAndSpendDgt__is_valid_data_1, __module__CapoDelegateHelpers__DelegateRole[]__HandledByCapoOnly__is_valid_data_1)(head_56),\n                                () -> {\n                                    fields_98 = __core__tailList__safe(fields_97);\n                                    __core__chooseList(fields_98, () -> {\n                                        false\n                                    }, () -> {\n                                        head_57 = __core__headList__safe(fields_98);\n                                        __core__ifThenElse(\n                                            __helios__int__is_valid_data(head_57),\n                                            () -> {\n                                                fields_99 = __core__tailList__safe(fields_98);\n                                                __core__chooseList(fields_99, true, false)\n                                            },\n                                            () -> {\n                                                false\n                                            }\n                                        )()\n                                    })()\n                                },\n                                () -> {\n                                    false\n                                }\n                            )()\n                        })()\n                    }, () -> {\n                        false\n                    }, () -> {\n                        false\n                    })()\n                },\n                () -> {\n                    false\n                }\n            )()\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        })()\n    };\n    __module__CapoHelpers__ManifestEntryType[]__MerkleMembership__is_valid_data_1 = (data_141) -> {\n        __core__chooseData(data_141, () -> {\n            pair_49 = __core__unConstrData__safe(data_141);\n            __core__ifThenElse(\n                __core__equalsInteger(__core__fstPair(pair_49), 3),\n                () -> {\n                    data_142 = __core__listData(__core__sndPair(pair_49));\n                    __core__chooseData(data_142, () -> {\n                        false\n                    }, () -> {\n                        false\n                    }, () -> {\n                        fields_100 = __core__unListData__safe(data_142);\n                        __core__chooseList(fields_100, true, false)\n                    }, () -> {\n                        false\n                    }, () -> {\n                        false\n                    })()\n                },\n                () -> {\n                    false\n                }\n            )()\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        })()\n    };\n    __module__CapoHelpers__ManifestEntryType[]__MerkleStateRoot__is_valid_data_1 = (data_143) -> {\n        __core__chooseData(data_143, () -> {\n            pair_50 = __core__unConstrData__safe(data_143);\n            __core__ifThenElse(\n                __core__equalsInteger(__core__fstPair(pair_50), 4),\n                () -> {\n                    data_144 = __core__listData(__core__sndPair(pair_50));\n                    __core__chooseData(data_144, () -> {\n                        false\n                    }, () -> {\n                        false\n                    }, () -> {\n                        fields_101 = __core__unListData__safe(data_144);\n                        __core__chooseList(fields_101, true, false)\n                    }, () -> {\n                        false\n                    }, () -> {\n                        false\n                    })()\n                },\n                () -> {\n                    false\n                }\n            )()\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        })()\n    };\n    __helios__option[__helios__mintingpolicyhash]__is_valid_data = (data_145) -> {\n        __core__chooseData(data_145, () -> {\n            pair_51 = __core__unConstrData__safe(data_145);\n            index_8 = __core__fstPair(pair_51);\n            fields_102 = __core__sndPair(pair_51);\n            __core__ifThenElse(\n                __core__equalsInteger(index_8, 0),\n                () -> {\n                    __core__chooseList(fields_102, () -> {\n                        false\n                    }, () -> {\n                        __core__chooseList(__core__tailList__safe(fields_102), () -> {\n                            __helios__mintingpolicyhash__is_valid_data(__core__headList__safe(fields_102))\n                        }, () -> {\n                            false\n                        })()\n                    })()\n                },\n                () -> {\n                    __core__ifThenElse(\n                        __core__equalsInteger(index_8, 1),\n                        () -> {\n                            __core__chooseList(fields_102, true, false)\n                        },\n                        () -> {\n                            false\n                        }\n                    )()\n                }\n            )()\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        })()\n    };\n    __module__CapoHelpers__CapoManifestEntry[]__is_valid_data = (data_146) -> {\n        __core__ifThenElse(\n            __helios__common__test_mStruct_field(data_146, __core__bData(#6d7068), __helios__option[__helios__mintingpolicyhash]__is_valid_data),\n            () -> {\n                __core__ifThenElse(\n                    __helios__common__test_mStruct_field(data_146, __core__bData(#746e), __helios__bytearray__is_valid_data),\n                    () -> {\n                        __core__ifThenElse(\n                            __helios__common__test_mStruct_field(data_146, __core__bData(#747065), __module__CapoHelpers__ManifestEntryType[]__is_valid_data(__module__CapoHelpers__ManifestEntryType[]__NamedTokenRef__is_valid_data_1, __module__CapoHelpers__ManifestEntryType[]__DgDataPolicy__is_valid_data_1, __module__CapoHelpers__ManifestEntryType[]__DelegateThreads__is_valid_data_1, __module__CapoHelpers__ManifestEntryType[]__MerkleMembership__is_valid_data_1, __module__CapoHelpers__ManifestEntryType[]__MerkleStateRoot__is_valid_data_1)),\n                            () -> {\n                                true\n                            },\n                            () -> {\n                                __core__trace("Warning: invalid CapoManifestEntry data", () -> {\n                                    false\n                                })()\n                            }\n                        )()\n                    },\n                    () -> {\n                        __core__trace("Warning: invalid CapoManifestEntry data", () -> {\n                            false\n                        })()\n                    }\n                )()\n            },\n            () -> {\n                __core__trace("Warning: invalid CapoManifestEntry data", () -> {\n                    false\n                })()\n            }\n        )()\n    };\n    __helios__map[__helios__mintingpolicyhash@__helios__map[__helios__bytearray@__helios__int]]__filter = (self_93) -> {\n        (fn_19) -> {\n            __helios__common__filter_map(self_93, (pair_52) -> {\n                fn_19(__helios__mintingpolicyhash__from_data(__core__fstPair(pair_52)), __helios__map[__helios__bytearray@__helios__int]__from_data(__core__sndPair(pair_52)))\n            })\n        }\n    };\n    __helios__list[__module__CapoDelegateHelpers__RelativeDelegateLink[]]__is_valid_data_internal = (lst_12) -> {\n        recurse_63 = (recurse_62, lst_13) -> {\n            __core__chooseList(lst_13, () -> {\n                true\n            }, () -> {\n                __core__ifThenElse(\n                    __module__CapoDelegateHelpers__RelativeDelegateLink[]__is_valid_data(__core__headList__safe(lst_13)),\n                    () -> {\n                        recurse_62(recurse_62, __core__tailList__safe(lst_13))\n                    },\n                    () -> {\n                        false\n                    }\n                )()\n            })()\n        };\n        recurse_63(recurse_63, lst_12)\n    };\n    __helios__list[__module__CapoDelegateHelpers__RelativeDelegateLink[]]__is_valid_data = (data_147) -> {\n        __core__chooseData(data_147, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            __helios__list[__module__CapoDelegateHelpers__RelativeDelegateLink[]]__is_valid_data_internal(__core__unListData__safe(data_147))\n        }, () -> {\n            false\n        }, () -> {\n            false\n        })()\n    };\n    __helios__map[__helios__string@__module__CapoDelegateHelpers__RelativeDelegateLink[]]__is_valid_data_internal = (map_16) -> {\n        recurse_65 = (recurse_64, map_17) -> {\n            __core__chooseList(map_17, () -> {\n                true\n            }, () -> {\n                head_58 = __core__headList__safe(map_17);\n                __core__ifThenElse(\n                    __helios__string__is_valid_data(__core__fstPair(head_58)),\n                    () -> {\n                        __core__ifThenElse(\n                            __module__CapoDelegateHelpers__RelativeDelegateLink[]__is_valid_data(__core__sndPair(head_58)),\n                            () -> {\n                                recurse_64(recurse_64, __core__tailList__safe(map_17))\n                            },\n                            () -> {\n                                false\n                            }\n                        )()\n                    },\n                    () -> {\n                        false\n                    }\n                )()\n            })()\n        };\n        recurse_65(recurse_65, map_16)\n    };\n    __helios__map[__helios__string@__module__CapoDelegateHelpers__RelativeDelegateLink[]]__is_valid_data = (data_148) -> {\n        __core__chooseData(data_148, () -> {\n            false\n        }, () -> {\n            __helios__map[__helios__string@__module__CapoDelegateHelpers__RelativeDelegateLink[]]__is_valid_data_internal(__core__unMapData__safe(data_148))\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        })()\n    };\n    __helios__map[__helios__string@__module__CapoHelpers__CapoManifestEntry[]]__is_valid_data_internal = (map_18) -> {\n        recurse_67 = (recurse_66, map_19) -> {\n            __core__chooseList(map_19, () -> {\n                true\n            }, () -> {\n                head_59 = __core__headList__safe(map_19);\n                __core__ifThenElse(\n                    __helios__string__is_valid_data(__core__fstPair(head_59)),\n                    () -> {\n                        __core__ifThenElse(\n                            __module__CapoHelpers__CapoManifestEntry[]__is_valid_data(__core__sndPair(head_59)),\n                            () -> {\n                                recurse_66(recurse_66, __core__tailList__safe(map_19))\n                            },\n                            () -> {\n                                false\n                            }\n                        )()\n                    },\n                    () -> {\n                        false\n                    }\n                )()\n            })()\n        };\n        recurse_67(recurse_67, map_18)\n    };\n    __helios__map[__helios__string@__module__CapoHelpers__CapoManifestEntry[]]__is_valid_data = (data_149) -> {\n        __core__chooseData(data_149, () -> {\n            false\n        }, () -> {\n            __helios__map[__helios__string@__module__CapoHelpers__CapoManifestEntry[]]__is_valid_data_internal(__core__unMapData__safe(data_149))\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        })()\n    };\n    __helios__list[__module__CapoDelegateHelpers__PendingDelegateChange[]]__is_valid_data_internal = (lst_14) -> {\n        recurse_69 = (recurse_68, lst_15) -> {\n            __core__chooseList(lst_15, () -> {\n                true\n            }, () -> {\n                __core__ifThenElse(\n                    __module__CapoDelegateHelpers__PendingDelegateChange[]__is_valid_data(__core__headList__safe(lst_15)),\n                    () -> {\n                        recurse_68(recurse_68, __core__tailList__safe(lst_15))\n                    },\n                    () -> {\n                        false\n                    }\n                )()\n            })()\n        };\n        recurse_69(recurse_69, lst_14)\n    };\n    __helios__list[__module__CapoDelegateHelpers__PendingDelegateChange[]]__is_valid_data = (data_150) -> {\n        __core__chooseData(data_150, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            __helios__list[__module__CapoDelegateHelpers__PendingDelegateChange[]]__is_valid_data_internal(__core__unListData__safe(data_150))\n        }, () -> {\n            false\n        }, () -> {\n            false\n        })()\n    };\n    __module__CapoHelpers__CapoDatum[]__CharterData__is_valid_data = (data_151) -> {\n        __core__chooseData(data_151, () -> {\n            pair_53 = __core__unConstrData__safe(data_151);\n            __core__ifThenElse(\n                __core__equalsInteger(__core__fstPair(pair_53), 0),\n                () -> {\n                    data_152 = __core__listData(__core__sndPair(pair_53));\n                    __core__chooseData(data_152, () -> {\n                        false\n                    }, () -> {\n                        false\n                    }, () -> {\n                        fields_103 = __core__unListData__safe(data_152);\n                        __core__chooseList(fields_103, () -> {\n                            false\n                        }, () -> {\n                            head_60 = __core__headList__safe(fields_103);\n                            __core__ifThenElse(\n                                __module__CapoDelegateHelpers__RelativeDelegateLink[]__is_valid_data(head_60),\n                                () -> {\n                                    fields_104 = __core__tailList__safe(fields_103);\n                                    __core__chooseList(fields_104, () -> {\n                                        false\n                                    }, () -> {\n                                        head_61 = __core__headList__safe(fields_104);\n                                        __core__ifThenElse(\n                                            __helios__list[__module__CapoDelegateHelpers__RelativeDelegateLink[]]__is_valid_data(head_61),\n                                            () -> {\n                                                fields_105 = __core__tailList__safe(fields_104);\n                                                __core__chooseList(fields_105, () -> {\n                                                    false\n                                                }, () -> {\n                                                    head_62 = __core__headList__safe(fields_105);\n                                                    __core__ifThenElse(\n                                                        __helios__map[__helios__string@__module__CapoDelegateHelpers__RelativeDelegateLink[]]__is_valid_data(head_62),\n                                                        () -> {\n                                                            fields_106 = __core__tailList__safe(fields_105);\n                                                            __core__chooseList(fields_106, () -> {\n                                                                false\n                                                            }, () -> {\n                                                                head_63 = __core__headList__safe(fields_106);\n                                                                __core__ifThenElse(\n                                                                    __module__CapoDelegateHelpers__RelativeDelegateLink[]__is_valid_data(head_63),\n                                                                    () -> {\n                                                                        fields_107 = __core__tailList__safe(fields_106);\n                                                                        __core__chooseList(fields_107, () -> {\n                                                                            false\n                                                                        }, () -> {\n                                                                            head_64 = __core__headList__safe(fields_107);\n                                                                            __core__ifThenElse(\n                                                                                __helios__list[__module__CapoDelegateHelpers__RelativeDelegateLink[]]__is_valid_data(head_64),\n                                                                                () -> {\n                                                                                    fields_108 = __core__tailList__safe(fields_107);\n                                                                                    __core__chooseList(fields_108, () -> {\n                                                                                        false\n                                                                                    }, () -> {\n                                                                                        head_65 = __core__headList__safe(fields_108);\n                                                                                        __core__ifThenElse(\n                                                                                            __module__CapoDelegateHelpers__RelativeDelegateLink[]__is_valid_data(head_65),\n                                                                                            () -> {\n                                                                                                fields_109 = __core__tailList__safe(fields_108);\n                                                                                                __core__chooseList(fields_109, () -> {\n                                                                                                    false\n                                                                                                }, () -> {\n                                                                                                    head_66 = __core__headList__safe(fields_109);\n                                                                                                    __core__ifThenElse(\n                                                                                                        __helios__map[__helios__string@__module__CapoHelpers__CapoManifestEntry[]]__is_valid_data(head_66),\n                                                                                                        () -> {\n                                                                                                            fields_110 = __core__tailList__safe(fields_109);\n                                                                                                            __core__chooseList(fields_110, () -> {\n                                                                                                                false\n                                                                                                            }, () -> {\n                                                                                                                head_67 = __core__headList__safe(fields_110);\n                                                                                                                __core__ifThenElse(\n                                                                                                                    __helios__list[__module__CapoDelegateHelpers__PendingDelegateChange[]]__is_valid_data(head_67),\n                                                                                                                    () -> {\n                                                                                                                        fields_111 = __core__tailList__safe(fields_110);\n                                                                                                                        __core__chooseList(fields_111, true, false)\n                                                                                                                    },\n                                                                                                                    () -> {\n                                                                                                                        false\n                                                                                                                    }\n                                                                                                                )()\n                                                                                                            })()\n                                                                                                        },\n                                                                                                        () -> {\n                                                                                                            false\n                                                                                                        }\n                                                                                                    )()\n                                                                                                })()\n                                                                                            },\n                                                                                            () -> {\n                                                                                                false\n                                                                                            }\n                                                                                        )()\n                                                                                    })()\n                                                                                },\n                                                                                () -> {\n                                                                                    false\n                                                                                }\n                                                                            )()\n                                                                        })()\n                                                                    },\n                                                                    () -> {\n                                                                        false\n                                                                    }\n                                                                )()\n                                                            })()\n                                                        },\n                                                        () -> {\n                                                            false\n                                                        }\n                                                    )()\n                                                })()\n                                            },\n                                            () -> {\n                                                false\n                                            }\n                                        )()\n                                    })()\n                                },\n                                () -> {\n                                    false\n                                }\n                            )()\n                        })()\n                    }, () -> {\n                        false\n                    }, () -> {\n                        false\n                    })()\n                },\n                () -> {\n                    false\n                }\n            )()\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        })()\n    };\n    __module__CapoHelpers__CapoDatum[]__CharterData__from_data = (data_153) -> {\n        ignore_4 = __core__ifThenElse(\n            __module__CapoHelpers__CapoDatum[]__CharterData__is_valid_data(data_153),\n            () -> {\n                ()\n            },\n            () -> {\n                __core__trace("Warning: invalid CharterData data", ())\n            }\n        )();\n        data_153\n    };\n    __module__CapoHelpers__CapoDatum[]__CharterData____to_data = __helios__common__identity;\n    __module__CapoHelpers__CapoDatum[]__CharterData__mintDelegateLink = (self_94) -> {\n        __module__CapoDelegateHelpers__RelativeDelegateLink[]__from_data(__helios__common__enum_field_3(self_94))\n    };\n    __module__CapoHelpers__cctx_CharterInputType[]____to_data = __helios__common__identity;\n    __module__CapoHelpers__cctx_CharterInputType[]__is_valid_data = (__module__CapoHelpers__cctx_CharterInputType[]__Unk__is_valid_data, __module__CapoHelpers__cctx_CharterInputType[]__RefInput__is_valid_data, __module__CapoHelpers__cctx_CharterInputType[]__Input__is_valid_data) -> {\n        (data_154) -> {\n            __core__ifThenElse(\n                __module__CapoHelpers__cctx_CharterInputType[]__Input__is_valid_data(data_154),\n                () -> {\n                    true\n                },\n                () -> {\n                    __core__ifThenElse(\n                        __module__CapoHelpers__cctx_CharterInputType[]__RefInput__is_valid_data(data_154),\n                        () -> {\n                            true\n                        },\n                        () -> {\n                            __core__ifThenElse(\n                                __module__CapoHelpers__cctx_CharterInputType[]__Unk__is_valid_data(data_154),\n                                () -> {\n                                    true\n                                },\n                                () -> {\n                                    false\n                                }\n                            )()\n                        }\n                    )()\n                }\n            )()\n        }\n    };\n    __module__CapoHelpers__cctx_CharterInputType[]__from_data = (__module__CapoHelpers__cctx_CharterInputType[]__Unk__is_valid_data_1, __module__CapoHelpers__cctx_CharterInputType[]__RefInput__is_valid_data_1, __module__CapoHelpers__cctx_CharterInputType[]__Input__is_valid_data_1) -> {\n        (data_155) -> {\n            ignore_5 = __core__ifThenElse(\n                __module__CapoHelpers__cctx_CharterInputType[]__is_valid_data(__module__CapoHelpers__cctx_CharterInputType[]__Unk__is_valid_data_1, __module__CapoHelpers__cctx_CharterInputType[]__RefInput__is_valid_data_1, __module__CapoHelpers__cctx_CharterInputType[]__Input__is_valid_data_1)(data_155),\n                () -> {\n                    ()\n                },\n                () -> {\n                    __core__trace("Warning: invalid cctx_CharterInputType data", ())\n                }\n            )();\n            data_155\n        }\n    };\n    __module__CapoHelpers__cctx_CharterInputType[]__Unk__is_valid_data_2 = (data_156) -> {\n        __core__chooseData(data_156, () -> {\n            pair_54 = __core__unConstrData__safe(data_156);\n            __core__ifThenElse(\n                __core__equalsInteger(__core__fstPair(pair_54), 0),\n                () -> {\n                    data_157 = __core__listData(__core__sndPair(pair_54));\n                    __core__chooseData(data_157, () -> {\n                        false\n                    }, () -> {\n                        false\n                    }, () -> {\n                        fields_112 = __core__unListData__safe(data_157);\n                        __core__chooseList(fields_112, true, false)\n                    }, () -> {\n                        false\n                    }, () -> {\n                        false\n                    })()\n                },\n                () -> {\n                    false\n                }\n            )()\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        })()\n    };\n    __module__CapoHelpers__cctx_CharterInputType[]__Unk____new = () -> {\n        __core__constrData(0, __core__mkNilData(()))\n    };\n    __module__CapoHelpers__cctx_CharterInputType[]__RefInput____is = (data_158) -> {\n        __helios__common__enum_tag_equals(data_158, 1)\n    };\n    __module__CapoHelpers__cctx_CharterInputType[]__RefInput__is_valid_data_2 = (data_159) -> {\n        __core__chooseData(data_159, () -> {\n            pair_55 = __core__unConstrData__safe(data_159);\n            __core__ifThenElse(\n                __core__equalsInteger(__core__fstPair(pair_55), 1),\n                () -> {\n                    data_160 = __core__listData(__core__sndPair(pair_55));\n                    __core__chooseData(data_160, () -> {\n                        false\n                    }, () -> {\n                        false\n                    }, () -> {\n                        fields_113 = __core__unListData__safe(data_160);\n                        __core__chooseList(fields_113, () -> {\n                            false\n                        }, () -> {\n                            head_68 = __core__headList__safe(fields_113);\n                            __core__ifThenElse(\n                                __module__CapoHelpers__CapoDatum[]__CharterData__is_valid_data(head_68),\n                                () -> {\n                                    fields_114 = __core__tailList__safe(fields_113);\n                                    __core__chooseList(fields_114, () -> {\n                                        false\n                                    }, () -> {\n                                        head_69 = __core__headList__safe(fields_114);\n                                        __core__ifThenElse(\n                                            __helios__txinput__is_valid_data(head_69),\n                                            () -> {\n                                                fields_115 = __core__tailList__safe(fields_114);\n                                                __core__chooseList(fields_115, true, false)\n                                            },\n                                            () -> {\n                                                false\n                                            }\n                                        )()\n                                    })()\n                                },\n                                () -> {\n                                    false\n                                }\n                            )()\n                        })()\n                    }, () -> {\n                        false\n                    }, () -> {\n                        false\n                    })()\n                },\n                () -> {\n                    false\n                }\n            )()\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        })()\n    };\n    __module__CapoHelpers__cctx_CharterInputType[]__RefInput__datum = (self_95) -> {\n        __module__CapoHelpers__CapoDatum[]__CharterData__from_data(__helios__common__enum_field_0(self_95))\n    };\n    __module__CapoHelpers__cctx_CharterInputType[]__RefInput____new = (datum, utxo) -> {\n        __core__constrData(1, __core__mkCons(__module__CapoHelpers__CapoDatum[]__CharterData____to_data(datum), __core__mkCons(__helios__txinput____to_data(utxo), __core__mkNilData(()))))\n    };\n    __module__CapoHelpers__cctx_CharterInputType[]__Input____is = (data_161) -> {\n        __helios__common__enum_tag_equals(data_161, 2)\n    };\n    __module__CapoHelpers__cctx_CharterInputType[]__Input__is_valid_data_2 = (data_162) -> {\n        __core__chooseData(data_162, () -> {\n            pair_56 = __core__unConstrData__safe(data_162);\n            __core__ifThenElse(\n                __core__equalsInteger(__core__fstPair(pair_56), 2),\n                () -> {\n                    data_163 = __core__listData(__core__sndPair(pair_56));\n                    __core__chooseData(data_163, () -> {\n                        false\n                    }, () -> {\n                        false\n                    }, () -> {\n                        fields_116 = __core__unListData__safe(data_163);\n                        __core__chooseList(fields_116, () -> {\n                            false\n                        }, () -> {\n                            head_70 = __core__headList__safe(fields_116);\n                            __core__ifThenElse(\n                                __module__CapoHelpers__CapoDatum[]__CharterData__is_valid_data(head_70),\n                                () -> {\n                                    fields_117 = __core__tailList__safe(fields_116);\n                                    __core__chooseList(fields_117, () -> {\n                                        false\n                                    }, () -> {\n                                        head_71 = __core__headList__safe(fields_117);\n                                        __core__ifThenElse(\n                                            __helios__txinput__is_valid_data(head_71),\n                                            () -> {\n                                                fields_118 = __core__tailList__safe(fields_117);\n                                                __core__chooseList(fields_118, true, false)\n                                            },\n                                            () -> {\n                                                false\n                                            }\n                                        )()\n                                    })()\n                                },\n                                () -> {\n                                    false\n                                }\n                            )()\n                        })()\n                    }, () -> {\n                        false\n                    }, () -> {\n                        false\n                    })()\n                },\n                () -> {\n                    false\n                }\n            )()\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        })()\n    };\n    __module__CapoHelpers__cctx_CharterInputType[]__Input__datum = (self_96) -> {\n        __module__CapoHelpers__CapoDatum[]__CharterData__from_data(__helios__common__enum_field_0(self_96))\n    };\n    __module__CapoHelpers__getRefCharterUtxo = (mph_12) -> {\n        chVal = __module__StellarHeliosHelpers__tvCharter(mph_12);\n        hasCharter = (txin) -> {\n            __helios__value__contains(__helios__txinput__value(txin))(chVal)\n        };\n        __core__chooseUnit(__helios__print("getting ref_input for charter\n"), (charterUtxo) -> {\n            charterUtxo\n        }(__cond_7 = __helios__list[__helios__txinput]__find_safe(__helios__tx__ref_inputs(__helios__scriptcontext__tx))(hasCharter);\n        __core__ifThenElse(\n            __helios__option[__helios__txinput]__some____is(__cond_7),\n            () -> {\n                (__lhs_0_14) -> {\n                    ch = __helios__option[__helios__txinput]__some__some(__lhs_0_14);\n                    ch\n                }\n            },\n            () -> {\n                (__lhs_0_13) -> {\n                    __core__chooseUnit(__helios__print("expected charter value"), __core__chooseUnit(__helios__print(__helios__value__show(chVal)()), __core__chooseUnit(__helios__print("\n"), __helios__error("Missing charter in required ref_inputs (use tcxWithCharterRef(tcx) in txn building functions)"))))\n                }\n            }\n        )()(__cond_7)))\n    };\n    __module__CapoHelpers__getTxCharterData = (mph_13, __useopt__refInputs, refInputs) -> {\n        refInputs_1 = __core__ifThenElse(\n            __useopt__refInputs,\n            () -> {\n                refInputs\n            },\n            () -> {\n                __helios__tx__ref_inputs(__helios__scriptcontext__tx)\n            }\n        )();\n        chVal_1 = __module__StellarHeliosHelpers__tvCharter(mph_13);\n        hasCharter_1 = (txin_1) -> {\n            __helios__value__contains(__helios__txinput__value(txin_1))(chVal_1)\n        };\n        (charterUtxo_1) -> {\n            ctd = __helios__common__assert_constr_index(__module__CapoHelpers__CapoDatum[]__CharterData__from_data(__helios__txoutputdatum__inline(__helios__txinput__datum(charterUtxo_1))), 0);\n            ctd\n        }(__cond_8 = __helios__list[__helios__txinput]__find_safe(refInputs_1)(hasCharter_1);\n        __core__ifThenElse(\n            __helios__option[__helios__txinput]__some____is(__cond_8),\n            () -> {\n                (__lhs_0_18) -> {\n                    ch_2 = __helios__option[__helios__txinput]__some__some(__lhs_0_18);\n                    ch_2\n                }\n            },\n            () -> {\n                (__lhs_0_15) -> {\n                    __cond_9 = __helios__list[__helios__txinput]__find_safe(__helios__tx__inputs(__helios__scriptcontext__tx))(hasCharter_1);\n                    __core__ifThenElse(\n                        __helios__option[__helios__txinput]__some____is(__cond_9),\n                        () -> {\n                            (__lhs_0_17) -> {\n                                ch_1 = __helios__option[__helios__txinput]__some__some(__lhs_0_17);\n                                ch_1\n                            }\n                        },\n                        () -> {\n                            (__lhs_0_16) -> {\n                                __helios__error("Missing charter inputs / ref_inputs")\n                            }\n                        }\n                    )()(__cond_9)\n                }\n            }\n        )()(__cond_8))\n    };\n    __helios__option[__helios__txinput]__is_valid_data = (data_164) -> {\n        __core__chooseData(data_164, () -> {\n            pair_57 = __core__unConstrData__safe(data_164);\n            index_9 = __core__fstPair(pair_57);\n            fields_119 = __core__sndPair(pair_57);\n            __core__ifThenElse(\n                __core__equalsInteger(index_9, 0),\n                () -> {\n                    __core__chooseList(fields_119, () -> {\n                        false\n                    }, () -> {\n                        __core__chooseList(__core__tailList__safe(fields_119), () -> {\n                            __helios__txinput__is_valid_data(__core__headList__safe(fields_119))\n                        }, () -> {\n                            false\n                        })()\n                    })()\n                },\n                () -> {\n                    __core__ifThenElse(\n                        __core__equalsInteger(index_9, 1),\n                        () -> {\n                            __core__chooseList(fields_119, true, false)\n                        },\n                        () -> {\n                            false\n                        }\n                    )()\n                }\n            )()\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        })()\n    };\n    __module__CapoHelpers__DelegateInput[]__link = (self_97) -> {\n        __module__CapoDelegateHelpers__RelativeDelegateLink[]__from_data(__helios__common__struct_field_0(self_97))\n    };\n    __helios__option[__helios__txinput]__from_data = (data_165) -> {\n        __4 = __core__ifThenElse(\n            __helios__option[__helios__txinput]__is_valid_data(data_165),\n            () -> {\n                ()\n            },\n            () -> {\n                __core__trace("Warning: invalid option data", ())\n            }\n        )();\n        data_165\n    };\n    __module__CapoHelpers__DelegateInput[]__input = (self_98) -> {\n        __helios__option[__helios__txinput]__from_data(__helios__common__struct_field_3(self_98))\n    };\n    __module__CapoHelpers__DelegateInput[]__mph = (self_99) -> {\n        __helios__mintingpolicyhash__from_data(__helios__common__struct_field_4(self_99))\n    };\n    __helios__option[__helios__txinput]____to_data = __helios__common__identity;\n    __module__CapoHelpers__DelegateInput[]____new = (link, role, idPrefix, input, mph_14) -> {\n        __core__mkCons(__module__CapoDelegateHelpers__RelativeDelegateLink[]____to_data(link), __core__mkCons(__module__CapoDelegateHelpers__DelegateRole[]____to_data(role), __core__mkCons(__helios__option[__helios__string]____to_data(idPrefix), __core__mkCons(__helios__option[__helios__txinput]____to_data(input), __core__mkCons(__helios__mintingpolicyhash____to_data(mph_14), __core__mkNilData(()))))))\n    };\n    __helios__list[__helios__data]__length = __helios__common__length;\n    __helios__option[__helios__txinput]__unwrap = (self_100) -> {\n        () -> {\n            __helios__txinput__from_data(__helios__common__enum_field_0(self_100))\n        }\n    };\n    __module__CapoHelpers__DelegateInput[]__genericDelegateActivityAsData = (self_101) -> {\n        () -> {\n            i_6 = __helios__option[__helios__txinput]__unwrap(__module__CapoHelpers__DelegateInput[]__input(self_101))();\n            inputData = __module__StellarHeliosHelpers__mustFindInputRedeemer(i_6);\n            __core__chooseUnit(__cond_10 = inputData;\n            __core__ifThenElse(\n                __helios__data__constrdata____is(__cond_10),\n                () -> {\n                    (__lhs_0_19) -> {\n                        index_10 = __helios__data__constrdata__tag(__lhs_0_19);\n                        fields_120 = __helios__data__constrdata__fields(__lhs_0_19);\n                        __core__chooseUnit(__helios__print(__helios__string____add("    -- generic delegate activity at index ", __helios__int__show(index_10)())), __core__chooseUnit(__helios__print(__helios__string____add(__helios__string____add(__helios__string____add("    ---- from input id:", __helios__txid__show(__helios__txoutputid__tx_id(__helios__txinput__output_id(i_6)))()), "#"), __helios__int__show(__helios__txoutputid__index(__helios__txinput__output_id(i_6)))())), __core__chooseUnit(__helios__print(__helios__string____add("       = ", __helios__value__show(__helios__txinput__value(i_6))())), __core__chooseUnit(__helios__assert(__helios__int____eq(index_10, index_10), "no way"), __helios__assert(__helios__int____gt(__helios__list[__helios__data]__length(fields_120), 0), "no way")))))\n                    }\n                },\n                () -> {\n                    (__5) -> {\n                        ()\n                    }\n                }\n            )()(__cond_10), inputData)\n        }\n    };\n    __module__CapoHelpers__DelegateInput[]__genericDelegateActivity_1 = (__module__CapoHelpers__DelegateInput[]__genericDelegateActivity) -> {\n        (self_102) -> {\n            () -> {\n                __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__from_data(__module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__CapoLifecycleActivities__is_valid_data_2, __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__DelegateLifecycleActivities__is_valid_data_2, __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__SpendingActivities__is_valid_data_2, __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__MintingActivities__is_valid_data_2, __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__BurningActivities__is_valid_data_2, __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__CreatingDelegatedData__is_valid_data_2, __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__UpdatingDelegatedData__is_valid_data_2, __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__DeletingDelegatedData__is_valid_data_2, __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__MultipleDelegateActivities__is_valid_data_2)(__module__CapoHelpers__DelegateInput[]__genericDelegateActivityAsData(self_102)())\n            }\n        }\n    };\n    __module__CapoHelpers__DelegateInput[]__requiresValidOutput = (self_103) -> {\n        (__useopt__createdOrReturned_1, createdOrReturned_2) -> {\n            createdOrReturned_3 = __core__ifThenElse(\n                __useopt__createdOrReturned_1,\n                () -> {\n                    createdOrReturned_2\n                },\n                () -> {\n                    __module__CapoDelegateHelpers__DgTknDisposition[]__Returned____new()\n                }\n            )();\n            __module__CapoDelegateHelpers__linkHasValidOutput(__module__CapoHelpers__DelegateInput[]__link(self_103), __module__CapoHelpers__DelegateInput[]__mph(self_103), true, true, true, createdOrReturned_3)\n        }\n    };\n    __module__CapoHelpers__CapoCtx[]__mph = (self_104) -> {\n        __helios__mintingpolicyhash__from_data(__helios__common__struct_field_0(self_104))\n    };\n    __module__CapoHelpers__CapoCtx[]__charter = (self_105) -> {\n        __module__CapoHelpers__cctx_CharterInputType[]__from_data(__module__CapoHelpers__cctx_CharterInputType[]__Unk__is_valid_data_2, __module__CapoHelpers__cctx_CharterInputType[]__RefInput__is_valid_data_2, __module__CapoHelpers__cctx_CharterInputType[]__Input__is_valid_data_2)(__helios__common__struct_field_1(self_105))\n    };\n    __module__CapoHelpers__CapoCtx[]____new = (mph_15, charter) -> {\n        __core__mkCons(__helios__mintingpolicyhash____to_data(mph_15), __core__mkCons(__module__CapoHelpers__cctx_CharterInputType[]____to_data(charter), __core__mkNilData(())))\n    };\n    __module__CapoHelpers__CapoCtx[]__requiresMintDelegateInput = (__module__CapoHelpers__CapoCtx[]__getCharterData, __module__CapoHelpers__CapoCtx[]__requiresDelegateInput) -> {\n        (self_106) -> {\n            (__useopt__required_2, required_4) -> {\n                required_5 = __core__ifThenElse(\n                    __useopt__required_2,\n                    () -> {\n                        required_4\n                    },\n                    () -> {\n                        true\n                    }\n                )();\n                dgtLink = __module__CapoHelpers__CapoDatum[]__CharterData__mintDelegateLink(__module__CapoHelpers__CapoCtx[]__getCharterData(self_106)());\n                __module__CapoHelpers__CapoCtx[]__requiresDelegateInput(self_106)(dgtLink, __module__CapoDelegateHelpers__DelegateRole[]__MintDgt____new(), true, required_5, false, ())\n            }\n        }\n    };\n    __module__CapoHelpers__CapoCtx[]__getCharterData_1 = (self_107) -> {\n        () -> {\n            __cond_11 = __module__CapoHelpers__CapoCtx[]__charter(self_107);\n            __core__ifThenElse(\n                __module__CapoHelpers__cctx_CharterInputType[]__RefInput____is(__cond_11),\n                () -> {\n                    (__lhs_0_21) -> {\n                        datum_2 = __module__CapoHelpers__cctx_CharterInputType[]__RefInput__datum(__lhs_0_21);\n                        datum_2\n                    }\n                },\n                () -> {\n                    __core__ifThenElse(\n                        __module__CapoHelpers__cctx_CharterInputType[]__Input____is(__cond_11),\n                        () -> {\n                            (__lhs_0_20) -> {\n                                datum_1 = __module__CapoHelpers__cctx_CharterInputType[]__Input__datum(__lhs_0_20);\n                                datum_1\n                            }\n                        },\n                        () -> {\n                            (__6) -> {\n                                __helios__error("CapoCtx.getCharterData(): unknown charter strategy; use result of withCharterInput(), withCharterRef(), or needsCharter() to resolve charter datum first")\n                            }\n                        }\n                    )()\n                }\n            )()(__cond_11)\n        }\n    };\n    __helios__option[__helios__string]__none____new = () -> {\n        __helios__option__NONE\n    };\n    __module__CapoHelpers__CapoCtx[]__requiresDelegateInput_1 = (self_108) -> {\n        (dgtLink_1, role_1, __useopt__required_3, required_6, __useopt__idPrefix, idPrefix_1) -> {\n            required_7 = __core__ifThenElse(\n                __useopt__required_3,\n                () -> {\n                    required_6\n                },\n                () -> {\n                    true\n                }\n            )();\n            idPrefix_2 = __core__ifThenElse(\n                __useopt__idPrefix,\n                () -> {\n                    idPrefix_1\n                },\n                () -> {\n                    __helios__option[__helios__string]__none____new()\n                }\n            )();\n            __module__CapoHelpers__DelegateInput[]____new(dgtLink_1, role_1, idPrefix_2, __module__CapoDelegateHelpers__RelativeDelegateLink[]__hasDelegateInput(dgtLink_1)(__helios__tx__inputs(__helios__scriptcontext__tx), __module__CapoHelpers__CapoCtx[]__mph(self_108), true, required_7), __module__CapoHelpers__CapoCtx[]__mph(self_108))\n        }\n    };\n    __module__CapoHelpers__CapoCtx[]__withCharterRef = (self_109) -> {\n        () -> {\n            __core__chooseUnit(__module__StellarHeliosHelpers__REQT("requires the charter to be referenced in the txn, but unspent", false, ()), charter_1 = __module__CapoHelpers__CapoCtx[]__charter(self_109);\n            __cond_12 = charter_1;\n            __core__ifThenElse(\n                __module__CapoHelpers__cctx_CharterInputType[]__RefInput____is(__cond_12),\n                () -> {\n                    (__lhs_0_25) -> {\n                        self_109\n                    }\n                },\n                () -> {\n                    __core__ifThenElse(\n                        __module__CapoHelpers__cctx_CharterInputType[]__Input____is(__cond_12),\n                        () -> {\n                            (__lhs_0_24) -> {\n                                __helios__error("CapoCtx.withCharterRef(): charter is from inputs!")\n                            }\n                        },\n                        () -> {\n                            (__lhs_0_22) -> {\n                                __lhs_0_23 = self_109;\n                                mph_16 = __module__CapoHelpers__CapoCtx[]__mph(__lhs_0_23);\n                                utxo_1 = __module__CapoHelpers__getRefCharterUtxo(mph_16);\n                                datum_3 = __helios__common__assert_constr_index(__module__CapoHelpers__CapoDatum[]__CharterData__from_data(__helios__txoutputdatum__inline(__helios__txinput__datum(utxo_1))), 0);\n                                __module__CapoHelpers__CapoCtx[]____new(mph_16, __module__CapoHelpers__cctx_CharterInputType[]__RefInput____new(datum_3, utxo_1))\n                            }\n                        }\n                    )()\n                }\n            )()(__cond_12))\n        }\n    };\n    __module__CapoHelpers__mkCapoCtx = (mph_17) -> {\n        __module__CapoHelpers__CapoCtx[]____new(mph_17, __module__CapoHelpers__cctx_CharterInputType[]__Unk____new())\n    };\n    __module__CapoMintHelpers__hasSeedUtxo = (tx, seedUtxo) -> {\n        __core__chooseUnit(__core__ifThenElse(\n            __helios__bool____not(__helios__list[__helios__txinput]__any(__helios__tx__inputs(tx))((input_1) -> {\n                __helios__txoutputid____eq(__helios__txinput__output_id(input_1), seedUtxo)\n            })),\n            () -> {\n                __core__chooseUnit(__helios__print(" - expected seedUtxo: "), __core__chooseUnit(__helios__print(__helios__txoutputid__show(seedUtxo)()), __core__chooseUnit(__helios__print("\n"), __helios__assert(false, "missing expected seed input for minting"))))\n            },\n            () -> {\n                () -> {\n                    ()\n                }()\n            }\n        )(), __core__chooseUnit(__helios__print("  -- has seed -> ok\n"), true))\n    };\n    __module__CapoMintHelpers__noOtherActivitiesSupported = (__7) -> {\n        __core__chooseUnit(__helios__print("yikes, expected DelegateLifecycleActivities:ReplacingMe or authorizingDelegate  \n"), __core__chooseUnit(__helios__print("   -- note: for other cases, the checkMintDgtActivity( (AbstractDelegateActivitiesEnum) -> Bool): option can provide context-specific checks\n"), __core__chooseUnit(__helios__assert(false, "unexpected delegate activity"), false)))\n    };\n    __helios__option[__helios__data]__none____is = (data_166) -> {\n        __helios__common__enum_tag_equals(data_166, 1)\n    };\n    __helios__option[__helios__data]__some__some = (self_110) -> {\n        __helios__data__from_data(__helios__common__enum_field_0(self_110))\n    };\n    __helios__map[__helios__scriptpurpose@__helios__data]__get_safe = (self_111) -> {\n        (key_12) -> {\n            __helios__common__map_get(self_111, __helios__scriptpurpose____to_data(key_12), (x_3) -> {\n                __core__constrData(0, __helios__common__list_1(x_3))\n            }, () -> {\n                __core__constrData(1, __helios__common__list_0)\n            })\n        }\n    };\n    __module__CapoMintHelpers__requiresDelegateAuthorizingMint = (delegateLink_1, mph_18, __useopt__extraMintDelegateRedeemerCheck, extraMintDelegateRedeemerCheck, __useopt__checkMintDgtActivity, checkMintDgtActivity) -> {\n        extraMintDelegateRedeemerCheck_1 = __core__ifThenElse(\n            __useopt__extraMintDelegateRedeemerCheck,\n            () -> {\n                extraMintDelegateRedeemerCheck\n            },\n            () -> {\n                true\n            }\n        )();\n        checkMintDgtActivity_1 = __core__ifThenElse(\n            __useopt__checkMintDgtActivity,\n            () -> {\n                checkMintDgtActivity\n            },\n            () -> {\n                __module__CapoMintHelpers__noOtherActivitiesSupported\n            }\n        )();\n        authzVal = __helios__value__new(__helios__assetclass__new(mph_18, __helios__string__encode_utf8(__module__CapoDelegateHelpers__RelativeDelegateLink[]__uutName(delegateLink_1))()), 1);\n        __core__chooseUnit(__module__StellarHeliosHelpers__REQT("requires the charter\'s mint-delegate to authorize this mint activity", false, ()), __core__chooseUnit(__helios__print(__helios__string____add("  -- finding input dgTkn: ", __module__CapoDelegateHelpers__RelativeDelegateLink[]__uutName(delegateLink_1))), (targetId_1) -> {\n            __core__chooseUnit(__helios__print("    --    found dgTkn ^"), spendsAuthorityUut = __helios__map[__helios__scriptpurpose@__helios__data]__find_key(__helios__tx__redeemers(__helios__scriptcontext__tx))((purpose_1) -> {\n                __cond_14 = purpose_1;\n                __core__ifThenElse(\n                    __helios__scriptpurpose__spending____is(__cond_14),\n                    () -> {\n                        (sp_1) -> {\n                            __helios__txoutputid____eq(__helios__scriptpurpose__spending__output_id(sp_1), targetId_1)\n                        }\n                    },\n                    () -> {\n                        (__8) -> {\n                            false\n                        }\n                    }\n                )()(__cond_14)\n            });\n            err = __helios__string____add(__helios__string____add("dgTkn ", __module__CapoDelegateHelpers__RelativeDelegateLink[]__uutName(delegateLink_1)), " not being spent as expected");\n            (maybeCheckedMintDelegateAuthority) -> {\n                delegateDidAuthorize = true;\n                __helios__bool__and(() -> {\n                    delegateDidAuthorize\n                }, () -> {\n                    maybeCheckedMintDelegateAuthority\n                })\n            }(__cond_15 = __helios__map[__helios__scriptpurpose@__helios__data]__get_safe(__helios__tx__redeemers(__helios__scriptcontext__tx))(spendsAuthorityUut);\n            __core__ifThenElse(\n                __helios__option[__helios__data]__none____is(__cond_15),\n                () -> {\n                    (__lhs_0_33) -> {\n                        __helios__error(err)\n                    }\n                },\n                () -> {\n                    (__lhs_0_28) -> {\n                        x_5 = __helios__option[__helios__data]__some__some(__lhs_0_28);\n                        activity = __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__from_data(__module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__CapoLifecycleActivities__is_valid_data_2, __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__DelegateLifecycleActivities__is_valid_data_2, __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__SpendingActivities__is_valid_data_2, __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__MintingActivities__is_valid_data_2, __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__BurningActivities__is_valid_data_2, __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__CreatingDelegatedData__is_valid_data_2, __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__UpdatingDelegatedData__is_valid_data_2, __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__DeletingDelegatedData__is_valid_data_2, __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__MultipleDelegateActivities__is_valid_data_2)(x_5);\n                        __cond_16 = activity;\n                        __core__ifThenElse(\n                            __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__DelegateLifecycleActivities____is(__cond_16),\n                            () -> {\n                                (__lhs_0_29) -> {\n                                    DLA = __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__DelegateLifecycleActivities__activity(__lhs_0_29);\n                                    __core__chooseUnit(__module__StellarHeliosHelpers__TODO("VERIFY we ---------------- don\'t need the funny redeemer-check skipping"), __core__chooseUnit(__core__ifThenElse(\n                                        __helios__bool____not(extraMintDelegateRedeemerCheck_1),\n                                        () -> {\n                                            __core__chooseUnit(__helios__print(" vvv wherever it is, probably best it uses the checkMintDgtActivity option"), __helios__error("where is extraMintDelegateRedeemerCheck=false really needed?"))\n                                        },\n                                        () -> {\n                                            () -> {\n                                                ()\n                                            }()\n                                        }\n                                    )(), __cond_17 = DLA;\n                                    __core__ifThenElse(\n                                        __module__CapoDelegateHelpers__DelegateLifecycleActivity[]__ReplacingMe____is(__cond_17),\n                                        () -> {\n                                            (__lhs_0_32) -> {\n                                                __core__chooseUnit(__helios__print("  -- ok, dgTkn spent\n"), true)\n                                            }\n                                        },\n                                        () -> {\n                                            __core__ifThenElse(\n                                                __module__CapoDelegateHelpers__DelegateLifecycleActivity[]__Retiring____is(__cond_17),\n                                                () -> {\n                                                    (__lhs_0_31) -> {\n                                                        __helios__error("DLA::Retiring can\'t mint!")\n                                                    }\n                                                },\n                                                () -> {\n                                                    (__lhs_0_30) -> {\n                                                        __helios__error("DLA::ValidatingSettings can\'t mint!")\n                                                    }\n                                                }\n                                            )()\n                                        }\n                                    )()(__cond_17)))\n                                }\n                            },\n                            () -> {\n                                (__9) -> {\n                                    checkMintDgtActivity_1(activity)\n                                }\n                            }\n                        )()(__cond_16)\n                    }\n                }\n            )()(__cond_15)))\n        }(__cond_13 = __helios__list[__helios__txinput]__find_safe(__helios__tx__inputs(__helios__scriptcontext__tx))((i_7) -> {\n            __helios__value__contains(__helios__txinput__value(i_7))(authzVal)\n        });\n        __core__ifThenElse(\n            __helios__option[__helios__txinput]__some____is(__cond_13),\n            () -> {\n                (__lhs_0_27) -> {\n                    x_4 = __helios__option[__helios__txinput]__some__some(__lhs_0_27);\n                    __helios__txinput__output_id(x_4)\n                }\n            },\n            () -> {\n                (__lhs_0_26) -> {\n                    __helios__error(__helios__string____add("   missing dgTkn ", __module__CapoDelegateHelpers__RelativeDelegateLink[]__uutName(delegateLink_1)))\n                }\n            }\n        )()(__cond_13))))\n    };\n    __helios__list[__module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]]__all = (self_112) -> {\n        (fn_20) -> {\n            __helios__common__all(self_112, (item_6) -> {\n                fn_20(__module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__from_data(__module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__CapoLifecycleActivities__is_valid_data_2, __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__DelegateLifecycleActivities__is_valid_data_2, __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__SpendingActivities__is_valid_data_2, __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__MintingActivities__is_valid_data_2, __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__BurningActivities__is_valid_data_2, __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__CreatingDelegatedData__is_valid_data_2, __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__UpdatingDelegatedData__is_valid_data_2, __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__DeletingDelegatedData__is_valid_data_2, __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__MultipleDelegateActivities__is_valid_data_2)(item_6))\n            })\n        }\n    };\n    __helios__list[__helios__data]__map[__module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]] = (self_113) -> {\n        (fn_21) -> {\n            __helios__common__map(self_113, (item_7) -> {\n                __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]____to_data(fn_21(__helios__data__from_data(item_7)))\n            }, __core__mkNilData(()))\n        }\n    };\n    __module__CapoMintHelpers__requiresMintDelegateApproval = (mph_19) -> {\n        cctx = __module__CapoHelpers__CapoCtx[]__withCharterRef(__module__CapoHelpers__mkCapoCtx(mph_19))();\n        __core__chooseUnit(__helios__print("Minter needs mintDgt + mint activity\n"), __core__chooseUnit(__module__StellarHeliosHelpers__REQT("EXPECTS the application-specific mintDelegate to explicitly check and approve the full minted value", false, ()), __core__chooseUnit(__helios__print("    -- ^ e.g. assert(tx.minted.get_policy(mph) == expectedMintedValue);\n"), __core__chooseUnit(__helios__print("    ---- (if it\'s only responsible for one minting policy)\n"), __core__chooseUnit(__module__StellarHeliosHelpers__TODO("must enforce minting invariants"), mintDgtInput = __module__CapoHelpers__CapoCtx[]__requiresMintDelegateInput(__module__CapoHelpers__CapoCtx[]__getCharterData_1, __module__CapoHelpers__CapoCtx[]__requiresDelegateInput_1)(cctx)(false, ());\n        mintDgtActivity = __module__CapoHelpers__DelegateInput[]__genericDelegateActivity_1(__module__CapoHelpers__DelegateInput[]__genericDelegateActivity_1)(mintDgtInput)();\n        __cond_18 = mintDgtActivity;\n        __core__ifThenElse(\n            __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__CapoLifecycleActivities____is(__cond_18),\n            () -> {\n                (__lhs_0_54) -> {\n                    CLA = __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__CapoLifecycleActivities__activity(__lhs_0_54);\n                    __cond_21 = CLA;\n                    __core__ifThenElse(\n                        __module__CapoDelegateHelpers__CapoLifecycleActivity[]__CreatingDelegate____is(__cond_21),\n                        () -> {\n                            (__lhs_0_58) -> {\n                                __core__chooseUnit(__module__StellarHeliosHelpers__TODO("make this obsolete: generic creatingDelegate (use queuePendingDgtChange and committingPendingDgtChanges in sequence)"), __helios__bool__and(() -> {\n                                    __module__CapoHelpers__DelegateInput[]__requiresValidOutput(mintDgtInput)(false, ())\n                                }, () -> {\n                                    true\n                                }))\n                            }\n                        },\n                        () -> {\n                            __core__ifThenElse(\n                                __module__CapoDelegateHelpers__CapoLifecycleActivity[]__queuePendingDgtChange____is(__cond_21),\n                                () -> {\n                                    (__lhs_0_57) -> {\n                                        __core__chooseUnit(__helios__print("  -- ok: mintDgt using CapoLifecycle.queuePendingDgtChange)\n"), __helios__bool__and(() -> {\n                                            __module__CapoHelpers__DelegateInput[]__requiresValidOutput(mintDgtInput)(false, ())\n                                        }, () -> {\n                                            true\n                                        }))\n                                    }\n                                },\n                                () -> {\n                                    __core__ifThenElse(\n                                        __module__CapoDelegateHelpers__CapoLifecycleActivity[]__forcingNewSpendDelegate____is(__cond_21),\n                                        () -> {\n                                            (__lhs_0_56) -> {\n                                                __helios__error("invalid forcingNewSpendDelegate activity on mintDgt (escape-hatch reserved for Minter/Capo pair)")\n                                            }\n                                        },\n                                        () -> {\n                                            __core__ifThenElse(\n                                                __module__CapoDelegateHelpers__CapoLifecycleActivity[]__forcingNewMintDelegate____is(__cond_21),\n                                                () -> {\n                                                    (__lhs_0_55) -> {\n                                                        __helios__error("invalid forcingNewMintDelegate activity on mintDgt (escape-hatch reserved for Minter/Capo pair)")\n                                                    }\n                                                },\n                                                () -> {\n                                                    (__10) -> {\n                                                        __helios__error("mint dgt can only approve CapoLifecycleActivities.queuePendingDgtChange or non-CLA activities")\n                                                    }\n                                                }\n                                            )()\n                                        }\n                                    )()\n                                }\n                            )()\n                        }\n                    )()(__cond_21)\n                }\n            },\n            () -> {\n                __core__ifThenElse(\n                    __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__SpendingActivities____is(__cond_18),\n                    () -> {\n                        (__lhs_0_53) -> {\n                            __helios__error("DelegateInput::SpendingActivity can\'t mint!")\n                        }\n                    },\n                    () -> {\n                        __core__ifThenElse(\n                            __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__DelegateLifecycleActivities____is(__cond_18),\n                            () -> {\n                                (__lhs_0_49) -> {\n                                    DLA_1 = __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__DelegateLifecycleActivities__activity(__lhs_0_49);\n                                    __cond_20 = DLA_1;\n                                    __core__ifThenElse(\n                                        __module__CapoDelegateHelpers__DelegateLifecycleActivity[]__ReplacingMe____is(__cond_20),\n                                        () -> {\n                                            (__lhs_0_52) -> {\n                                                __core__chooseUnit(__module__StellarHeliosHelpers__TODO("relay delegate installation sequence"), __core__chooseUnit(__helios__print("  -- TEMPORARY: the mint delegate is being replaced\n"), true))\n                                            }\n                                        },\n                                        () -> {\n                                            __core__ifThenElse(\n                                                __module__CapoDelegateHelpers__DelegateLifecycleActivity[]__Retiring____is(__cond_20),\n                                                () -> {\n                                                    (__lhs_0_51) -> {\n                                                        __helios__error("DLA::Retiring can\'t mint!")\n                                                    }\n                                                },\n                                                () -> {\n                                                    (__lhs_0_50) -> {\n                                                        __helios__error("DLA::ValidatingSettings can\'t mint!")\n                                                    }\n                                                }\n                                            )()\n                                        }\n                                    )()(__cond_20)\n                                }\n                            },\n                            () -> {\n                                __core__ifThenElse(\n                                    __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__MintingActivities____is(__cond_18),\n                                    () -> {\n                                        (__lhs_0_48) -> {\n                                            __core__chooseUnit(__helios__print("  -- app-specific minting; trust mintDgt\n"), __helios__bool__and(() -> {\n                                                __module__CapoHelpers__DelegateInput[]__requiresValidOutput(mintDgtInput)(false, ())\n                                            }, () -> {\n                                                true\n                                            }))\n                                        }\n                                    },\n                                    () -> {\n                                        __core__ifThenElse(\n                                            __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__BurningActivities____is(__cond_18),\n                                            () -> {\n                                                (__lhs_0_47) -> {\n                                                    __core__chooseUnit(__helios__print("  -- app-specific burning; trust mintDgt"), __helios__bool__and(() -> {\n                                                        __module__CapoHelpers__DelegateInput[]__requiresValidOutput(mintDgtInput)(false, ())\n                                                    }, () -> {\n                                                        true\n                                                    }))\n                                                }\n                                            },\n                                            () -> {\n                                                __core__ifThenElse(\n                                                    __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__CreatingDelegatedData____is(__cond_18),\n                                                    () -> {\n                                                        (__lhs_0_46) -> {\n                                                            __core__chooseUnit(__helios__print("  -- mint for dgData; trust mintDgt"), __helios__bool__and(() -> {\n                                                                __module__CapoHelpers__DelegateInput[]__requiresValidOutput(mintDgtInput)(false, ())\n                                                            }, () -> {\n                                                                true\n                                                            }))\n                                                        }\n                                                    },\n                                                    () -> {\n                                                        __core__ifThenElse(\n                                                            __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__DeletingDelegatedData____is(__cond_18),\n                                                            () -> {\n                                                                (__lhs_0_45) -> {\n                                                                    __core__chooseUnit(__helios__print("  -- burn for dgData; trust mintDgt"), __helios__bool__and(() -> {\n                                                                        __module__CapoHelpers__DelegateInput[]__requiresValidOutput(mintDgtInput)(false, ())\n                                                                    }, () -> {\n                                                                        true\n                                                                    }))\n                                                                }\n                                                            },\n                                                            () -> {\n                                                                __core__ifThenElse(\n                                                                    __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__UpdatingDelegatedData____is(__cond_18),\n                                                                    () -> {\n                                                                        (__lhs_0_44) -> {\n                                                                            __helios__error("invalid mint-delegate activity for minting; UpdatingDelegatedDatum can\'t mint")\n                                                                        }\n                                                                    },\n                                                                    () -> {\n                                                                        (__lhs_0_34) -> {\n                                                                            ma = __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__MultipleDelegateActivities__activities(__lhs_0_34);\n                                                                            __helios__bool__and(() -> {\n                                                                                __module__CapoHelpers__DelegateInput[]__requiresValidOutput(mintDgtInput)(false, ())\n                                                                            }, () -> {\n                                                                                __helios__list[__module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]]__all(__helios__list[__helios__data]__map[__module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]](ma)(__module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__from_data(__module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__CapoLifecycleActivities__is_valid_data_2, __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__DelegateLifecycleActivities__is_valid_data_2, __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__SpendingActivities__is_valid_data_2, __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__MintingActivities__is_valid_data_2, __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__BurningActivities__is_valid_data_2, __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__CreatingDelegatedData__is_valid_data_2, __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__UpdatingDelegatedData__is_valid_data_2, __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__DeletingDelegatedData__is_valid_data_2, __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__MultipleDelegateActivities__is_valid_data_2)))((mintDgtActivity_1) -> {\n                                                                                    __cond_19 = mintDgtActivity_1;\n                                                                                    __core__ifThenElse(\n                                                                                        __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__CreatingDelegatedData____is(__cond_19),\n                                                                                        () -> {\n                                                                                            (__lhs_0_43) -> {\n                                                                                                true\n                                                                                            }\n                                                                                        },\n                                                                                        () -> {\n                                                                                            __core__ifThenElse(\n                                                                                                __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__DeletingDelegatedData____is(__cond_19),\n                                                                                                () -> {\n                                                                                                    (__lhs_0_42) -> {\n                                                                                                        true\n                                                                                                    }\n                                                                                                },\n                                                                                                () -> {\n                                                                                                    __core__ifThenElse(\n                                                                                                        __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__MintingActivities____is(__cond_19),\n                                                                                                        () -> {\n                                                                                                            (__lhs_0_41) -> {\n                                                                                                                __helios__error("mintDgt: MultipleDelegateActivities: nested MintingActivities invalid")\n                                                                                                            }\n                                                                                                        },\n                                                                                                        () -> {\n                                                                                                            __core__ifThenElse(\n                                                                                                                __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__BurningActivities____is(__cond_19),\n                                                                                                                () -> {\n                                                                                                                    (__lhs_0_40) -> {\n                                                                                                                        __helios__error("mintDgt: MultipleDelegateActivities: nested BurningActivities invalid")\n                                                                                                                    }\n                                                                                                                },\n                                                                                                                () -> {\n                                                                                                                    __core__ifThenElse(\n                                                                                                                        __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__MultipleDelegateActivities____is(__cond_19),\n                                                                                                                        () -> {\n                                                                                                                            (__lhs_0_39) -> {\n                                                                                                                                __helios__error("mintDgt: MultipleDelegateActivities: nested MultipleDelegateActivities invalid")\n                                                                                                                            }\n                                                                                                                        },\n                                                                                                                        () -> {\n                                                                                                                            __core__ifThenElse(\n                                                                                                                                __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__UpdatingDelegatedData____is(__cond_19),\n                                                                                                                                () -> {\n                                                                                                                                    (__lhs_0_38) -> {\n                                                                                                                                        __helios__error("mintDgt: MultipleDelegateActivities: nested UpdatingDelegatedData invalid")\n                                                                                                                                    }\n                                                                                                                                },\n                                                                                                                                () -> {\n                                                                                                                                    __core__ifThenElse(\n                                                                                                                                        __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__SpendingActivities____is(__cond_19),\n                                                                                                                                        () -> {\n                                                                                                                                            (__lhs_0_37) -> {\n                                                                                                                                                __helios__error("mintDgt: MultipleDelegateActivities: nested SpendingActivities invalid")\n                                                                                                                                            }\n                                                                                                                                        },\n                                                                                                                                        () -> {\n                                                                                                                                            __core__ifThenElse(\n                                                                                                                                                __module__CapoDelegateHelpers__AbstractDelegateActivitiesEnum[]__CapoLifecycleActivities____is(__cond_19),\n                                                                                                                                                () -> {\n                                                                                                                                                    (__lhs_0_36) -> {\n                                                                                                                                                        __helios__error("mintDgt: MultipleDelegateActivities: nested CapoLifecycleActivities invalid")\n                                                                                                                                                    }\n                                                                                                                                                },\n                                                                                                                                                () -> {\n                                                                                                                                                    (__lhs_0_35) -> {\n                                                                                                                                                        __helios__error("mintDgt: MultipleDelegateActivities: nested DelegateLifecycleActivities invalid")\n                                                                                                                                                    }\n                                                                                                                                                }\n                                                                                                                                            )()\n                                                                                                                                        }\n                                                                                                                                    )()\n                                                                                                                                }\n                                                                                                                            )()\n                                                                                                                        }\n                                                                                                                    )()\n                                                                                                                }\n                                                                                                            )()\n                                                                                                        }\n                                                                                                    )()\n                                                                                                }\n                                                                                            )()\n                                                                                        }\n                                                                                    )()(__cond_19)\n                                                                                })\n                                                                            })\n                                                                        }\n                                                                    }\n                                                                )()\n                                                            }\n                                                        )()\n                                                    }\n                                                )()\n                                            }\n                                        )()\n                                    }\n                                )()\n                            }\n                        )()\n                    }\n                )()\n            }\n        )()(__cond_18))))))\n    };\n    __module__CapoMintHelpers__mkUutTnFactory = (seed) -> {\n        seedTxId = __helios__txoutputid__tx_id(seed);\n        seedIdx = __helios__txoutputid__index(seed);\n        idxBytes = __helios__int__serialize(seedIdx)();\n        rawTxId = __helios__bytearray__slice(__helios__txid__serialize(seedTxId)())(5, 37);\n        txoInfo = __core__ifThenElse(\n            __helios__int____gt(__helios__bytearray__length(idxBytes), 9),\n            () -> {\n                __core__chooseUnit(__helios__assert(false, "cbor(txoId) len > 9 !!"), idxBytes)\n            },\n            () -> {\n                () -> {\n                    __helios__bytearray____add(__helios__bytearray____add(rawTxId, __helios__string__encode_utf8("@")()), idxBytes)\n                }()\n            }\n        )();\n        miniHash = __helios__bytearray__slice(__helios__bytearray__blake2b(txoInfo)())(0, 6);\n        mhs = __helios__bytearray__show(miniHash)();\n        (p) -> {\n            __helios__string____add(__helios__string____add(p, "-"), mhs)\n        }\n    };\n    __helios__map[__helios__bytearray@__helios__int]__for_each = (self_114) -> {\n        (fn_22) -> {\n            recurse_71 = (recurse_70, map_20) -> {\n                __core__chooseList(map_20, () -> {\n                    ()\n                }, () -> {\n                    head_72 = __core__headList__safe(map_20);\n                    __core__chooseUnit(fn_22(__helios__bytearray__from_data(__core__fstPair(head_72)), __helios__int__from_data(__core__sndPair(head_72))), recurse_70(recurse_70, __core__tailList__safe(map_20)))\n                })()\n            };\n            recurse_71(recurse_71, self_114)\n        }\n    };\n    __helios__list[__helios__bytearray]____to_data = __core__listData;\n    __helios__list[__helios__bytearray]____eq = (self_115, other_2) -> {\n        __core__equalsData(__helios__list[__helios__bytearray]____to_data(self_115), __helios__list[__helios__bytearray]____to_data(other_2))\n    };\n    __helios__map[__helios__bytearray@__helios__int]__fold[__helios__list[__helios__bytearray]] = (self_116) -> {\n        (fn_23, z_2) -> {\n            __helios__common__fold(self_116, (z_3, pair_58) -> {\n                fn_23(z_3, __helios__bytearray__from_data(__core__fstPair(pair_58)), __helios__int__from_data(__core__sndPair(pair_58)))\n            }, z_2)\n        }\n    };\n    __helios__option[__helios__bytearray]__none____is = (data_167) -> {\n        __helios__common__enum_tag_equals(data_167, 1)\n    };\n    __helios__list[__helios__bytearray]__prepend = (self_117) -> {\n        (item_8) -> {\n            __core__mkCons(__helios__bytearray____to_data(item_8), self_117)\n        }\n    };\n    __helios__list[__helios__bytearray]__find_safe = (self_118) -> {\n        (fn_24) -> {\n            __helios__common__find_safe(self_118, (item_9) -> {\n                fn_24(__helios__bytearray__from_data(item_9))\n            }, __helios__common__identity)\n        }\n    };\n    __helios__value__sum[__helios__value] = (self_119) -> {\n        recurse_73 = (recurse_72, lst_16) -> {\n            __core__chooseList(lst_16, () -> {\n                __helios__value__ZERO\n            }, () -> {\n                __helios__value____add(__helios__value__value(__helios__value__from_data(__core__headList__safe(lst_16))), recurse_72(recurse_72, __core__tailList__safe(lst_16)))\n            })()\n        };\n        recurse_73(recurse_73, self_119)\n    };\n    __helios__list[__helios__string]__map[__helios__value] = (self_120) -> {\n        (fn_25) -> {\n            __helios__common__map(self_120, (item_10) -> {\n                __helios__value____to_data(fn_25(__helios__string__from_data(item_10)))\n            }, __core__mkNilData(()))\n        }\n    };\n    __helios__list[__helios__string]__sort = (self_121) -> {\n        (comp_4) -> {\n            __helios__common__sort(self_121, (a_14, b_14) -> {\n                comp_4(__helios__string__from_data(a_14), __helios__string__from_data(b_14))\n            })\n        }\n    };\n    __module__CapoMintHelpers__validateUutMinting = (mph_20, seed_1, purposes, __useopt__mkTokenName, mkTokenName, __useopt__bootstrapCharter, bootstrapCharter, __useopt__otherMintedValue, otherMintedValue, __useopt__needsMintDelegateApproval, needsMintDelegateApproval, __useopt__extraMintDelegateRedeemerCheck_1, extraMintDelegateRedeemerCheck_2, __useopt__checkMintDgtActivity_1, checkMintDgtActivity_2) -> {\n        mkTokenName_1 = __core__ifThenElse(\n            __useopt__mkTokenName,\n            () -> {\n                mkTokenName\n            },\n            () -> {\n                __module__CapoMintHelpers__mkUutTnFactory(seed_1)\n            }\n        )();\n        bootstrapCharter_1 = __core__ifThenElse(\n            __useopt__bootstrapCharter,\n            () -> {\n                bootstrapCharter\n            },\n            () -> {\n                __helios__value__ZERO\n            }\n        )();\n        otherMintedValue_1 = __core__ifThenElse(\n            __useopt__otherMintedValue,\n            () -> {\n                otherMintedValue\n            },\n            () -> {\n                __helios__value__ZERO\n            }\n        )();\n        needsMintDelegateApproval_1 = __core__ifThenElse(\n            __useopt__needsMintDelegateApproval,\n            () -> {\n                needsMintDelegateApproval\n            },\n            () -> {\n                true\n            }\n        )();\n        extraMintDelegateRedeemerCheck_3 = __core__ifThenElse(\n            __useopt__extraMintDelegateRedeemerCheck_1,\n            () -> {\n                extraMintDelegateRedeemerCheck_2\n            },\n            () -> {\n                true\n            }\n        )();\n        checkMintDgtActivity_3 = __core__ifThenElse(\n            __useopt__checkMintDgtActivity_1,\n            () -> {\n                checkMintDgtActivity_2\n            },\n            () -> {\n                __module__CapoMintHelpers__noOtherActivitiesSupported\n            }\n        )();\n        isBootstrapping = __helios__bool____not(__helios__value__is_zero(bootstrapCharter_1)());\n        delegateApproval = __core__ifThenElse(\n            isBootstrapping,\n            () -> {\n                true\n            },\n            () -> {\n                () -> {\n                    __lhs_0_59 = __helios__common__assert_constr_index(__module__CapoHelpers__getTxCharterData(mph_20, false, ()), 0);\n                    mintDgt = __module__CapoHelpers__CapoDatum[]__CharterData__mintDelegateLink(__lhs_0_59);\n                    __core__ifThenElse(\n                        needsMintDelegateApproval_1,\n                        () -> {\n                            __module__CapoMintHelpers__requiresDelegateAuthorizingMint(mintDgt, mph_20, true, extraMintDelegateRedeemerCheck_3, true, checkMintDgtActivity_3)\n                        },\n                        () -> {\n                            () -> {\n                                true\n                            }()\n                        }\n                    )()\n                }()\n            }\n        )();\n        valueMinted = __helios__tx__minted(__helios__scriptcontext__tx);\n        expectedValue = __helios__value____add(__helios__value____add(bootstrapCharter_1, otherMintedValue_1), __helios__value__sum[__helios__value](__helios__list[__helios__string]__map[__helios__value](__helios__list[__helios__string]__sort(purposes)((a_15, b_15) -> {\n            __helios__string____neq(a_15, b_15)\n        }))((purpose_2) -> {\n            __module__StellarHeliosHelpers__mkTv(mph_20, true, mkTokenName_1(purpose_2), false, (), false, ())\n        })));\n        __core__chooseUnit(__core__ifThenElse(\n            __helios__bool____not(__helios__value__contains_policy(valueMinted)(mph_20)),\n            () -> {\n                __core__chooseUnit(__helios__print("  -- no mint from our policy at (mph, valueMinted): ( "), __core__chooseUnit(__helios__print(__helios__mintingpolicyhash__show(mph_20)()), __core__chooseUnit(__helios__print(__helios__value__show(valueMinted)()), __core__chooseUnit(__helios__print(")\n"), __helios__error("validateUutMinting(): no mint")))))\n            },\n            () -> {\n                () -> {\n                    __helios__assert(true, "no")\n                }()\n            }\n        )(), __core__chooseUnit(__helios__print(__helios__string____add(__helios__string____add(__helios__string____add(__helios__string____add("\n  -- uut-minting seed: ", __helios__txid__show(__helios__txoutputid__tx_id(seed_1))()), "#"), __helios__int__show(__helios__txoutputid__index(seed_1))()), "\n")), __core__chooseUnit(__helios__map[__helios__bytearray@__helios__int]__for_each(__helios__value__get_policy(expectedValue)(mph_20))((b_19, i_10) -> {\n            __helios__print(__helios__string____add(__helios__string____add(__helios__string____add(__helios__string____add("      expected: ", __helios__int__show(i_10)()), "x "), __helios__bytearray__decode_utf8(b_19)()), "\n"))\n        }), actualMint = __helios__value__get_policy(valueMinted)(mph_20);\n        __core__chooseUnit(__core__ifThenElse(\n            true,\n            () -> {\n                __core__chooseUnit(__helios__map[__helios__bytearray@__helios__int]__for_each(actualMint)((b_18, i_9) -> {\n                    __helios__print(__helios__string____add(__helios__string____add(__helios__string____add(__helios__string____add("        actual: ", __helios__int__show(i_9)()), "x "), __helios__bytearray__decode_utf8(b_18)()), "\n"))\n                }), __core__chooseUnit(__helios__print(__helios__value__show(__helios__value__from_map(__helios__map[__helios__mintingpolicyhash@__helios__map[__helios__bytearray@__helios__int]]__filter(__helios__value__to_map(valueMinted)())((b_17, __11) -> {\n                    __helios__mintingpolicyhash____neq(b_17, mph_20)\n                })))()), __helios__print("^ other policy values minted \n")))\n            },\n            () -> {\n                () -> {\n                    __helios__assert(true, "never")\n                }()\n            }\n        )(), temp = __helios__map[__helios__bytearray@__helios__int]__fold[__helios__list[__helios__bytearray]](actualMint)((l, b_16, i_8) -> {\n            __cond_22 = __helios__list[__helios__bytearray]__find_safe(l)((x_6) -> {\n                __helios__bytearray____eq(x_6, b_16)\n            });\n            __core__ifThenElse(\n                __helios__option[__helios__bytearray]__none____is(__cond_22),\n                () -> {\n                    (__lhs_0_61) -> {\n                        __helios__list[__helios__bytearray]__prepend(l)(b_16)\n                    }\n                },\n                () -> {\n                    (__lhs_0_60) -> {\n                        __helios__error("UUT duplicate purpose ")\n                    }\n                }\n            )()(__cond_22)\n        }, __core__mkNilData(()));\n        __core__chooseUnit(__helios__assert(__helios__bool__or(() -> {\n            true\n        }, () -> {\n            __helios__list[__helios__bytearray]____eq(temp, temp)\n        }), "prevent unused var"), expectationsMet = __helios__value____eq(valueMinted, expectedValue);\n        __core__chooseUnit(__helios__assert(expectationsMet, "mismatch in UUT mint"), __core__chooseUnit(__helios__assert(__module__CapoMintHelpers__hasSeedUtxo(__helios__scriptcontext__tx, seed_1), "no seed"), __core__chooseUnit(__helios__print("  validateUutMinting:  ok!\n"), __helios__bool__and(() -> {\n            delegateApproval\n        }, () -> {\n            expectationsMet\n        })))))))))\n    };\n    __module__CapoMintHelpers__MinterActivity[]__is_valid_data = (__module__CapoMintHelpers__MinterActivity[]__mintingCharter__is_valid_data, __module__CapoMintHelpers__MinterActivity[]__mintWithDelegateAuthorizing__is_valid_data, __module__CapoMintHelpers__MinterActivity[]__addingMintInvariant__is_valid_data, __module__CapoMintHelpers__MinterActivity[]__addingSpendInvariant__is_valid_data, __module__CapoMintHelpers__MinterActivity[]__forcingNewMintDelegate__is_valid_data, __module__CapoMintHelpers__MinterActivity[]__CreatingNewSpendDelegate__is_valid_data) -> {\n        (data_168) -> {\n            __core__ifThenElse(\n                __module__CapoMintHelpers__MinterActivity[]__CreatingNewSpendDelegate__is_valid_data(data_168),\n                () -> {\n                    true\n                },\n                () -> {\n                    __core__ifThenElse(\n                        __module__CapoMintHelpers__MinterActivity[]__forcingNewMintDelegate__is_valid_data(data_168),\n                        () -> {\n                            true\n                        },\n                        () -> {\n                            __core__ifThenElse(\n                                __module__CapoMintHelpers__MinterActivity[]__addingSpendInvariant__is_valid_data(data_168),\n                                () -> {\n                                    true\n                                },\n                                () -> {\n                                    __core__ifThenElse(\n                                        __module__CapoMintHelpers__MinterActivity[]__addingMintInvariant__is_valid_data(data_168),\n                                        () -> {\n                                            true\n                                        },\n                                        () -> {\n                                            __core__ifThenElse(\n                                                __module__CapoMintHelpers__MinterActivity[]__mintWithDelegateAuthorizing__is_valid_data(data_168),\n                                                () -> {\n                                                    true\n                                                },\n                                                () -> {\n                                                    __core__ifThenElse(\n                                                        __module__CapoMintHelpers__MinterActivity[]__mintingCharter__is_valid_data(data_168),\n                                                        () -> {\n                                                            true\n                                                        },\n                                                        () -> {\n                                                            false\n                                                        }\n                                                    )()\n                                                }\n                                            )()\n                                        }\n                                    )()\n                                }\n                            )()\n                        }\n                    )()\n                }\n            )()\n        }\n    };\n    __module__CapoMintHelpers__MinterActivity[]__from_data = (__module__CapoMintHelpers__MinterActivity[]__mintingCharter__is_valid_data_1, __module__CapoMintHelpers__MinterActivity[]__mintWithDelegateAuthorizing__is_valid_data_1, __module__CapoMintHelpers__MinterActivity[]__addingMintInvariant__is_valid_data_1, __module__CapoMintHelpers__MinterActivity[]__addingSpendInvariant__is_valid_data_1, __module__CapoMintHelpers__MinterActivity[]__forcingNewMintDelegate__is_valid_data_1, __module__CapoMintHelpers__MinterActivity[]__CreatingNewSpendDelegate__is_valid_data_1) -> {\n        (data_169) -> {\n            ignore_6 = __core__ifThenElse(\n                __module__CapoMintHelpers__MinterActivity[]__is_valid_data(__module__CapoMintHelpers__MinterActivity[]__mintingCharter__is_valid_data_1, __module__CapoMintHelpers__MinterActivity[]__mintWithDelegateAuthorizing__is_valid_data_1, __module__CapoMintHelpers__MinterActivity[]__addingMintInvariant__is_valid_data_1, __module__CapoMintHelpers__MinterActivity[]__addingSpendInvariant__is_valid_data_1, __module__CapoMintHelpers__MinterActivity[]__forcingNewMintDelegate__is_valid_data_1, __module__CapoMintHelpers__MinterActivity[]__CreatingNewSpendDelegate__is_valid_data_1)(data_169),\n                () -> {\n                    ()\n                },\n                () -> {\n                    __core__trace("Warning: invalid MinterActivity data", ())\n                }\n            )();\n            data_169\n        }\n    };\n    __module__CapoMintHelpers__MinterActivity[]__mintingCharter____is = (data_170) -> {\n        __helios__common__enum_tag_equals(data_170, 0)\n    };\n    __module__CapoMintHelpers__MinterActivity[]__mintingCharter__is_valid_data_2 = (data_171) -> {\n        __core__chooseData(data_171, () -> {\n            pair_59 = __core__unConstrData__safe(data_171);\n            __core__ifThenElse(\n                __core__equalsInteger(__core__fstPair(pair_59), 0),\n                () -> {\n                    data_172 = __core__listData(__core__sndPair(pair_59));\n                    __core__chooseData(data_172, () -> {\n                        false\n                    }, () -> {\n                        false\n                    }, () -> {\n                        fields_121 = __core__unListData__safe(data_172);\n                        __core__chooseList(fields_121, () -> {\n                            false\n                        }, () -> {\n                            head_73 = __core__headList__safe(fields_121);\n                            __core__ifThenElse(\n                                __helios__address__is_valid_data(head_73),\n                                () -> {\n                                    fields_122 = __core__tailList__safe(fields_121);\n                                    __core__chooseList(fields_122, true, false)\n                                },\n                                () -> {\n                                    false\n                                }\n                            )()\n                        })()\n                    }, () -> {\n                        false\n                    }, () -> {\n                        false\n                    })()\n                },\n                () -> {\n                    false\n                }\n            )()\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        })()\n    };\n    __module__CapoMintHelpers__MinterActivity[]__mintWithDelegateAuthorizing____is = (data_173) -> {\n        __helios__common__enum_tag_equals(data_173, 1)\n    };\n    __module__CapoMintHelpers__MinterActivity[]__mintWithDelegateAuthorizing__is_valid_data_2 = (data_174) -> {\n        __core__chooseData(data_174, () -> {\n            pair_60 = __core__unConstrData__safe(data_174);\n            __core__ifThenElse(\n                __core__equalsInteger(__core__fstPair(pair_60), 1),\n                () -> {\n                    data_175 = __core__listData(__core__sndPair(pair_60));\n                    __core__chooseData(data_175, () -> {\n                        false\n                    }, () -> {\n                        false\n                    }, () -> {\n                        fields_123 = __core__unListData__safe(data_175);\n                        __core__chooseList(fields_123, true, false)\n                    }, () -> {\n                        false\n                    }, () -> {\n                        false\n                    })()\n                },\n                () -> {\n                    false\n                }\n            )()\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        })()\n    };\n    __module__CapoMintHelpers__MinterActivity[]__addingMintInvariant__is_valid_data_2 = (data_176) -> {\n        __core__chooseData(data_176, () -> {\n            pair_61 = __core__unConstrData__safe(data_176);\n            __core__ifThenElse(\n                __core__equalsInteger(__core__fstPair(pair_61), 2),\n                () -> {\n                    data_177 = __core__listData(__core__sndPair(pair_61));\n                    __core__chooseData(data_177, () -> {\n                        false\n                    }, () -> {\n                        false\n                    }, () -> {\n                        fields_124 = __core__unListData__safe(data_177);\n                        __core__chooseList(fields_124, () -> {\n                            false\n                        }, () -> {\n                            head_74 = __core__headList__safe(fields_124);\n                            __core__ifThenElse(\n                                __helios__txoutputid__is_valid_data(head_74),\n                                () -> {\n                                    fields_125 = __core__tailList__safe(fields_124);\n                                    __core__chooseList(fields_125, true, false)\n                                },\n                                () -> {\n                                    false\n                                }\n                            )()\n                        })()\n                    }, () -> {\n                        false\n                    }, () -> {\n                        false\n                    })()\n                },\n                () -> {\n                    false\n                }\n            )()\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        })()\n    };\n    __module__CapoMintHelpers__MinterActivity[]__addingSpendInvariant__is_valid_data_2 = (data_178) -> {\n        __core__chooseData(data_178, () -> {\n            pair_62 = __core__unConstrData__safe(data_178);\n            __core__ifThenElse(\n                __core__equalsInteger(__core__fstPair(pair_62), 3),\n                () -> {\n                    data_179 = __core__listData(__core__sndPair(pair_62));\n                    __core__chooseData(data_179, () -> {\n                        false\n                    }, () -> {\n                        false\n                    }, () -> {\n                        fields_126 = __core__unListData__safe(data_179);\n                        __core__chooseList(fields_126, () -> {\n                            false\n                        }, () -> {\n                            head_75 = __core__headList__safe(fields_126);\n                            __core__ifThenElse(\n                                __helios__txoutputid__is_valid_data(head_75),\n                                () -> {\n                                    fields_127 = __core__tailList__safe(fields_126);\n                                    __core__chooseList(fields_127, true, false)\n                                },\n                                () -> {\n                                    false\n                                }\n                            )()\n                        })()\n                    }, () -> {\n                        false\n                    }, () -> {\n                        false\n                    })()\n                },\n                () -> {\n                    false\n                }\n            )()\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        })()\n    };\n    __module__CapoMintHelpers__MinterActivity[]__forcingNewMintDelegate__is_valid_data_2 = (data_180) -> {\n        __core__chooseData(data_180, () -> {\n            pair_63 = __core__unConstrData__safe(data_180);\n            __core__ifThenElse(\n                __core__equalsInteger(__core__fstPair(pair_63), 4),\n                () -> {\n                    data_181 = __core__listData(__core__sndPair(pair_63));\n                    __core__chooseData(data_181, () -> {\n                        false\n                    }, () -> {\n                        false\n                    }, () -> {\n                        fields_128 = __core__unListData__safe(data_181);\n                        __core__chooseList(fields_128, () -> {\n                            false\n                        }, () -> {\n                            head_76 = __core__headList__safe(fields_128);\n                            __core__ifThenElse(\n                                __helios__txoutputid__is_valid_data(head_76),\n                                () -> {\n                                    fields_129 = __core__tailList__safe(fields_128);\n                                    __core__chooseList(fields_129, true, false)\n                                },\n                                () -> {\n                                    false\n                                }\n                            )()\n                        })()\n                    }, () -> {\n                        false\n                    }, () -> {\n                        false\n                    })()\n                },\n                () -> {\n                    false\n                }\n            )()\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        })()\n    };\n    __helios__option[__helios__bytearray]__is_valid_data = (data_182) -> {\n        __core__chooseData(data_182, () -> {\n            pair_64 = __core__unConstrData__safe(data_182);\n            index_11 = __core__fstPair(pair_64);\n            fields_130 = __core__sndPair(pair_64);\n            __core__ifThenElse(\n                __core__equalsInteger(index_11, 0),\n                () -> {\n                    __core__chooseList(fields_130, () -> {\n                        false\n                    }, () -> {\n                        __core__chooseList(__core__tailList__safe(fields_130), () -> {\n                            __helios__bytearray__is_valid_data(__core__headList__safe(fields_130))\n                        }, () -> {\n                            false\n                        })()\n                    })()\n                },\n                () -> {\n                    __core__ifThenElse(\n                        __core__equalsInteger(index_11, 1),\n                        () -> {\n                            __core__chooseList(fields_130, true, false)\n                        },\n                        () -> {\n                            false\n                        }\n                    )()\n                }\n            )()\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        })()\n    };\n    __module__CapoMintHelpers__MinterActivity[]__CreatingNewSpendDelegate__is_valid_data_2 = (data_183) -> {\n        __core__chooseData(data_183, () -> {\n            pair_65 = __core__unConstrData__safe(data_183);\n            __core__ifThenElse(\n                __core__equalsInteger(__core__fstPair(pair_65), 5),\n                () -> {\n                    data_184 = __core__listData(__core__sndPair(pair_65));\n                    __core__chooseData(data_184, () -> {\n                        false\n                    }, () -> {\n                        false\n                    }, () -> {\n                        fields_131 = __core__unListData__safe(data_184);\n                        __core__chooseList(fields_131, () -> {\n                            false\n                        }, () -> {\n                            head_77 = __core__headList__safe(fields_131);\n                            __core__ifThenElse(\n                                __helios__txoutputid__is_valid_data(head_77),\n                                () -> {\n                                    fields_132 = __core__tailList__safe(fields_131);\n                                    __core__chooseList(fields_132, () -> {\n                                        false\n                                    }, () -> {\n                                        head_78 = __core__headList__safe(fields_132);\n                                        __core__ifThenElse(\n                                            __helios__option[__helios__bytearray]__is_valid_data(head_78),\n                                            () -> {\n                                                fields_133 = __core__tailList__safe(fields_132);\n                                                __core__chooseList(fields_133, true, false)\n                                            },\n                                            () -> {\n                                                false\n                                            }\n                                        )()\n                                    })()\n                                },\n                                () -> {\n                                    false\n                                }\n                            )()\n                        })()\n                    }, () -> {\n                        false\n                    }, () -> {\n                        false\n                    })()\n                },\n                () -> {\n                    false\n                }\n            )()\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        }, () -> {\n            false\n        })()\n    };\n    __module__CapoMinter__seedTxn = __helios__txid__from_data(__core__constrData(0, __core__mkCons(__core__bData(#0000000000000000000000000000000000000000000000000000000000000000), __core__mkNilData(()))));\n    __module__CapoMinter__seedIndex = __helios__int__from_data(__core__iData(0));\n    __module__CapoMinter__rev = __helios__int__from_data(__core__iData(1));\n    __module__CapoMinter__main = (r) -> {\n        mph_21 = __helios__scriptcontext__get_current_minting_policy_hash();\n        value_minted = __helios__tx__minted(__helios__scriptcontext__tx);\n        __core__chooseUnit(__helios__assert(__helios__bool__or(() -> {\n            true\n        }, () -> {\n            __helios__bytearray____eq(__helios__int__serialize(__module__CapoMinter__rev)(), __helios__int__serialize(__module__CapoMinter__rev)())\n        }), "no"), __core__chooseUnit(__helios__assert(__helios__bool__or(() -> {\n            true\n        }, () -> {\n            __helios__bytearray____eq(__helios__txid__serialize(__module__CapoMinter__seedTxn)(), __helios__txid__serialize(__module__CapoMinter__seedTxn)())\n        }), "no"), __core__chooseUnit(__helios__print(__helios__string____add("  Capo minter: policy id: ", __helios__mintingpolicyhash__show(__helios__scriptcontext__get_current_minting_policy_hash())())), (ok) -> {\n            __core__chooseUnit(__helios__print("\n\n Capo minter: ok!\n"), ok)\n        }(__cond_23 = r;\n        __core__ifThenElse(\n            __module__CapoMintHelpers__MinterActivity[]__mintingCharter____is(__cond_23),\n            () -> {\n                (__lhs_0_63) -> {\n                    charterVal = __module__StellarHeliosHelpers__mkTv(mph_21, true, "charter", false, (), false, ());\n                    authTnBase = "capoGov";\n                    mintDgtTnBase = "mintDgt";\n                    spendDgtTnBase = "spendDgt";\n                    purposes_1 = __core__mkCons(__helios__string____to_data(authTnBase), __core__mkCons(__helios__string____to_data(mintDgtTnBase), __core__mkCons(__helios__string____to_data(spendDgtTnBase), __core__mkNilData(()))));\n                    __core__chooseUnit(__helios__print("  -- creating Capo charter"), __core__chooseUnit(__module__StellarHeliosHelpers__REQT("must mint the charter token", false, ()), __core__chooseUnit(__helios__assert(__helios__value____geq(value_minted, charterVal), "charter token not minted"), minterSeed = __helios__txoutputid__new(__module__CapoMinter__seedTxn, __module__CapoMinter__seedIndex);\n                    mkUutName = __module__CapoMintHelpers__mkUutTnFactory(minterSeed);\n                    __core__chooseUnit(__module__StellarHeliosHelpers__REQT("must mint uuts for mintDgt, spendDgt, and govAuth using the same seed", false, ()), mintsUuts = __module__CapoMintHelpers__validateUutMinting(mph_21, minterSeed, purposes_1, true, mkUutName, true, charterVal, false, (), false, (), false, (), false, ());\n                    __core__chooseUnit(__helios__print(__helios__string____add("\n  -- mintsUuts: ", __helios__bool__show(mintsUuts)())), __helios__bool__and(() -> {\n                        true\n                    }, () -> {\n                        mintsUuts\n                    }))))))\n                }\n            },\n            () -> {\n                __core__ifThenElse(\n                    __module__CapoMintHelpers__MinterActivity[]__mintWithDelegateAuthorizing____is(__cond_23),\n                    () -> {\n                        (__lhs_0_62) -> {\n                            __core__chooseUnit(__helios__print("mintWithDelegateAuthorizing\n"), __module__CapoMintHelpers__requiresMintDelegateApproval(mph_21))\n                        }\n                    },\n                    () -> {\n                        (__12) -> {\n                            true\n                        }\n                    }\n                )()\n            }\n        )()(__cond_23)))))\n    };\n    __core__ifThenElse(\n        __module__CapoMinter__main(__module__CapoMintHelpers__MinterActivity[]__from_data(__module__CapoMintHelpers__MinterActivity[]__mintingCharter__is_valid_data_2, __module__CapoMintHelpers__MinterActivity[]__mintWithDelegateAuthorizing__is_valid_data_2, __module__CapoMintHelpers__MinterActivity[]__addingMintInvariant__is_valid_data_2, __module__CapoMintHelpers__MinterActivity[]__addingSpendInvariant__is_valid_data_2, __module__CapoMintHelpers__MinterActivity[]__forcingNewMintDelegate__is_valid_data_2, __module__CapoMintHelpers__MinterActivity[]__CreatingNewSpendDelegate__is_valid_data_2)(__REDEEMER)),\n        () -> {\n            ()\n        },\n        () -> {\n            __helios__error("validation returned false")\n        }\n    )()\n}',
        optimized:
            "59118059117d0100002232323232323232323232323232323232323232323232323232323232323232323232323253335734646a666ae68cdc3811240002646464466ae6cc94ccd5cd0008a4c2c6603600a0046464646466ae6d4ccd5cd199ab9a3232330010010042253335573e002294054ccd5cd19baf35573a6ae8400400c5288998010011aba2001375204a941288b0a4c66ae6ccc028cc06400409488c9263372c66e58cdcb19b9649011a20202020e284b9efb88f20f09f909e2065787065637465643a2000301d001491027820003732004921010a003233573666ae6ccc02c00488c9263372c66e58cdcb19b964911a20202020e284b9efb88f20f09f909e20202061637475616c3a2000301e001491027820003732004921010a0032498c06ccc04000c8cc88ccd5cd19b8f0020294a0944dd71aab9d00137566aae78004c8c8cd5cda999ab9a001149858cd5cd9924c66ae6d4ccd5cd19199ab9a0014a0944cc0980288cdd79aba135573c6ea800530012bd8799fd8799f58200000000000000000000000000000000000000000000000000000000000000000ff00ff0016149928a999ab9a006100114a0666044008006e1cccc07400488cc88c8d4ccd5cd19b8735573a6ea80052002123357406ea4010018498004cc0680108c8cdc78008021bae001375c6aae74004dd69aab9e0014bd701980c8010129980b9980b802a5eb7bdb180c8c8cc004004008894ccd55cf8008a5eb7bdb1804cc068dd59aba100133002002357440026602a97ae1108476361706f476f76008108476d696e74446774008109487370656e644467740011ba6323300f0263372c66e580052401012d0049010c6564393035386337366331360037326eb8004c07006d4ccd5cd0008a51132323232323232323235333573466e1cd55ce9baa0014800849848c8d4ccd5cd19b8735573a6ea800520021232323235333573466e1c0052000124a22a666ae68cdc3800a400424c24c0066aae74004dd50009aba135573c6ea8004498004d5d09aab9e375400200264666602e002004466e95200033574000297ae014c0103d87a80003019022330113018021235333573466e1cd55ce9baa0014800848cdd79aba135573c6ea800400c4928000991a999ab9a3370e6aae74dd5000a400024646ae84d55cf1baa001357426aae78dd50008930009980c005119811991bab357426ae88d55cf1baa001357426ae88d55cf1baa00100230153301402737300026e64004dd70009aba1001300a0013301432323233017323301800148000c040c8d5d09aba2357446aae78dd50009aba1357446aae78dd5000a4000646a666ae68cdc39aab9d37540029000091aba135573c6ea800448c8d4ccd5cd19b8735573a6ea8005200012357426aae78dd50008930009980b0040018009980a00100091980f191bab357426ae88d55cf1baa001357426ae88d55cf1baa00100537586ae84d5d11aab9e3754034900019199ab9a0014a0944c8cc00400400c894ccd55cf8008a5115333573464646600200200444a666aae7c0045288a999ab9a3370e6eb4d55cf1aba1001480004cc008008d5d10008a5037566aae78d5d08008998010011aba200114a06601003e920107636861727465720037580026ae84d55cf1baa01515333573466e1c08920021232323235333573466e1cd55ce9baa0014800048c8c8c8d4ccd5cd19b8700148000494ccd5cd18060038a5114a02a666ae68cdc3800a400424a666ae68c03001c5288a5015333573466e1c005200812615333573466e1c005200a12612600335573a0026ea8004d5d09aab9e37540022a666ae68cdc39aab9d375400290020930a999ab9a3370e6aae74dd5000a4004246464646a666ae68cdc3800a40002494454ccd5cd19b870014800849849800cd55ce8009baa001357426aae78dd50008a999ab9a3370e6aae74dd5000a400c24a666ae68c02000c5288a5015333573466e1cd55ce9baa00148020494ccd5cd18040018a5114a02a666ae68cdc39aab9d37540029005092999ab9a300800314a2294054ccd5cd19b8735573a6ea8005200e1253335734601000629445280a999ab9a3370e6aae74dd5000a401824c2464a666ae68c0240104c8ccc004004cc05400880048d4ccd5cd19b8735573a6ea8005200a124a22a666ae68cdc39aab9d375400290070925115333573466e1cd55ce9baa0014801849854ccd5cd19b8735573a6ea8005200812615333573466e1cd55ce9baa0014804049854ccd5cd19b8735573a6ea8005200c12615333573466e1cd55ce9baa0014801049854ccd5cd19b8735573a6ea8005200012612600122253335573e004294454ccd5cd18009aba100213330030033574400400229405281bac357426aae78dd5000800991919191919ab9b353335734a666666ae900045288a5014a02940528099191191919ab9b32498cdcb19b963372c920117202020202d2d2d2d2066726f6d20696e7075742069643a00532302f375c6ae84d55cf1baa00135742008920105f09f94b923003020375a6ae84d5d100219ab9b32498cdcb24909202020202020203d2000301f3237566ae84d5d11aab9e37540026ae84d5d100419ab9b5333573466e1c0080085261653335734666ae68cdc49919800800801112999aab9f0011480004cdc0198010011aba20014800920004a09445261635573c6ea8008d55ce9baa00135573c0026ea80084926001001323233330120020012001163300d001235333573466e1cd55ce9baa0014800848cdd79aba135573c6ea80040104928000980980e1aba100135573c0026ea8004c8d5d09aab9e37540026ae84d5d11aba2357440026464646466ae80dd380219aba04c103d8798000335740980103d87a800033574000266ae80dd480125eb80c8c8d4ccd5cd19b8735573a6ea80052002126132323223232323235333573466e1cd55ce9baa0014800048004498004cc06c02494ccd5cd19baf32357426aae78dd5000991aba135573c6ea8004d5d09aba235573c6ea800400c4cc098c8dd59aba1357446aae78dd50009aba1357446aae78dd50008010a50330130090043374a900119aba0375200297ae0375c6ae84d55cf1baa00137320026eb8004d5d08028009aba1357440086eb0d5d09aab9e37540346eb8004d5d0801180319191a999ab9a3370e002900109191980a800a40006ae84d55cf1baa00115333573466e1c005200412323301500148000d5d09aab9e375400224c0046aae74dd50009aba135744002646464646a666ae68cdc3800a40042400a2a666ae68cdc3800a400824c2464646466ae80dd480199aba03374a900119aba000133574000497ae04bd701980b991980c000a40006020646ae84d5d11aba235573c6ea8004d5d09aba235573c6ea80052000323235333573466e1cd55ce9baa0014800048d5d09aab9e375400224c002646602c002466042646eacd5d09aba235573c6ea8004d5d09aba235573c6ea800400cdd61aba1357446aae78dd500e99806800a49076368617274657200375c6ae8401400cd55ce8009baa001357426ae88004cd5d01ba901e4bd708103d879800009251027301501414985888c8cc00400400c894ccd55cf8008a4c26466ae6ccc010dd71aab9d001375a6aae78004cc00c00cd5d10011aba10012332232323232335736a666ae694ccd5cd199ab9a0014a09445288a50161498004d4ccd5cd19b8735573a6ea800920001232323301d0010043233301a001223301800237566ae84d5d11aab9e375400297adef6c60323300d0012325333573466e1cd55ce9baa001480084cdc7802191bae357426aae78dd50009980b800a40042940c8d5d09aab9e37540026ae84d55cf1baa00137586ae84d5d11aba235573c6ea8068dd71aba135573c6ea800448c8d4ccd5cd19b8735573a6ea80052000124a224940004c8cc0480048cc074dd59aba1357446aae78dd50008021bac357426ae88d5d11aab9e3754032004660100060046ae84d5d1001991b99375c0026ae84008dd61aba1001375c6ae84d5d11aba2357446ae880048dd61aba1357446ae88d5d11aab9e375400244646600200200644a666aae7c004584c94ccd5cd180200088008998018019aba200235573a6ae8400488c8cd5cda999ab9a333573466e24dc6800a4000941288a4c2c60106600e0060026e6000488c8ccc00400400c0088894ccd55cf8010a5eb804c94ccd5cd1801000899aba00013330040043574400600426660080086ae8800c008d5d080111919192999ab9a3370e004900209aba10011635573c0046aae74004dd50009111191998008008028021112999aab9f0020041325333573466ebc008d55ce800898031aab9e0011333004004357440060046ae8400888cdd2a400066ae80dd480119aba0375200297ae02323233574066ec0008dd319aba03376000298010101004bd6f7b63025eb7bdb180d5d09aba235573c6ea8008d5d09aab9e375400246eacd5d09aba2357446ae88d5d11aba2357446ae88d5d11aba235573c6ea800488c8ccc00400400c0088894ccd55cf8010a6103d87a8000132533357346004002266e95200033574000297ae01333004004357440060046ae8400888c8cc00400400c894ccd55cf8008a5eb804cd5d018019aba1001330020023574400244a666ae68cdc39aab9d375400400220042c4464660020026601a00600444a666aae7c00452f5bded8c02646464a666aae7c00440084cd5d019bb0003374c002004664464660020026602600600444a666aae7c00452f5bded8c02646464a666ae68cdc3800a40002004266ae80cdd80019ba8001002337006603000c0046603000a004660060066ae88008d5d08009980780300119807802801198018019aba2002357420024464646600200200844a666aae7c0045854ccd5cd19baf35573a6ae8400400c4dd59aab9e357420022660040046ae88004dd4800919980180091191998031bab35573c00444646466e580114ccd5cd19b8f00548810013372c92010a6c6f76656c6163653a20003372c60120029201010a0013372ca602e00a66e59241012e003372ca602e00466e592401023a20003372c60120029201010a00375a6aae78008dd71aab9d001003375c6aae74005241002373264a666ae68cdc400124000266e2d205a333001001337040049000a44100133300100100248900222325333573466e2000d20141001133300400433706006900a00099b8b3370066e18009201448180004888c8ccc0040040100088894ccd55cf801080089998018019aba200233005001357420046ae8403c8dd59aba1357446ae88d5d11aba235573c6ea800488ccc00c00800488ccd5cd19b880020014a0944888c8cc004004cc01801000c894ccd55cf8008a511325333573464666ae6800528251332232330010013300b0030022253335573e00229444c94ccd5cd19199ab9a0014a0944cc024cc03c014004cc03c0100045280998018019aba2002357420026600e00c0026600e00a00229404cc00c00cd5d10011aba10012232330010010032253335573e002297adef6c6015333573466ebcd55ce9aba1001003137566aae78d5d08008998010011aba2001223232323233300100100200422253335573e0022004266ae80d5d08009998018018011aba200133300100100200322253335573e002297ae0132533357346601000a466ebc0040084ccc01001000cd5d1001099aba0001333004004003357440046aae74d5d08009919800800801912999aab9f00114bd70099aba035573a6ae84004cc008008d5d100091191998008008018011112999aab9f00214a02a666ae68c004d5d08010a511333003003357440040024464666002002006004444a666aae7c0085200015333573466ebcd55ce9aba10020011375a6aae78d5d080109998018019aba2002001375c0026ae84d55cf0009baa001357426ae8801084c8cc00400400888c94ccd5cd19b88480000044cdcb1b9932333573466e1cdc6800a400466e2d2060001001373064646e654ccd5cd19b88002480004cdc5a40b466600200266e0800920014890013330010010024890022232325333573466e2001120201001133300500533706008901000099b8b333573466e20005201433700002903019b80001482b804008cdc30012404066e3800920003300300333371890010008010a4900371a0026aae74004dd50021aab9e0013754003",
        optimizedIR:
            '(__REDEEMER, __CONTEXT) -> {\n    __common13 = __core__unConstrData(__CONTEXT);\n    __common14 = __core__sndPair(__common13);\n    __common4 = __core__unConstrData(__REDEEMER);\n    __common5 = __core__fstPair(__common4);\n    __helios__bytearray__show = (self_4) -> {\n        () -> {\n            recurse_3 = (recurse_2, self_5) -> {\n                n = __core__lengthOfByteString(self_5);\n                __core__ifThenElse(\n                    __core__lessThanInteger(0, n),\n                    () -> {\n                        __core__appendString(__core__decodeUtf8__safe(hex_bytes = __core__encodeUtf8(self_2 = __core__indexByteString__safe(self_5, 0);\n                        recurse_1 = (recurse, self_3, bytes) -> {\n                            digit = __core__modInteger(self_3, 16);\n                            bytes_1 = __core__consByteString(__core__ifThenElse(\n                                __core__lessThanInteger(digit, 10),\n                                __core__addInteger(digit, 48),\n                                __core__addInteger(digit, 87)\n                            ), bytes);\n                            __core__ifThenElse(\n                                __core__lessThanInteger(self_3, 16),\n                                () -> {\n                                    bytes_1\n                                },\n                                () -> {\n                                    recurse(recurse, __core__divideInteger(self_3, 16), bytes_1)\n                                }\n                            )()\n                        };\n                        __core__decodeUtf8__safe(__core__ifThenElse(\n                            __core__lessThanInteger(self_2, 0),\n                            () -> {\n                                __core__consByteString(45, recurse_1(recurse_1, __core__multiplyInteger(self_2, -1), #))\n                            },\n                            () -> {\n                                recurse_1(recurse_1, self_2, #)\n                            }\n                        )()));\n                        __core__ifThenElse(\n                            __core__equalsInteger(__core__lengthOfByteString(hex_bytes), 1),\n                            __core__consByteString(48, hex_bytes),\n                            hex_bytes\n                        )), recurse_2(recurse_2, __core__sliceByteString(1, n, self_5)))\n                    },\n                    () -> {\n                        ""\n                    }\n                )()\n            };\n            recurse_3(recurse_3, self_4)\n        }\n    };\n    __helios__scriptcontext__purpose = __core__headList(__core__tailList(__common14));\n    __common0 = __core__unConstrData(__helios__scriptcontext__purpose);\n    __common2 = __core__headList(__core__sndPair(__common0));\n    __common3 = __core__unBData(__common2);\n    __helios__value__get_inner_map_int = (map, key) -> {\n        recurse_5 = (recurse_4, map_1, key_1) -> {\n            __core__chooseList(map_1, () -> {\n                0\n            }, () -> {\n                __core__ifThenElse(\n                    __core__equalsData(__core__fstPair(__core__headList__safe(map_1)), key_1),\n                    () -> {\n                        __core__unIData(__core__sndPair(__core__headList__safe(map_1)))\n                    },\n                    () -> {\n                        recurse_4(recurse_4, __core__tailList__safe(map_1), key_1)\n                    }\n                )()\n            })()\n        };\n        recurse_5(recurse_5, map, key)\n    };\n    __helios__common__any = (self_10, fn) -> {\n        recurse_9 = (recurse_8, self_11, fn_1) -> {\n            __core__chooseList(self_11, () -> {\n                false\n            }, () -> {\n                __core__ifThenElse(\n                    fn_1(__core__headList__safe(self_11)),\n                    () -> {\n                        true\n                    },\n                    () -> {\n                        recurse_8(recurse_8, __core__tailList__safe(self_11), fn_1)\n                    }\n                )()\n            })()\n        };\n        recurse_9(recurse_9, self_10, fn)\n    };\n    __helios__value__merge_map_keys = (a_2, b_3) -> {\n        (aKeys) -> {\n            recurse_13 = (recurse_12, keys, map_4) -> {\n                __core__chooseList(map_4, () -> {\n                    __core__mkNilData(())\n                }, () -> {\n                    key_3 = __core__fstPair(__core__headList__safe(map_4));\n                    __core__ifThenElse(\n                        __helios__common__any(aKeys, (item) -> {\n                            __core__equalsData(item, key_3)\n                        }),\n                        () -> {\n                            recurse_12(recurse_12, keys, __core__tailList__safe(map_4))\n                        },\n                        () -> {\n                            __core__mkCons(key_3, recurse_12(recurse_12, keys, __core__tailList__safe(map_4)))\n                        }\n                    )()\n                })()\n            };\n            b_2 = recurse_13(recurse_13, aKeys, b_3);\n            recurse_11 = (recurse_10, lst_1, rem) -> {\n                __core__chooseList(rem, () -> {\n                    lst_1\n                }, () -> {\n                    __core__mkCons(__core__headList__safe(rem), recurse_10(recurse_10, lst_1, __core__tailList__safe(rem)))\n                })()\n            };\n            recurse_11(recurse_11, b_2, aKeys)\n        }(recurse_7 = (recurse_6, map_3) -> {\n            __core__chooseList(map_3, () -> {\n                __core__mkNilData(())\n            }, () -> {\n                __core__mkCons(__core__fstPair(__core__headList__safe(map_3)), recurse_6(recurse_6, __core__tailList__safe(map_3)))\n            })()\n        };\n        recurse_7(recurse_7, a_2))\n    };\n    __helios__value__get_inner_map = (map_5, mph) -> {\n        recurse_17 = (recurse_16, map_6) -> {\n            __core__chooseList(map_6, () -> {\n                __core__mkNilPairData(())\n            }, () -> {\n                __core__ifThenElse(\n                    __core__equalsData(__core__fstPair(__core__headList__safe(map_6)), mph),\n                    () -> {\n                        __core__unMapData(__core__sndPair(__core__headList__safe(map_6)))\n                    },\n                    () -> {\n                        recurse_16(recurse_16, __core__tailList__safe(map_6))\n                    }\n                )()\n            })()\n        };\n        recurse_17(recurse_17, map_5)\n    };\n    __helios__value__compare = (a_4, b_5, comp_1) -> {\n        recurse_19 = (recurse_18, keys_2) -> {\n            __core__chooseList(keys_2, () -> {\n                true\n            }, () -> {\n                key_5 = __core__headList__safe(keys_2);\n                __core__ifThenElse(\n                    b_1 = (a_3, b_4) -> {\n                        recurse_15 = (recurse_14, keys_1) -> {\n                            __core__chooseList(keys_1, () -> {\n                                true\n                            }, () -> {\n                                key_4 = __core__headList__safe(keys_1);\n                                __core__ifThenElse(\n                                    b_1 = comp_1(__helios__value__get_inner_map_int(a_3, key_4), __helios__value__get_inner_map_int(b_4, key_4));\n                                    __core__ifThenElse(\n                                        b_1,\n                                        false,\n                                        true\n                                    ),\n                                    () -> {\n                                        false\n                                    },\n                                    () -> {\n                                        recurse_14(recurse_14, __core__tailList__safe(keys_1))\n                                    }\n                                )()\n                            })()\n                        };\n                        recurse_15(recurse_15, __helios__value__merge_map_keys(a_3, b_4))\n                    }(__helios__value__get_inner_map(a_4, key_5), __helios__value__get_inner_map(b_5, key_5));\n                    __core__ifThenElse(\n                        b_1,\n                        false,\n                        true\n                    ),\n                    () -> {\n                        false\n                    },\n                    () -> {\n                        recurse_18(recurse_18, __core__tailList__safe(keys_2))\n                    }\n                )()\n            })()\n        };\n        recurse_19(recurse_19, __helios__value__merge_map_keys(a_4, b_5))\n    };\n    __helios__value____geq = (a_5, b_6) -> {\n        __helios__value__compare(a_5, b_6, (a_qty, b_qty) -> {\n            __core__ifThenElse(\n                __core__lessThanInteger(a_qty, b_qty),\n                false,\n                true\n            )\n        })\n    };\n    __helios__tx__minted = (self_17) -> {\n        __core__unMapData(__core__headList(__core__tailList(__core__tailList(__core__tailList(__core__tailList(__core__sndPair(__core__unConstrData(self_17))))))))\n    };\n    __helios__scriptcontext__tx = __core__headList(__common14);\n    __helios__common__fold = (self_20, fn_2, z) -> {\n        recurse_23 = (recurse_22, self_21, z_1) -> {\n            __core__chooseList(self_21, () -> {\n                z_1\n            }, () -> {\n                recurse_22(recurse_22, __core__tailList__safe(self_21), fn_2(z_1, __core__headList__safe(self_21)))\n            })()\n        };\n        recurse_23(recurse_23, self_20, z)\n    };\n    __helios__int__show = (self_22) -> {\n        __core__decodeUtf8__safe(recurse_25 = (recurse_24, i_1, bytes_2) -> {\n            bytes_3 = __core__consByteString(__core__addInteger(__core__modInteger(i_1, 10), 48), bytes_2);\n            __core__ifThenElse(\n                __core__lessThanInteger(i_1, 10),\n                () -> {\n                    bytes_3\n                },\n                () -> {\n                    recurse_24(recurse_24, __core__divideInteger(i_1, 10), bytes_3)\n                }\n            )()\n        };\n        __core__ifThenElse(\n            __core__lessThanInteger(self_22, 0),\n            () -> {\n                __core__consByteString(45, recurse_25(recurse_25, __core__multiplyInteger(self_22, -1), #))\n            },\n            () -> {\n                recurse_25(recurse_25, self_22, #)\n            }\n        )())\n    };\n    __helios__value__show = (self_23) -> {\n        __helios__common__fold(self_23, (prev, pair) -> {\n            mph_3 = __core__unBData__safe(__core__fstPair(pair));\n            __helios__common__fold(__core__unMapData__safe(__core__sndPair(pair)), (prev_1, pair_1) -> {\n                token_name = __core__unBData__safe(__core__fstPair(pair_1));\n                qty = __core__unIData__safe(__core__sndPair(pair_1));\n                __core__appendString(prev_1, __core__ifThenElse(\n                    __core__equalsByteString(mph_3, #),\n                    () -> {\n                        __core__appendString("lovelace: ", __core__appendString(__helios__int__show(qty), "\n"))\n                    },\n                    () -> {\n                        __core__appendString(__helios__bytearray__show(mph_3)(), __core__appendString(".", __core__appendString(__helios__bytearray__show(token_name)(), __core__appendString(": ", __core__appendString(__helios__int__show(qty), "\n")))))\n                    }\n                )())\n            }, prev)\n        }, "")\n    };\n    __helios__value__get_policy = (self_27, mph_4) -> {\n        mph_5 = __core__bData(mph_4);\n        recurse_27 = (recurse_26, map_8) -> {\n            __core__chooseList(map_8, () -> {\n                error()\n            }, () -> {\n                __core__ifThenElse(\n                    __core__equalsData(__core__fstPair(__core__headList__safe(map_8)), mph_5),\n                    () -> {\n                        __core__unMapData(__core__sndPair(__core__headList__safe(map_8)))\n                    },\n                    () -> {\n                        recurse_26(recurse_26, __core__tailList__safe(map_8))\n                    }\n                )()\n            })()\n        };\n        recurse_27(recurse_27, self_27)\n    };\n    __helios__value____add = (a_11, b_11) -> {\n        recurse_31 = (recurse_30, keys_4) -> {\n            __core__chooseList(keys_4, () -> {\n                __core__mkNilPairData(())\n            }, () -> {\n                key_7 = __core__headList__safe(keys_4);\n                tail_1 = recurse_30(recurse_30, __core__tailList__safe(keys_4));\n                item_1 = (a_9, b_9) -> {\n                    recurse_29 = (recurse_28, keys_3) -> {\n                        __core__chooseList(keys_3, () -> {\n                            __core__mkNilPairData(())\n                        }, () -> {\n                            key_6 = __core__headList__safe(keys_3);\n                            tail = recurse_28(recurse_28, __core__tailList__safe(keys_3));\n                            sum = __core__addInteger(__helios__value__get_inner_map_int(a_9, key_6), __helios__value__get_inner_map_int(b_9, key_6));\n                            __core__ifThenElse(\n                                __core__equalsInteger(sum, 0),\n                                () -> {\n                                    tail\n                                },\n                                () -> {\n                                    __core__mkCons(__core__mkPairData(key_6, __core__iData(sum)), tail)\n                                }\n                            )()\n                        })()\n                    };\n                    recurse_29(recurse_29, __helios__value__merge_map_keys(a_9, b_9))\n                }(__helios__value__get_inner_map(a_11, key_7), __helios__value__get_inner_map(b_11, key_7));\n                __core__chooseList(item_1, () -> {\n                    tail_1\n                }, () -> {\n                    __core__mkCons(__core__mkPairData(key_7, __core__mapData(item_1)), tail_1)\n                })()\n            })()\n        };\n        recurse_31(recurse_31, __helios__value__merge_map_keys(a_11, b_11))\n    };\n    __helios__common__assert_constr_index = (data_1, i_2) -> {\n        __core__ifThenElse(\n            __core__equalsInteger(__core__fstPair(__core__unConstrData(data_1)), i_2),\n            () -> {\n                data_1\n            },\n            () -> {\n                error()\n            }\n        )()\n    };\n    __helios__common__map = (self_33, fn_3) -> {\n        recurse_41 = (recurse_40, rem_1) -> {\n            __core__chooseList(rem_1, () -> {\n                __core__mkNilData(())\n            }, () -> {\n                __core__mkCons(fn_3(__core__headList__safe(rem_1)), recurse_40(recurse_40, __core__tailList__safe(rem_1)))\n            })()\n        };\n        recurse_41(recurse_41, self_33)\n    };\n    __helios__common__find_safe = (self_34, fn_4) -> {\n        recurse_43 = (recurse_42, self_35, fn_5) -> {\n            __core__chooseList(self_35, () -> {\n                __core__constrData(1, __core__mkNilData(()))\n            }, () -> {\n                head_2 = __core__headList__safe(self_35);\n                __core__ifThenElse(\n                    fn_5(head_2),\n                    () -> {\n                        __core__constrData(0, __core__mkCons(head_2, __core__mkNilData(())))\n                    },\n                    () -> {\n                        recurse_42(recurse_42, __core__tailList__safe(self_35), fn_5)\n                    }\n                )()\n            })()\n        };\n        recurse_43(recurse_43, self_34, fn_4)\n    };\n    __helios__tx__redeemers = (self_48) -> {\n        __core__unMapData(__core__headList(__core__tailList(__core__tailList(__core__tailList(__core__tailList(__core__tailList(__core__tailList(__core__tailList(__core__tailList(__core__tailList(__core__sndPair(__core__unConstrData(self_48)))))))))))))\n    };\n    __helios__value__new = (assetClass) -> {\n        mph_6 = __core__headList(__core__sndPair(__core__unConstrData(assetClass)));\n        tokenName = __core__headList(__core__tailList(__core__sndPair(__core__unConstrData(assetClass))));\n        __core__mkCons(__core__mkPairData(mph_6, __core__mapData(__core__mkCons(__core__mkPairData(tokenName, __core__iData(1)), __core__mkNilPairData(())))), __core__mkNilPairData(()))\n    };\n    __helios__assetclass__new = (mph_7, token_name_1) -> {\n        __core__constrData(0, __core__mkCons(__core__bData(mph_7), __core__mkCons(__core__bData(token_name_1), __core__mkNilData(()))))\n    };\n    __helios__common__map_get = (self_53, key_8, fnFound, fnNotFound) -> {\n        recurse_47 = (recurse_46, self_54, key_9) -> {\n            __core__chooseList(self_54, fnNotFound, () -> {\n                head_3 = __core__headList__safe(self_54);\n                __core__ifThenElse(\n                    __core__equalsData(key_9, __core__fstPair(head_3)),\n                    () -> {\n                        fnFound(__core__sndPair(head_3))\n                    },\n                    () -> {\n                        recurse_46(recurse_46, __core__tailList__safe(self_54), key_9)\n                    }\n                )()\n            })()\n        };\n        recurse_47(recurse_47, self_53, key_8)\n    };\n    __helios__txoutputdatum__inline = (self_56) -> {\n        pair_2 = __core__unConstrData(self_56);\n        index = __core__fstPair(pair_2);\n        fields = __core__sndPair(pair_2);\n        __core__ifThenElse(\n            __core__equalsInteger(index, 2),\n            () -> {\n                __core__headList(fields)\n            },\n            () -> {\n                error()\n            }\n        )()\n    };\n    __helios__common__filter = (self_67, fn_10) -> {\n        recurse_51 = (recurse_50, self_68, fn_11) -> {\n            __core__chooseList(self_68, () -> {\n                __core__mkNilData(())\n            }, () -> {\n                head_4 = __core__headList__safe(self_68);\n                __core__ifThenElse(\n                    fn_11(head_4),\n                    () -> {\n                        __core__mkCons(head_4, recurse_50(recurse_50, __core__tailList__safe(self_68), fn_11))\n                    },\n                    () -> {\n                        recurse_50(recurse_50, __core__tailList__safe(self_68), fn_11)\n                    }\n                )()\n            })()\n        };\n        recurse_51(recurse_51, self_67, fn_10)\n    };\n    __module__StellarHeliosHelpers__mkTv = (mph_8, tn) -> {\n        tnBytes_1 = __core__encodeUtf8(tn);\n        __core__chooseUnit(__core__ifThenElse(\n            __core__ifThenElse(\n                __core__lessThanEqualsInteger(__core__lengthOfByteString(tnBytes_1), 0),\n                false,\n                true\n            ),\n            () -> {\n                ()\n            },\n            () -> {\n                error()\n            }\n        )(), __helios__value__new(__helios__assetclass__new(mph_8, tnBytes_1)))\n    };\n    __helios__map[__helios__scriptpurpose@__helios__data]__find_key = (self_80, fn_15) -> {\n        recurse_55 = (recurse_54, map_13) -> {\n            __core__chooseList(map_13, () -> {\n                error()\n            }, () -> {\n                item_2 = __core__fstPair(__core__headList__safe(map_13));\n                __core__ifThenElse(\n                    fn_15(item_2),\n                    () -> {\n                        item_2\n                    },\n                    () -> {\n                        recurse_54(recurse_54, __core__tailList__safe(map_13))\n                    }\n                )()\n            })()\n        };\n        recurse_55(recurse_55, self_80)\n    };\n    __module__CapoHelpers__CapoDatum[]__CharterData__mintDelegateLink = (self_93) -> {\n        __core__unListData(__core__headList(__core__tailList(__core__tailList(__core__tailList(__core__sndPair(__core__unConstrData(self_93)))))))\n    };\n    __module__CapoHelpers__DelegateInput[]__requiresValidOutput = (self_102) -> {\n        (delegateLink, mph_11) -> {\n            (uut) -> {\n                validatorHash = __core__headList(__core__tailList(delegateLink));\n                v = __module__StellarHeliosHelpers__mkTv(mph_11, uut);\n                hasDelegate = __core__ifThenElse(\n                    __core__equalsInteger(__core__fstPair(__core__unConstrData(validatorHash)), 0),\n                    () -> {\n                        (__lhs_0_9) -> {\n                            vh_3 = __core__unBData(__core__headList(__core__sndPair(__core__unConstrData(__lhs_0_9))));\n                            (t) -> {\n                                __helios__value____geq(t, v)\n                            }((outputs) -> {\n                                __helios__common__fold(outputs, (prev_2, txOutput) -> {\n                                    __helios__value____add(prev_2, __core__unMapData(__core__headList(__core__tailList(__core__sndPair(__core__unConstrData(txOutput))))))\n                                }, __core__mkNilPairData(()))\n                            }(self_70 = __core__unListData(__core__headList(__core__tailList(__core__tailList(__core__sndPair(__core__unConstrData(__helios__scriptcontext__tx))))));\n                            __helios__common__filter(self_70, (output) -> {\n                                (credential) -> {\n                                    __core__ifThenElse(\n                                        __core__equalsInteger(__core__fstPair(__core__unConstrData(credential)), 1),\n                                        () -> {\n                                            __core__equalsByteString(vh_3, self_74 = __helios__common__assert_constr_index(credential, 1);\n                                            __core__unBData(__core__headList(__core__sndPair(__core__unConstrData(self_74)))))\n                                        },\n                                        () -> {\n                                            false\n                                        }\n                                    )()\n                                }(self_7 = __core__headList(__core__sndPair(__core__unConstrData(output)));\n                                __core__headList(__core__sndPair(__core__unConstrData(self_7))))\n                            })))\n                        }\n                    },\n                    () -> {\n                        (__lhs_0_6) -> {\n                            (__cond_5) -> {\n                                __core__ifThenElse(\n                                    __core__equalsInteger(__core__fstPair(__core__unConstrData(__cond_5)), 0),\n                                    () -> {\n                                        (__lhs_0_8) -> {\n                                            true\n                                        }\n                                    },\n                                    () -> {\n                                        (__lhs_0_7) -> {\n                                            false\n                                        }\n                                    }\n                                )()(__cond_5)\n                            }(self_89 = __core__unListData(__core__headList(__core__tailList(__core__tailList(__core__sndPair(__core__unConstrData(__helios__scriptcontext__tx))))));\n                            __helios__common__find_safe(self_89, (o) -> {\n                                __helios__value____geq(__core__unMapData(__core__headList(__core__tailList(__core__sndPair(__core__unConstrData(o))))), v)\n                            }))\n                        }\n                    }\n                )()(validatorHash);\n                __core__chooseUnit(__core__ifThenElse(\n                    __core__ifThenElse(\n                        __core__ifThenElse(\n                            hasDelegate,\n                            false,\n                            true\n                        ),\n                        () -> {\n                            true\n                        },\n                        () -> {\n                            false\n                        }\n                    )(),\n                    () -> {\n                        error()\n                    },\n                    () -> {\n                        ()\n                    }\n                )(), hasDelegate)\n            }(d = __core__headList(delegateLink);\n            __core__decodeUtf8(__core__unBData(d)))\n        }(__core__unListData(__core__headList(self_102)), __core__unBData(__core__headList(__core__tailList(__core__tailList(__core__tailList(__core__tailList(self_102)))))))\n    };\n    __helios__map[__helios__bytearray@__helios__int]__for_each = (self_113, fn_22) -> {\n        recurse_59 = (recurse_58, map_14) -> {\n            __core__chooseList(map_14, () -> {\n                ()\n            }, () -> {\n                head_6 = __core__headList__safe(map_14);\n                __core__chooseUnit(fn_22(__core__unBData(__core__fstPair(head_6)), __core__unIData(__core__sndPair(head_6))), recurse_58(recurse_58, __core__tailList__safe(map_14)))\n            })()\n        };\n        recurse_59(recurse_59, self_113)\n    };\n    __core__ifThenElse(\n        value_minted = __helios__tx__minted(__helios__scriptcontext__tx);\n        __core__ifThenElse(\n            __core__equalsInteger(__common5, 0),\n            () -> {\n                __common18 = __core__headList(__core__sndPair(__core__unConstrData(__helios__scriptcontext__tx)));\n                __common19 = __core__unListData(__common18);\n                __common28 = __module__StellarHeliosHelpers__mkTv(__common3, "charter");\n                (__lhs_0_63) -> {\n                    __core__chooseUnit(cond = __helios__value____geq(value_minted, __common28);\n                    __core__ifThenElse(\n                        cond,\n                        () -> {\n                            ()\n                        },\n                        () -> {\n                            error()\n                        }\n                    )(), (isBootstrapping) -> {\n                        delegateApproval = __core__ifThenElse(\n                            isBootstrapping,\n                            () -> {\n                                true\n                            },\n                            () -> {\n                                __lhs_0_59 = __helios__common__assert_constr_index(refInputs_1 = __core__unListData(__core__headList(__core__tailList(__core__sndPair(__core__unConstrData(__helios__scriptcontext__tx)))));\n                                hasCharter_1 = (txin_1) -> {\n                                    __helios__value____geq(self_51 = __core__headList(__core__tailList(__core__sndPair(__core__unConstrData(txin_1))));\n                                    __core__unMapData(__core__headList(__core__tailList(__core__sndPair(__core__unConstrData(self_51))))), __common28)\n                                };\n                                (charterUtxo_1) -> {\n                                    __helios__common__assert_constr_index(data_41 = __helios__txoutputdatum__inline(self_57 = __core__headList(__core__tailList(__core__sndPair(__core__unConstrData(charterUtxo_1))));\n                                    __core__headList(__core__tailList(__core__tailList(__core__sndPair(__core__unConstrData(self_57))))));\n                                    __helios__common__assert_constr_index(data_41, 0), 0)\n                                }(__cond_8 = __helios__common__find_safe(refInputs_1, hasCharter_1);\n                                __core__ifThenElse(\n                                    __core__equalsInteger(__core__fstPair(__core__unConstrData(__cond_8)), 0),\n                                    () -> {\n                                        (self_7) -> {\n                                            __core__headList(__core__sndPair(__core__unConstrData(self_7)))\n                                        }\n                                    },\n                                    () -> {\n                                        (__lhs_0_15) -> {\n                                            __cond_9 = __helios__common__find_safe(__common19, hasCharter_1);\n                                            __core__ifThenElse(\n                                                __core__equalsInteger(__core__fstPair(__core__unConstrData(__cond_9)), 0),\n                                                () -> {\n                                                    (self_7) -> {\n                                                        __core__headList(__core__sndPair(__core__unConstrData(self_7)))\n                                                    }\n                                                },\n                                                () -> {\n                                                    (__lhs_0_16) -> {\n                                                        error()\n                                                    }\n                                                }\n                                            )()(__cond_9)\n                                        }\n                                    }\n                                )()(__cond_8)), 0);\n                                mintDgt = __module__CapoHelpers__CapoDatum[]__CharterData__mintDelegateLink(__lhs_0_59);\n                                __common12 = __core__headList(mintDgt);\n                                __common29 = __core__unBData(__common12);\n                                __common30 = __core__decodeUtf8(__common29);\n                                authzVal = __helios__value__new(__helios__assetclass__new(__common3, __core__encodeUtf8(__common30)));\n                                (targetId_1) -> {\n                                    spendsAuthorityUut = __helios__map[__helios__scriptpurpose@__helios__data]__find_key(__helios__tx__redeemers(__helios__scriptcontext__tx), (purpose_1) -> {\n                                        __core__ifThenElse(\n                                            __core__equalsInteger(__core__fstPair(__core__unConstrData(purpose_1)), 1),\n                                            () -> {\n                                                (sp_1) -> {\n                                                    __core__equalsData(__core__headList(__core__sndPair(__core__unConstrData(sp_1))), targetId_1)\n                                                }\n                                            },\n                                            () -> {\n                                                (__8) -> {\n                                                    false\n                                                }\n                                            }\n                                        )()(purpose_1)\n                                    });\n                                    (__cond_15) -> {\n                                        __core__ifThenElse(\n                                            __core__equalsInteger(__core__fstPair(__core__unConstrData(__cond_15)), 1),\n                                            () -> {\n                                                (__lhs_0_33) -> {\n                                                    error()\n                                                }\n                                            },\n                                            () -> {\n                                                (__lhs_0_28) -> {\n                                                    x_5 = __core__headList(__core__sndPair(__core__unConstrData(__lhs_0_28)));\n                                                    __core__ifThenElse(\n                                                        __core__equalsInteger(__core__fstPair(__core__unConstrData(x_5)), 1),\n                                                        () -> {\n                                                            (__lhs_0_29) -> {\n                                                                DLA = __core__headList(__core__sndPair(__core__unConstrData(__lhs_0_29)));\n                                                                __common31 = __core__unConstrData(DLA);\n                                                                __common32 = __core__fstPair(__common31);\n                                                                __core__ifThenElse(\n                                                                    __core__equalsInteger(__common32, 0),\n                                                                    () -> {\n                                                                        (__lhs_0_32) -> {\n                                                                            true\n                                                                        }\n                                                                    },\n                                                                    () -> {\n                                                                        __core__ifThenElse(\n                                                                            __core__equalsInteger(__common32, 1),\n                                                                            () -> {\n                                                                                (__lhs_0_31) -> {\n                                                                                    error()\n                                                                                }\n                                                                            },\n                                                                            () -> {\n                                                                                (__lhs_0_30) -> {\n                                                                                    error()\n                                                                                }\n                                                                            }\n                                                                        )()\n                                                                    }\n                                                                )()(DLA)\n                                                            }\n                                                        },\n                                                        () -> {\n                                                            (__9) -> {\n                                                                error()\n                                                            }\n                                                        }\n                                                    )()(x_5)\n                                                }\n                                            }\n                                        )()(__cond_15)\n                                    }(self_110 = __helios__tx__redeemers(__helios__scriptcontext__tx);\n                                    __helios__common__map_get(self_110, spendsAuthorityUut, (x_3) -> {\n                                        __core__constrData(0, __core__mkCons(x_3, __core__mkNilData(())))\n                                    }, () -> {\n                                        __core__constrData(1, __core__mkNilData(()))\n                                    }))\n                                }(__cond_13 = __helios__common__find_safe(__common19, (i_6) -> {\n                                    __helios__value____geq(self_51 = __core__headList(__core__tailList(__core__sndPair(__core__unConstrData(i_6))));\n                                    __core__unMapData(__core__headList(__core__tailList(__core__sndPair(__core__unConstrData(self_51))))), authzVal)\n                                });\n                                __core__ifThenElse(\n                                    __core__equalsInteger(__core__fstPair(__core__unConstrData(__cond_13)), 0),\n                                    () -> {\n                                        (__lhs_0_27) -> {\n                                            self_7 = __core__headList(__core__sndPair(__core__unConstrData(__lhs_0_27)));\n                                            __core__headList(__core__sndPair(__core__unConstrData(self_7)))\n                                        }\n                                    },\n                                    () -> {\n                                        (__lhs_0_26) -> {\n                                            error()\n                                        }\n                                    }\n                                )()(__cond_13))\n                            }\n                        )();\n                        valueMinted = __helios__tx__minted(__helios__scriptcontext__tx);\n                        expectedValue = __helios__value____add(__helios__value____add(__common28, __core__mkNilPairData(())), self_118 = __helios__common__map(__core__mkCons(__core__bData(#6361706f476f76), __core__mkCons(__core__bData(#6d696e74446774), __core__mkCons(__core__bData(#7370656e64446774), __core__mkNilData(())))), (item_10) -> {\n                            __core__mapData(purpose_2 = __core__decodeUtf8(__core__unBData(item_10));\n                            __module__StellarHeliosHelpers__mkTv(__common3, __core__appendString(__core__appendString(purpose_2, "-"), "ed9058c76c16")))\n                        });\n                        recurse_61 = (recurse_60, lst_12) -> {\n                            __core__chooseList(lst_12, () -> {\n                                __core__mkNilPairData(())\n                            }, () -> {\n                                __helios__value____add(__core__unMapData(__core__headList__safe(lst_12)), recurse_60(recurse_60, __core__tailList__safe(lst_12)))\n                            })()\n                        };\n                        recurse_61(recurse_61, self_118));\n                        __core__chooseUnit(__core__ifThenElse(\n                            __core__ifThenElse(\n                                mph_2 = __core__bData(__common3);\n                                recurse_21 = (recurse_20, map_7) -> {\n                                    __core__chooseList(map_7, () -> {\n                                        false\n                                    }, () -> {\n                                        __core__ifThenElse(\n                                            __core__equalsData(__core__fstPair(__core__headList__safe(map_7)), mph_2),\n                                            () -> {\n                                                true\n                                            },\n                                            () -> {\n                                                recurse_20(recurse_20, __core__tailList__safe(map_7))\n                                            }\n                                        )()\n                                    })()\n                                };\n                                recurse_21(recurse_21, valueMinted),\n                                false,\n                                true\n                            ),\n                            () -> {\n                                error()\n                            },\n                            () -> {\n                                ()\n                            }\n                        )(), __core__chooseUnit(__helios__map[__helios__bytearray@__helios__int]__for_each(__helios__value__get_policy(expectedValue, __common3), (b_19, i_9) -> {\n                            msg_2 = __core__appendString(__core__appendString(__core__appendString(__core__appendString("      expected: ", __helios__int__show(i_9)), "x "), __core__decodeUtf8(b_19)), "\n");\n                            ()\n                        }), actualMint = __helios__value__get_policy(valueMinted, __common3);\n                        __core__chooseUnit(__core__chooseUnit(__helios__map[__helios__bytearray@__helios__int]__for_each(actualMint, (b_18, i_8) -> {\n                            msg_2 = __core__appendString(__core__appendString(__core__appendString(__core__appendString("        actual: ", __helios__int__show(i_8)), "x "), __core__decodeUtf8(b_18)), "\n");\n                            ()\n                        }), msg_2 = __helios__value__show(__helios__common__filter(valueMinted, (pair_6) -> {\n                            (b_17, __11) -> {\n                                __core__ifThenElse(\n                                    __core__equalsByteString(b_17, __common3),\n                                    false,\n                                    true\n                                )\n                            }(__core__unBData(__core__fstPair(pair_6)), __core__unMapData(__core__sndPair(pair_6)))\n                        }));\n                        ()), temp = __helios__common__fold(actualMint, (z_3, pair_8) -> {\n                            (b_16, i_7) -> {\n                                __cond_22 = __helios__common__find_safe(z_3, (item_9) -> {\n                                    x_6 = __core__unBData(item_9);\n                                    __core__equalsByteString(x_6, b_16)\n                                });\n                                __core__ifThenElse(\n                                    __core__equalsInteger(__core__fstPair(__core__unConstrData(__cond_22)), 1),\n                                    () -> {\n                                        (__lhs_0_61) -> {\n                                            __core__mkCons(__core__bData(b_16), z_3)\n                                        }\n                                    },\n                                    () -> {\n                                        (__lhs_0_60) -> {\n                                            error()\n                                        }\n                                    }\n                                )()(__cond_22)\n                            }(__core__unBData(__core__fstPair(pair_8)), __core__unIData(__core__sndPair(pair_8)))\n                        }, __core__mkNilData(()));\n                        expectationsMet = __helios__value__compare(valueMinted, expectedValue, __core__equalsInteger);\n                        __core__chooseUnit(__core__ifThenElse(\n                            expectationsMet,\n                            () -> {\n                                ()\n                            },\n                            () -> {\n                                error()\n                            }\n                        )(), __core__chooseUnit(cond = __core__chooseUnit(__core__ifThenElse(\n                            b_1 = __helios__common__any(__common19, (input_1) -> {\n                                __core__equalsData(__core__headList(__core__sndPair(__core__unConstrData(input_1))), __core__constrData(0, __core__mkCons(__core__constrData(0, __core__mkCons(__core__bData(#0000000000000000000000000000000000000000000000000000000000000000), __core__mkNilData(()))), __core__mkCons(__core__iData(0), __core__mkNilData(())))))\n                            });\n                            __core__ifThenElse(\n                                b_1,\n                                false,\n                                true\n                            ),\n                            () -> {\n                                error()\n                            },\n                            () -> {\n                                ()\n                            }\n                        )(), true);\n                        (), __core__ifThenElse(\n                            delegateApproval,\n                            () -> {\n                                expectationsMet\n                            },\n                            () -> {\n                                false\n                            }\n                        )())))))\n                    }((b_1) -> {\n                        __core__ifThenElse(\n                            b_1,\n                            false,\n                            true\n                        )\n                    }(recurse_35 = (recurse_34, map_9) -> {\n                        __core__chooseList(map_9, () -> {\n                            true\n                        }, () -> {\n                            __core__ifThenElse(\n                                tokens_1 = __core__unMapData(__core__sndPair(__core__headList__safe(map_9)));\n                                recurse_33 = (recurse_32, tokens_2) -> {\n                                    __core__chooseList(tokens_2, () -> {\n                                        true\n                                    }, () -> {\n                                        __core__ifThenElse(\n                                            __core__equalsInteger(__core__unIData(__core__sndPair(__core__headList__safe(tokens_2))), 0),\n                                            () -> {\n                                                recurse_32(recurse_32, __core__tailList__safe(tokens_2))\n                                            },\n                                            () -> {\n                                                false\n                                            }\n                                        )()\n                                    })()\n                                };\n                                recurse_33(recurse_33, tokens_1),\n                                () -> {\n                                    recurse_34(recurse_34, __core__tailList__safe(map_9))\n                                },\n                                () -> {\n                                    false\n                                }\n                            )()\n                        })()\n                    };\n                    recurse_35(recurse_35, __common28))))\n                }\n            },\n            () -> {\n                __core__ifThenElse(\n                    __core__equalsInteger(__common5, 1),\n                    () -> {\n                        (__lhs_0_62) -> {\n                            (cctx) -> {\n                                (mintDgtInput) -> {\n                                    (mintDgtActivity) -> {\n                                        __core__ifThenElse(\n                                            __core__equalsInteger(__core__fstPair(__core__unConstrData(mintDgtActivity)), 0),\n                                            () -> {\n                                                (__lhs_0_54) -> {\n                                                    CLA = __core__headList(__core__sndPair(__core__unConstrData(__lhs_0_54)));\n                                                    __common10 = __core__unConstrData(CLA);\n                                                    __common11 = __core__fstPair(__common10);\n                                                    __core__ifThenElse(\n                                                        __core__equalsInteger(__common11, 0),\n                                                        () -> {\n                                                            (__lhs_0_58) -> {\n                                                                __core__ifThenElse(\n                                                                    __module__CapoHelpers__DelegateInput[]__requiresValidOutput(mintDgtInput),\n                                                                    () -> {\n                                                                        true\n                                                                    },\n                                                                    () -> {\n                                                                        false\n                                                                    }\n                                                                )()\n                                                            }\n                                                        },\n                                                        () -> {\n                                                            __core__ifThenElse(\n                                                                __core__equalsInteger(__common11, 1),\n                                                                () -> {\n                                                                    (__lhs_0_57) -> {\n                                                                        __core__ifThenElse(\n                                                                            __module__CapoHelpers__DelegateInput[]__requiresValidOutput(mintDgtInput),\n                                                                            () -> {\n                                                                                true\n                                                                            },\n                                                                            () -> {\n                                                                                false\n                                                                            }\n                                                                        )()\n                                                                    }\n                                                                },\n                                                                () -> {\n                                                                    __core__ifThenElse(\n                                                                        __core__equalsInteger(__common11, 4),\n                                                                        () -> {\n                                                                            (__lhs_0_56) -> {\n                                                                                error()\n                                                                            }\n                                                                        },\n                                                                        () -> {\n                                                                            __core__ifThenElse(\n                                                                                __core__equalsInteger(__common11, 5),\n                                                                                () -> {\n                                                                                    (__lhs_0_55) -> {\n                                                                                        error()\n                                                                                    }\n                                                                                },\n                                                                                () -> {\n                                                                                    (__10) -> {\n                                                                                        error()\n                                                                                    }\n                                                                                }\n                                                                            )()\n                                                                        }\n                                                                    )()\n                                                                }\n                                                            )()\n                                                        }\n                                                    )()(CLA)\n                                                }\n                                            },\n                                            () -> {\n                                                __core__ifThenElse(\n                                                    __core__equalsInteger(__core__fstPair(__core__unConstrData(mintDgtActivity)), 2),\n                                                    () -> {\n                                                        (__lhs_0_53) -> {\n                                                            error()\n                                                        }\n                                                    },\n                                                    () -> {\n                                                        __core__ifThenElse(\n                                                            __core__equalsInteger(__core__fstPair(__core__unConstrData(mintDgtActivity)), 1),\n                                                            () -> {\n                                                                (__lhs_0_49) -> {\n                                                                    DLA_1 = __core__headList(__core__sndPair(__core__unConstrData(__lhs_0_49)));\n                                                                    __common26 = __core__unConstrData(DLA_1);\n                                                                    __common27 = __core__fstPair(__common26);\n                                                                    __core__ifThenElse(\n                                                                        __core__equalsInteger(__common27, 0),\n                                                                        () -> {\n                                                                            (__lhs_0_52) -> {\n                                                                                true\n                                                                            }\n                                                                        },\n                                                                        () -> {\n                                                                            __core__ifThenElse(\n                                                                                __core__equalsInteger(__common27, 1),\n                                                                                () -> {\n                                                                                    (__lhs_0_51) -> {\n                                                                                        error()\n                                                                                    }\n                                                                                },\n                                                                                () -> {\n                                                                                    (__lhs_0_50) -> {\n                                                                                        error()\n                                                                                    }\n                                                                                }\n                                                                            )()\n                                                                        }\n                                                                    )()(DLA_1)\n                                                                }\n                                                            },\n                                                            () -> {\n                                                                __core__ifThenElse(\n                                                                    __core__equalsInteger(__core__fstPair(__core__unConstrData(mintDgtActivity)), 3),\n                                                                    () -> {\n                                                                        (__lhs_0_48) -> {\n                                                                            __core__ifThenElse(\n                                                                                __module__CapoHelpers__DelegateInput[]__requiresValidOutput(mintDgtInput),\n                                                                                () -> {\n                                                                                    true\n                                                                                },\n                                                                                () -> {\n                                                                                    false\n                                                                                }\n                                                                            )()\n                                                                        }\n                                                                    },\n                                                                    () -> {\n                                                                        __core__ifThenElse(\n                                                                            __core__equalsInteger(__core__fstPair(__core__unConstrData(mintDgtActivity)), 4),\n                                                                            () -> {\n                                                                                (__lhs_0_47) -> {\n                                                                                    __core__ifThenElse(\n                                                                                        __module__CapoHelpers__DelegateInput[]__requiresValidOutput(mintDgtInput),\n                                                                                        () -> {\n                                                                                            true\n                                                                                        },\n                                                                                        () -> {\n                                                                                            false\n                                                                                        }\n                                                                                    )()\n                                                                                }\n                                                                            },\n                                                                            () -> {\n                                                                                __core__ifThenElse(\n                                                                                    __core__equalsInteger(__core__fstPair(__core__unConstrData(mintDgtActivity)), 5),\n                                                                                    () -> {\n                                                                                        (__lhs_0_46) -> {\n                                                                                            __core__ifThenElse(\n                                                                                                __module__CapoHelpers__DelegateInput[]__requiresValidOutput(mintDgtInput),\n                                                                                                () -> {\n                                                                                                    true\n                                                                                                },\n                                                                                                () -> {\n                                                                                                    false\n                                                                                                }\n                                                                                            )()\n                                                                                        }\n                                                                                    },\n                                                                                    () -> {\n                                                                                        __core__ifThenElse(\n                                                                                            __core__equalsInteger(__core__fstPair(__core__unConstrData(mintDgtActivity)), 7),\n                                                                                            () -> {\n                                                                                                (__lhs_0_45) -> {\n                                                                                                    __core__ifThenElse(\n                                                                                                        __module__CapoHelpers__DelegateInput[]__requiresValidOutput(mintDgtInput),\n                                                                                                        () -> {\n                                                                                                            true\n                                                                                                        },\n                                                                                                        () -> {\n                                                                                                            false\n                                                                                                        }\n                                                                                                    )()\n                                                                                                }\n                                                                                            },\n                                                                                            () -> {\n                                                                                                __core__ifThenElse(\n                                                                                                    __core__equalsInteger(__core__fstPair(__core__unConstrData(mintDgtActivity)), 6),\n                                                                                                    () -> {\n                                                                                                        (__lhs_0_44) -> {\n                                                                                                            error()\n                                                                                                        }\n                                                                                                    },\n                                                                                                    () -> {\n                                                                                                        (__lhs_0_34) -> {\n                                                                                                            ma = __core__unListData(__core__headList(__core__sndPair(__core__unConstrData(__lhs_0_34))));\n                                                                                                            __core__ifThenElse(\n                                                                                                                __module__CapoHelpers__DelegateInput[]__requiresValidOutput(mintDgtInput),\n                                                                                                                () -> {\n                                                                                                                    recurse_45 = (recurse_44, self_41, fn_9) -> {\n                                                                                                                        __core__chooseList(self_41, () -> {\n                                                                                                                            true\n                                                                                                                        }, () -> {\n                                                                                                                            __core__ifThenElse(\n                                                                                                                                fn_9(__core__headList__safe(self_41)),\n                                                                                                                                () -> {\n                                                                                                                                    recurse_44(recurse_44, __core__tailList__safe(self_41), fn_9)\n                                                                                                                                },\n                                                                                                                                () -> {\n                                                                                                                                    false\n                                                                                                                                }\n                                                                                                                            )()\n                                                                                                                        })()\n                                                                                                                    };\n                                                                                                                    recurse_45(recurse_45, __helios__common__map(ma, (item_7) -> {\n                                                                                                                        item_7\n                                                                                                                    }), (mintDgtActivity_1) -> {\n                                                                                                                        __core__ifThenElse(\n                                                                                                                            __core__equalsInteger(__core__fstPair(__core__unConstrData(mintDgtActivity_1)), 5),\n                                                                                                                            () -> {\n                                                                                                                                (__lhs_0_43) -> {\n                                                                                                                                    true\n                                                                                                                                }\n                                                                                                                            },\n                                                                                                                            () -> {\n                                                                                                                                __core__ifThenElse(\n                                                                                                                                    __core__equalsInteger(__core__fstPair(__core__unConstrData(mintDgtActivity_1)), 7),\n                                                                                                                                    () -> {\n                                                                                                                                        (__lhs_0_42) -> {\n                                                                                                                                            true\n                                                                                                                                        }\n                                                                                                                                    },\n                                                                                                                                    () -> {\n                                                                                                                                        __core__ifThenElse(\n                                                                                                                                            __core__equalsInteger(__core__fstPair(__core__unConstrData(mintDgtActivity_1)), 3),\n                                                                                                                                            () -> {\n                                                                                                                                                (__lhs_0_41) -> {\n                                                                                                                                                    error()\n                                                                                                                                                }\n                                                                                                                                            },\n                                                                                                                                            () -> {\n                                                                                                                                                __core__ifThenElse(\n                                                                                                                                                    __core__equalsInteger(__core__fstPair(__core__unConstrData(mintDgtActivity_1)), 4),\n                                                                                                                                                    () -> {\n                                                                                                                                                        (__lhs_0_40) -> {\n                                                                                                                                                            error()\n                                                                                                                                                        }\n                                                                                                                                                    },\n                                                                                                                                                    () -> {\n                                                                                                                                                        __core__ifThenElse(\n                                                                                                                                                            __core__equalsInteger(__core__fstPair(__core__unConstrData(mintDgtActivity_1)), 8),\n                                                                                                                                                            () -> {\n                                                                                                                                                                (__lhs_0_39) -> {\n                                                                                                                                                                    error()\n                                                                                                                                                                }\n                                                                                                                                                            },\n                                                                                                                                                            () -> {\n                                                                                                                                                                __core__ifThenElse(\n                                                                                                                                                                    __core__equalsInteger(__core__fstPair(__core__unConstrData(mintDgtActivity_1)), 6),\n                                                                                                                                                                    () -> {\n                                                                                                                                                                        (__lhs_0_38) -> {\n                                                                                                                                                                            error()\n                                                                                                                                                                        }\n                                                                                                                                                                    },\n                                                                                                                                                                    () -> {\n                                                                                                                                                                        __core__ifThenElse(\n                                                                                                                                                                            __core__equalsInteger(__core__fstPair(__core__unConstrData(mintDgtActivity_1)), 2),\n                                                                                                                                                                            () -> {\n                                                                                                                                                                                (__lhs_0_37) -> {\n                                                                                                                                                                                    error()\n                                                                                                                                                                                }\n                                                                                                                                                                            },\n                                                                                                                                                                            () -> {\n                                                                                                                                                                                __core__ifThenElse(\n                                                                                                                                                                                    __core__equalsInteger(__core__fstPair(__core__unConstrData(mintDgtActivity_1)), 0),\n                                                                                                                                                                                    () -> {\n                                                                                                                                                                                        (__lhs_0_36) -> {\n                                                                                                                                                                                            error()\n                                                                                                                                                                                        }\n                                                                                                                                                                                    },\n                                                                                                                                                                                    () -> {\n                                                                                                                                                                                        (__lhs_0_35) -> {\n                                                                                                                                                                                            error()\n                                                                                                                                                                                        }\n                                                                                                                                                                                    }\n                                                                                                                                                                                )()\n                                                                                                                                                                            }\n                                                                                                                                                                        )()\n                                                                                                                                                                    }\n                                                                                                                                                                )()\n                                                                                                                                                            }\n                                                                                                                                                        )()\n                                                                                                                                                    }\n                                                                                                                                                )()\n                                                                                                                                            }\n                                                                                                                                        )()\n                                                                                                                                    }\n                                                                                                                                )()\n                                                                                                                            }\n                                                                                                                        )()(mintDgtActivity_1)\n                                                                                                                    })\n                                                                                                                },\n                                                                                                                () -> {\n                                                                                                                    false\n                                                                                                                }\n                                                                                                            )()\n                                                                                                        }\n                                                                                                    }\n                                                                                                )()\n                                                                                            }\n                                                                                        )()\n                                                                                    }\n                                                                                )()\n                                                                            }\n                                                                        )()\n                                                                    }\n                                                                )()\n                                                            }\n                                                        )()\n                                                    }\n                                                )()\n                                            }\n                                        )()(mintDgtActivity)\n                                    }((i_5) -> {\n                                        __common22 = __core__unConstrData(i_5);\n                                        __common23 = __core__sndPair(__common22);\n                                        __common9 = __core__headList(__common23);\n                                        (inputData) -> {\n                                            __core__chooseUnit(__core__ifThenElse(\n                                                __core__chooseData(inputData, () -> {\n                                                    true\n                                                }, () -> {\n                                                    false\n                                                }, () -> {\n                                                    false\n                                                }, () -> {\n                                                    false\n                                                }, () -> {\n                                                    false\n                                                })(),\n                                                () -> {\n                                                    __common24 = __core__unConstrData(__common9);\n                                                    __common25 = __core__sndPair(__common24);\n                                                    (__lhs_0_19) -> {\n                                                        index_5 = __core__fstPair(__core__unConstrData(__lhs_0_19));\n                                                        fields_5 = __core__sndPair(__core__unConstrData(__lhs_0_19));\n                                                        __core__chooseUnit(msg_2 = __core__appendString(__core__appendString(__core__appendString("    ---- from input id:", self_25 = __core__headList(__common25);\n                                                        __helios__bytearray__show(__core__unBData(__core__headList(__core__sndPair(__core__unConstrData(self_25)))))()), "#"), __helios__int__show(__core__unIData(__core__headList(__core__tailList(__common25)))));\n                                                        (), __core__chooseUnit(msg_2 = __core__appendString("       = ", __helios__value__show(self_51 = __core__headList(__core__tailList(__common23));\n                                                        __core__unMapData(__core__headList(__core__tailList(__core__sndPair(__core__unConstrData(self_51)))))));\n                                                        (), __core__chooseUnit(__core__ifThenElse(\n                                                            __core__equalsInteger(index_5, index_5),\n                                                            () -> {\n                                                                ()\n                                                            },\n                                                            () -> {\n                                                                error()\n                                                            }\n                                                        )(), __core__ifThenElse(\n                                                            __core__ifThenElse(\n                                                                __core__lessThanEqualsInteger(recurse_49 = (recurse_48, lst_8) -> {\n                                                                    __core__chooseList(lst_8, () -> {\n                                                                        0\n                                                                    }, () -> {\n                                                                        __core__addInteger(recurse_48(recurse_48, __core__tailList__safe(lst_8)), 1)\n                                                                    })()\n                                                                };\n                                                                recurse_49(recurse_49, fields_5), 0),\n                                                                false,\n                                                                true\n                                                            ),\n                                                            () -> {\n                                                                ()\n                                                            },\n                                                            () -> {\n                                                                error()\n                                                            }\n                                                        )())))\n                                                    }\n                                                },\n                                                () -> {\n                                                    (__5) -> {\n                                                        ()\n                                                    }\n                                                }\n                                            )()(inputData), inputData)\n                                        }(redeemers = __helios__tx__redeemers(__helios__scriptcontext__tx);\n                                        spendsExpectedInput = __helios__map[__helios__scriptpurpose@__helios__data]__find_key(redeemers, (purpose) -> {\n                                            __core__ifThenElse(\n                                                __core__equalsInteger(__core__fstPair(__core__unConstrData(purpose)), 1),\n                                                () -> {\n                                                    (sp) -> {\n                                                        __core__equalsData(__core__headList(__core__sndPair(__core__unConstrData(sp))), __common9)\n                                                    }\n                                                },\n                                                () -> {\n                                                    (__1) -> {\n                                                        false\n                                                    }\n                                                }\n                                            )()(purpose)\n                                        });\n                                        __helios__common__map_get(redeemers, spendsExpectedInput, (x_2) -> {\n                                            x_2\n                                        }, () -> {\n                                            error()\n                                        }))\n                                    }(self_7 = __core__headList(__core__tailList(__core__tailList(__core__tailList(mintDgtInput))));\n                                    __core__headList(__core__sndPair(__core__unConstrData(self_7)))))\n                                }(dgtLink = __module__CapoHelpers__CapoDatum[]__CharterData__mintDelegateLink(__cond_11 = __core__headList(__core__tailList(cctx));\n                                __common17 = __core__fstPair(__core__unConstrData(__cond_11));\n                                __core__ifThenElse(\n                                    __core__equalsInteger(__common17, 1),\n                                    () -> {\n                                        (self_94) -> {\n                                            data_41 = __core__headList(__core__sndPair(__core__unConstrData(self_94)));\n                                            __helios__common__assert_constr_index(data_41, 0)\n                                        }\n                                    },\n                                    () -> {\n                                        __core__ifThenElse(\n                                            __core__equalsInteger(__common17, 2),\n                                            () -> {\n                                                (self_95) -> {\n                                                    data_41 = __core__headList(__core__sndPair(__core__unConstrData(self_95)));\n                                                    __helios__common__assert_constr_index(data_41, 0)\n                                                }\n                                            },\n                                            () -> {\n                                                (__6) -> {\n                                                    error()\n                                                }\n                                            }\n                                        )()\n                                    }\n                                )()(__cond_11));\n                                __common6 = __core__headList(cctx);\n                                __common7 = __core__unBData(__common6);\n                                (input) -> {\n                                    __core__mkCons(__core__listData(dgtLink), __core__mkCons(__core__constrData(0, __core__mkNilData(())), __core__mkCons(__core__constrData(1, __core__mkNilData(())), __core__mkCons(input, __core__mkCons(__core__bData(__common7), __core__mkNilData(()))))))\n                                }(inputs = __core__unListData(__core__headList(__core__sndPair(__core__unConstrData(__helios__scriptcontext__tx))));\n                                __cond_1 = __core__headList(__core__tailList(dgtLink));\n                                __core__ifThenElse(\n                                    __core__equalsInteger(__core__fstPair(__core__unConstrData(__cond_1)), 1),\n                                    () -> {\n                                        (__lhs_0_2) -> {\n                                            error()\n                                        }\n                                    },\n                                    () -> {\n                                        __common8 = __core__headList(dgtLink);\n                                        __common20 = __core__unBData(__common8);\n                                        __common21 = __core__decodeUtf8(__common20);\n                                        (__lhs_0) -> {\n                                            vh_2 = __core__unBData(__core__headList(__core__sndPair(__core__unConstrData(__lhs_0))));\n                                            needsAddrWithCred = __core__constrData(1, __core__mkCons(__core__bData(vh_2), __core__mkNilData(())));\n                                            expectedUut = __module__StellarHeliosHelpers__mkTv(__common7, __common21);\n                                            __cond_2 = __helios__common__find_safe(inputs, (i_4) -> {\n                                                __core__ifThenElse(\n                                                    __core__equalsData((self_7) -> {\n                                                        __core__headList(__core__sndPair(__core__unConstrData(self_7)))\n                                                    }(self_7 = __core__headList(__core__tailList(__core__sndPair(__core__unConstrData(i_4))));\n                                                    __core__headList(__core__sndPair(__core__unConstrData(self_7)))), needsAddrWithCred),\n                                                    () -> {\n                                                        __helios__value____geq(self_51 = __core__headList(__core__tailList(__core__sndPair(__core__unConstrData(i_4))));\n                                                        __core__unMapData(__core__headList(__core__tailList(__core__sndPair(__core__unConstrData(self_51))))), expectedUut)\n                                                    },\n                                                    () -> {\n                                                        false\n                                                    }\n                                                )()\n                                            });\n                                            __core__ifThenElse(\n                                                __core__equalsInteger(__core__fstPair(__core__unConstrData(__cond_2)), 0),\n                                                () -> {\n                                                    (foundGood) -> {\n                                                        foundGood\n                                                    }\n                                                },\n                                                () -> {\n                                                    (__lhs_0_1) -> {\n                                                        error()\n                                                    }\n                                                }\n                                            )()(__cond_2)\n                                        }\n                                    }\n                                )()(__cond_1)))\n                            }(self_108 = __core__mkCons(__core__bData(__common3), __core__mkCons(__core__constrData(0, __core__mkNilData(())), __core__mkNilData(())));\n                            charter_1 = __core__headList(__core__tailList(self_108));\n                            __common15 = __core__unConstrData(charter_1);\n                            __common16 = __core__fstPair(__common15);\n                            __core__ifThenElse(\n                                __core__equalsInteger(__common16, 1),\n                                () -> {\n                                    (__lhs_0_25) -> {\n                                        self_108\n                                    }\n                                },\n                                () -> {\n                                    __core__ifThenElse(\n                                        __core__equalsInteger(__common16, 2),\n                                        () -> {\n                                            (__lhs_0_24) -> {\n                                                error()\n                                            }\n                                        },\n                                        () -> {\n                                            (__lhs_0_22) -> {\n                                                mph_16 = __core__unBData(__core__headList(self_108));\n                                                (utxo_1) -> {\n                                                    datum_3 = __helios__common__assert_constr_index(data_41 = __helios__txoutputdatum__inline(self_57 = __core__headList(__core__tailList(__core__sndPair(__core__unConstrData(utxo_1))));\n                                                    __core__headList(__core__tailList(__core__tailList(__core__sndPair(__core__unConstrData(self_57))))));\n                                                    __helios__common__assert_constr_index(data_41, 0), 0);\n                                                    __core__mkCons(__core__bData(mph_16), __core__mkCons(__core__constrData(1, __core__mkCons(datum_3, __core__mkCons(utxo_1, __core__mkNilData(())))), __core__mkNilData(())))\n                                                }(chVal = __module__StellarHeliosHelpers__mkTv(mph_16, "charter");\n                                                (__cond_7) -> {\n                                                    __core__ifThenElse(\n                                                        __core__equalsInteger(__core__fstPair(__core__unConstrData(__cond_7)), 0),\n                                                        () -> {\n                                                            (self_7) -> {\n                                                                __core__headList(__core__sndPair(__core__unConstrData(self_7)))\n                                                            }\n                                                        },\n                                                        () -> {\n                                                            (__lhs_0_13) -> {\n                                                                error()\n                                                            }\n                                                        }\n                                                    )()(__cond_7)\n                                                }(self_86 = __core__unListData(__core__headList(__core__tailList(__core__sndPair(__core__unConstrData(__helios__scriptcontext__tx)))));\n                                                __helios__common__find_safe(self_86, (txin) -> {\n                                                    __helios__value____geq(self_51 = __core__headList(__core__tailList(__core__sndPair(__core__unConstrData(txin))));\n                                                    __core__unMapData(__core__headList(__core__tailList(__core__sndPair(__core__unConstrData(self_51))))), chVal)\n                                                })))\n                                            }\n                                        }\n                                    )()\n                                }\n                            )()(charter_1))\n                        }\n                    },\n                    () -> {\n                        (__12) -> {\n                            true\n                        }\n                    }\n                )()\n            }\n        )()(__REDEEMER),\n        () -> {\n            ()\n        },\n        () -> {\n            error()\n        }\n    )()\n}'
    }

    const uplcProgram0 = compile(json.unoptimizedIR, {
        optimize: false,
        parseOptions: {
            ...DEFAULT_PARSE_OPTIONS,
            builtinsPrefix: "__core__"
        }
    })
    const uplcProgram1 = compile(json.unoptimizedIR, {
        optimize: true,
        parseOptions: {
            ...DEFAULT_PARSE_OPTIONS,
            builtinsPrefix: "__core__"
        }
    })

    const args = [
        makeConstrData(0, []).toCbor(),
        "d8799fd8799f9fd8799fd8799fd8799f58200000000000000000000000000000000000000000000000000000000000000000ff00ffd8799fd8799fd8799f581cc2fcd5418a73f17f04c4817b139937032cf7a40a47d5fc41aa1bad07ffd8799fd8799fd8799f581c4f1b3a039c55f7eb06246b40ccff8eeb195c6eb78995290e0c3233c3ffffffffa140a1401b000000028fa6ae00d87980d87a80ffffff809fd8799fd8799fd8799f581cc2fcd5418a73f17f04c4817b139937032cf7a40a47d5fc41aa1bad07ffd8799fd8799fd8799f581c4f1b3a039c55f7eb06246b40ccff8eeb195c6eb78995290e0c3233c3ffffffffa240a1401a00128bbc581cc3a22129a59eec88f94fe20cb57da7f1fa698f1b6a3a278d991312cca1546361706f476f762d65643930353863373663313601d87980d87a80ffd8799fd8799fd87a9f581c91d21b8eda2ee72418c970251d9e0b30b008cfe6f0bbcd34e301ef98ffd87a80ffa240a1401a00179c1a581cc3a22129a59eec88f94fe20cb57da7f1fa698f1b6a3a278d991312cca1546d696e744467742d65643930353863373663313601d87b9fd87a9f9fd8799fd87a9f581cc203839eea509d3dba3c15f0f6241153785ea7619cdc654636fc88aeffd87a80ff581cc3a22129a59eec88f94fe20cb57da7f1fa698f1b6a3a278d991312cc546d696e744467742d656439303538633736633136ffffffd87a80ffd8799fd8799fd87a9f581c91d21b8eda2ee72418c970251d9e0b30b008cfe6f0bbcd34e301ef98ffd87a80ffa240a1401a0017bdc6581cc3a22129a59eec88f94fe20cb57da7f1fa698f1b6a3a278d991312cca1557370656e644467742d65643930353863373663313601d87b9fd87a9f9fd8799fd87a9f581cc203839eea509d3dba3c15f0f6241153785ea7619cdc654636fc88aeffd87a80ff581cc3a22129a59eec88f94fe20cb57da7f1fa698f1b6a3a278d991312cc557370656e644467742d656439303538633736633136ffffffd87a80ffd8799fd8799fd87a9f581cc203839eea509d3dba3c15f0f6241153785ea7619cdc654636fc88aeffd87a80ffa240a1401a002f8c62581cc3a22129a59eec88f94fe20cb57da7f1fa698f1b6a3a278d991312cca1476368617274657201d87b9fd8799f9f557370656e644467742d656439303538633736633136d8799f581c91d21b8eda2ee72418c970251d9e0b30b008cfe6f0bbcd34e301ef98ff5f58407b22726576223a2231222c2269735370656e6444656c6567617465223a747275652c2264656c65676174654e616d65223a226d696e7444656c6567617465222c562269734d696e7444656c6567617465223a747275657dffff80a09f546d696e744467742d656439303538633736633136d8799f581c91d21b8eda2ee72418c970251d9e0b30b008cfe6f0bbcd34e301ef98ff5f58407b22726576223a2231222c2269735370656e6444656c6567617465223a747275652c2264656c65676174654e616d65223a226d696e7444656c6567617465222c562269734d696e7444656c6567617465223a747275657dffff809f546361706f476f762d656439303538633736633136d87a805f58407b22726576223a2231222c226164647248696e74223a5b22616464725f746573743171727030653432703366656c7a6c6379636a71686b7975657875706a65615840617970667261746c7a7034676436367036307276617138387a34376c347376667274677278306c72687472397778616475666a3535737572706a783070736634476a717771225d7dffffa080ffffd87a80ffd8799fd8799fd8799f581cc2fcd5418a73f17f04c4817b139937032cf7a40a47d5fc41aa1bad07ffd8799fd8799fd8799f581c4f1b3a039c55f7eb06246b40ccff8eeb195c6eb78995290e0c3233c3ffffffffa140a1401b000000028f2d54cbd87980d87a80ffffa140a1401a0007e737a240a14000581cc3a22129a59eec88f94fe20cb57da7f1fa698f1b6a3a278d991312cca4476368617274657201546361706f476f762d65643930353863373663313601546d696e744467742d65643930353863373663313601557370656e644467742d6564393035386337366331360180a0d8799fd8799fd87980d87a80ffd8799fd87b80d87a80ffff80a1d8799f581cc3a22129a59eec88f94fe20cb57da7f1fa698f1b6a3a278d991312ccffd8799fd8799fd87a9f581cc203839eea509d3dba3c15f0f6241153785ea7619cdc654636fc88aeffd87a80ffffa0d8799f5820e4eb1c812aad514d8a18dbe44ee4dac38eab540883f652ddd123fbec3dec1130ffffd8799f581cc3a22129a59eec88f94fe20cb57da7f1fa698f1b6a3a278d991312ccffff"
    ].map((cbor) => makeUplcDataValue(decodeUplcData(cbor)))

    /**
     * @param {UplcProgramV2} program
     */
    const evalProgram = (program) => {
        const res = program.eval(args, { logOptions: makeBasicUplcLogger() })

        if (isRight(res.result)) {
            console.log("result: ", res.result.right.toString())
            return "result: " + res.result.right.toString()
        } else if (isLeft(res.result)) {
            console.log("error: ", res.result.left.error)
            return "error: " + res.result.left.error
        }
    }

    strictEqual(evalProgram(uplcProgram0), evalProgram(uplcProgram1))
})
